{"pages":[{"title":"About","text":"","link":"/about/"},{"title":"Category","text":"","link":"/categories/"},{"title":"METAL HUNTER","text":"back to gallery","link":"/gallery/horizon"},{"title":"books","text":"","link":"/books/"},{"title":"Repositories","text":"","link":"/repository/"},{"title":"share","text":"","link":"/share/"},{"title":"Tag","text":"","link":"/tags/"},{"title":"Gallery ç”»å»Š","text":"ğŸ® æœºæ¢°çŒäºº ã€ŠHorizon: Zero Dawnã€‹æ¸¸æˆå‰ªå½± åŸå§‹ä¸–ç•Œé‡Œæ´»è·ƒçš„â€æœºæ¢°ç”Ÿå‘½ä½“â€œï¼Œå¤å¥¥æ£®ç„¶çš„å‰äººç±»æ–‡æ˜é—è¿¹ï¼Œå†·å…µå™¨ç¢°æ’ä¸Šæœºç”²æŠ¤æ¿æ‘©æ“¦å‡ºçš„å±‚å±‚ç«èŠ±ï¼ŒZero Dawn è¿™æ¬¾æ¸¸æˆå¸¦ç»™äº†æˆ‘å¤ªå¤šå¤ªå¤šçš„è§†è§‰äº«å—å’Œæˆ˜æ–—è¶£å‘³ã€‚æ²¡è½çš„ä¸–ç•Œç¢°æ’ä¸Šé—ç•™çš„æœºæ¢°ä½“ï¼Œé€ å°±å‡ºä¸€åº§å¹»æƒ³æ®¿å ‚ï¼Œè®©äººä¸ç”±è‡ªä¸»åœ°ç©¿æ¢­å…¶ä¸­ï¼Œæµè¿å¿˜è¿”ã€‚ view more ğŸ–Šç±³å±±èˆã®ãƒšãƒ³ ç”»å¸ˆï¼šç±³å±±èˆ å…³é”®è¯ï¼šå°‘å¥³ä¸æ½®æœ","link":"/gallery/"}],"posts":[{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;C++å…¥é—¨è¯¾","text":"C/C++ è¯¾ç¨‹ç¬”è®° ç»ªè®º é¢å‘å¯¹è±¡ é¢å‘å¯¹è±¡çš„æ ¸å¿ƒï¼š å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€ é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„å››ä¸ªé˜¶æ®µ ç³»ç»Ÿåˆ†æã€ç³»ç»Ÿè®¾è®¡ã€å¯¹è±¡è®¾è®¡å’Œå¯¹è±¡å®ç° ç¼–è¯‘æŠ€æœ¯ ç¼–è¯‘è¿‡ç¨‹ï¼š é¢„å¤„ç† è¯æ³•åˆ†æï¼šäº§ç”Ÿä¸€ä¸ªç¨‹åºçš„å•è¯åºåˆ— è¯­æ³•åˆ†æï¼šæ£€æŸ¥ç¨‹åºè¯­æ³•ç»“æ„ ä»£ç ç”Ÿæˆï¼šç”Ÿæˆä¸­é—´ä»£ç  æ¨¡å—è¿æ¥ï¼šä¸­é—´ä»£ç ä¸åº“è¿æ¥ï¼Œå½¢æˆä¸€ä¸ªå¯æ‰§è¡Œçš„ç¨‹åº é™æ€é“¾æ¥ &amp; åŠ¨æ€é“¾æ¥ï¼šä»£ç ä¸å‡½æ•°åº“çš„è¿æ¥æ–¹å¼ é™æ€ç»‘å®š &amp; åŠ¨æ€ç»‘å®šï¼šè®¡ç®—å‡½æ•°å…¥å£åœ°å€çš„æ–¹å¼ C++åŸºç¡€ é‡ç‚¹ï¼šconstã€å¼•ç”¨ç±»å‹ å¼ºç±»å‹ ä¸ºæ‰€æœ‰å˜é‡æŒ‡å®šæ•°æ®ç±»å‹ å…ˆå£°æ˜åä½¿ç”¨ ä¸åŒç±»å‹çš„å˜é‡ç›¸äº’æ“ä½œæ—¶åº”åŠ ç±»å‹è½¬æ¢ å¸¸é‡ constã€volitileå’Œmutable volitile ç±»å‹ï¼šæ˜“å¤±æ€§ï¼Œä¼˜åŒ–å™¨ä¸å¯¹è¯¥å˜é‡çš„è¯»å–è¿›è¡Œä¼˜åŒ–ï¼Œç”¨åˆ°è¯¥å˜é‡æ—¶é‡ æ–°ä»å®ƒæ‰€åœ¨çš„å†…å­˜è¯»å–æ•°æ®ã€‚ ä¿®é¥°çš„å˜é‡å¯ç”±æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶ã€å¹¶å‘æ‰§è¡Œçš„çº¿ç¨‹åœ¨ç¨‹åºä¸­è¿›è¡Œä¿®æ”¹ã€‚ mutableç±»å‹ï¼š å¯å˜æ€§ï¼Œæ˜¯const çš„åä¹‰è¯ï¼Œä¸ºçªç ´ constçš„é™åˆ¶è€Œè®¾ç½®çš„ï¼›è¢«mutable ä¿®é¥°çš„å˜é‡æ°¸è¿œå¤„äºå¯å˜å¾—çŠ¶æ€ï¼Œå³ä½¿åœ¨ constå‡½æ•°ä¸­ï¼› mutableåªèƒ½ç”¨æ¥ä¿®é¥°æ•°æ®æˆå‘˜ï¼›ä¸èƒ½ä¸ constã€volatile æˆ– static åŒæ—¶å‡ºç° å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œå¿…é¡»åœ¨å®šä¹‰æ—¶ï¼Œèµ‹åˆå€¼ï¼› const ä¿®é¥°ç¬¦ä¸ç±»å‹ä¿®é¥°ç¬¦å¯ä»¥å¯¹è°ƒ ; å¸¸é‡ä¸èƒ½åœ¨èµ‹å€¼å·å·¦è¾¹å‡ºç°ï¼› å¸¸é‡å¯ä»¥åœ¨èµ‹å€¼å·å³è¾¹å‡ºç°ï¼› å¸¸é‡çš„åœ°å€ï¼Œåªèƒ½èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆ; å¼ºåˆ¶è®¿é—® å¸¸é‡çš„è®¿é—®ï¼šå¸¸é‡çš„åœ°å€ï¼Œå¯ä»¥è¿›è¡Œå¼ºåˆ¶åœ°å€ç±»å‹è½¬æ¢ï¼› è½¬æ¢åï¼Œå¯ä»¥åœ¨èµ‹å€¼å·å·¦å³éƒ½å‡ºç°ï¼›ç»•è¿‡constçš„æ–¹æ³•ï¼šå¯¹å…¶åœ°å€è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå†è§£æã€‚ å¤–éƒ¨å¯¹ç§æœ‰æˆå‘˜è®¿é—®ï¼šå¯¹å¯¹è±¡å–åœ°å€ç„¶åè¿›è¡ŒæŒ‡é’ˆçš„å¼ºåˆ¶ç±»å‹è½¬æ¢ ç±»ä¸å¸¸é‡ å¸¸æˆå‘˜å‡½æ•° returnType func(...) const; ä¸å¯ä¿®æ”¹éé™æ€æ•°æ®æˆå‘˜ ä¸å¾—è°ƒç”¨å…¶ä»–é const çš„æˆå‘˜å‡½æ•° å¸¸å¯¹è±¡ ç±»å const å¯¹è±¡å(å®å‚è¡¨); æˆ– const ç±»å å¯¹è±¡å(å®å‚è¡¨); æ•´ä¸ªå¯¹è±¡çš„æ•°æ®æˆå‘˜éƒ½ä¸å…è®¸ä¿®æ”¹ã€‚ åœ¨å®šä¹‰å¸¸å¯¹è±¡æ—¶ä¸€å®šè¦åˆå§‹åŒ–ã€‚ å¼•ç”¨ å®šä¹‰å¼•ç”¨å˜é‡æ—¶å°±ä¸€å®šè¦æ­£ç¡®åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–åæŒ‡å‘ä¸å¯å˜ å¼•ç”¨å˜é‡ä¸­å­˜æ”¾çš„æ˜¯è¢«å¼•ç”¨å˜é‡çš„åœ°å€ï¼› å…¶æœ¬è´¨æ˜¯æŒ‡é’ˆï¼› åœ¨æœ‰ä¸²æ¥ï¼ˆå¤šçº§ï¼‰å¼•ç”¨æ—¶ï¼Œéƒ½æ˜¯æŒ‡å‘æœ€ç»ˆè¢«å¼•ç”¨çš„å˜é‡ï¼› ä¸äºŒçº§ï¼ˆå¤šçº§ï¼‰æŒ‡é’ˆæœ‰å¾ˆå¤§çš„å·®åˆ«ï¼› ä½¿ç”¨å¼•ç”¨å˜é‡ï¼Œæ“ä½œå¯¹è±¡éƒ½æ˜¯è¢«å¼•ç”¨çš„å˜é‡ å¼•ç”¨å¿…é¡»ä¸åˆæ³•çš„å­˜å‚¨å•å…ƒå…³è”ï¼Œä¸å­˜åœ¨æ— æ³•å–å€çš„é‡çš„å¼•ç”¨ï¼ˆæ¯”å¦‚å‡½æ•°è¿”å›çš„ä¸´æ—¶å€¼ï¼‰ å‡½æ•°å‚æ•°åŠè¿”å›å€¼ å¦‚æœæŸä¸ªå‚æ•°ç»™äº†ç¼ºçœå€¼ï¼Œå…¶å³è¾¹çš„å‚æ•°éƒ½éœ€è¦ç»™å‚æ•°å€¼ã€‚ å·¦å³å€¼è¡¨è¾¾å¼ å³å€¼å¼•ç”¨ æ ¼å¼ï¼štype &amp;&amp;x å³å€¼å¼•ç”¨ä¹Ÿå¿…é¡»ç«‹å³è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œä¸”åªèƒ½ä½¿ç”¨å³å€¼è¿›è¡Œåˆå§‹åŒ– å³å€¼å¼•ç”¨ä¸»è¦ç”¨äºç§»åŠ¨è¯­ä¹‰ï¼ˆå› æ­¤å¯ä»¥ä¿®æ”¹å³å€¼ï¼‰å’Œå®Œç¾è½¬å‘ ä¼ é€’å³å€¼çš„å¼•ç”¨çš„ä¸¤ç§æ–¹å¼ï¼šc++11çš„å³å€¼å¼•ç”¨type &amp;&amp;xã€å¸¸é‡å·¦å€¼å¼•ç”¨const type &amp;x å‡½æ•°è¿”å›å³å€¼å¼•ç”¨æ—¶ï¼Œè¿”å›å€¼ä¸å¯ä¿®æ”¹ å…¶ä»– å‡½æ•°è°ƒç”¨æ—¶æŒ‰å‚æ•°åˆ—è¡¨ä»å³è‡³å·¦é¡ºåºå‹å…¥æ ˆåŒº ç±»åŸºç¡€ å…³é”®å­—ï¼šæ·±æ‹·è´ã€æµ…æ‹·è´ ç¼ºçœæ„é€  è‹¥ç¨‹åºå‘˜æ²¡æœ‰ä¸»åŠ¨ç»™ç±»å®šä¹‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç»™ä¸€ä¸ªç¼ºçœçš„æ„é€ å‡½æ•°ã€‚ä¸€æ—¦ç¨‹åºå‘˜å®šä¹‰äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç³»ç»Ÿå°†ä¸ä¼šå†ç»™å‡ºç¼ºçœæ„é€ å‡½æ•°ã€‚é™¤äº†ç³»ç»Ÿç¼ºçœçš„æ„é€ å‡½æ•°å¤–ï¼Œåªè¦æ„é€ å‡½æ•°æ— å‚æˆ–è€…å‚æ•°æœ‰ç¼ºçœå€¼ï¼Œ ç¼–è¯‘å™¨ä¼šè®¤ä¸ºå®ƒå°±æ˜¯ç¼ºçœæ„é€ å‡½æ•°ã€‚ç¼ºçœçš„æ„é€ å‡½æ•°åŒæ—¶åªèƒ½æœ‰1ä¸ªã€‚ ææ„å‡½æ•°ä¸€èˆ¬ç”¨æ¥é‡Šæ”¾ä½“å¤–ç©ºé—´ï¼Œä¸ç”¨æ¥é‡Šæ”¾æœ¬ç»“ç‚¹ç©ºé—´ã€‚ æ‹·è´æ„é€  å½“å®ä¾‹ä¸­æœ‰æŒ‡é’ˆæŒ‡å‘å †åŒºå†…å­˜æ—¶ï¼Œæµ…æ‹·è´å¾—åˆ°çš„æŒ‡é’ˆæŒ‡å‘åŒä¸€å †åŒºç©ºé—´ï¼Œææ„çš„æ—¶å€™å°±ä¼šç›¸äº’å½±å“ é»˜è®¤æµ…æ‹·è´æ„é€ å‡½æ•°ï¼šStudent(stu) éæ³•çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼šStudent(Student a) è‡ªå®šä¹‰æ·±æ‹·è´æ„é€ å‡½æ•°ï¼šStudent(const Student &amp;a) ç§»åŠ¨æ„é€  å‡½æ•°ç­¾åï¼šA::A(A&amp;&amp; q) å³å€¼å¼•ç”¨ï¼Œé‡åˆ°å³å€¼åˆ™ä¼˜å…ˆäºæ·±æ‹·è´æ„é€ ã€‚ åŠŸèƒ½ï¼šå®Œæˆä½“å¤–ç©ºé—´çš„äº¤æ¥ä»¥åŠåŸä½“å¤–ç©ºé—´æŒ‡é’ˆçš„ç½®ç©ºï¼ˆé˜²æ­¢ææ„å‡ºé”™ï¼‰ã€‚ å †åˆ†é…åŠå…¶åˆå§‹åŒ– new &lt;ç±»å‹è¡¨è¾¾å¼&gt; ç±»å‹è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿”å›çš„å°±æ˜¯ä»€ä¹ˆç±»å‹çš„æŒ‡é’ˆ delete &lt;æŒ‡é’ˆ&gt;; æŒ‡é’ˆæŒ‡å‘éæ•°ç»„çš„å•ä¸ªå®ä½“ å¦‚sqæŒ‡å‘å¯¹è±¡ï¼Œåˆ™è‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œå†é‡Šæ”¾å¯¹è±¡æ‰€å çš„å†…å­˜ã€‚ delete [ ] &lt;æ•°ç»„æŒ‡é’ˆ&gt;; æŒ‡é’ˆæŒ‡å‘ä»»æ„ç»´çš„æ•°ç»„æ—¶ä½¿ç”¨ å¯¹æ‰€æœ‰å¯¹è±¡(å…ƒç´ ) è‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ã€‚ è‹¥æ•°ç»„å…ƒç´ ä¸ºç®€å•ç±»å‹ï¼Œåˆ™å¯ç”¨delete &lt;æ•°ç»„æŒ‡é’ˆ&gt;ä»£æ›¿ delete å¹¶ä¸ä¼šé”€æ¯æŒ‡é’ˆæœ¬èº«ï¼Œå®‰å…¨èµ·è§è¦æ‰‹åŠ¨èµ‹å€¼NULL æ³¨æ„ new[]/delete[], new/delete, malloc/free è¦æ­é…ä½¿ç”¨ æ ˆåˆ†é…åŠå…¶åˆå§‹åŒ– å½¢å¼: å¯¹äºå•ä¸ªå®ä¾‹ï¼štype obj(...) å¯¹äºå¯¹è±¡æ•°ç»„ï¼štype arr[5] = {{arr[0]çš„æ„é€ å‚æ•°}, ...} æˆ–è€…å»æ‰ç­‰å·(è¿™ç§æ–¹å¼ç®€å•ç±»å‹çš„å˜é‡åˆå§‹åŒ–ä¹Ÿå¯ä½¿ç”¨ï¼šint a{1}ï¼Œ type arr[5] {{arr[0]çš„æ„é€ å‚æ•°}, ...} æ•°æ®æˆå‘˜çš„åˆå§‹åŒ– åœ¨å®šä¹‰æ•°æ®æˆå‘˜æ—¶èµ‹åˆå€¼ï¼Œç­‰ä»·äºåœ¨æ„é€ å‡½æ•°ä½“å‰èµ‹åˆå€¼ï¼› é¡»åœ¨æ„é€ å‡½æ•°ä½“å‰åˆå§‹åŒ–ï¼š åªè¯»æˆå‘˜ã€å¼•ç”¨æˆå‘˜ã€å¯¹è±¡æˆå‘˜ åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼› æŒ‰å®šä¹‰çš„å…ˆåæ¬¡åºåˆå§‹åŒ–ï¼Œä¸å‡ºç°åœ¨åˆå§‹åŒ–ä½ç½®åˆ—è¡¨çš„æ¬¡åºæ— å…³ï¼› æ™®é€šæ•°æ®æˆå‘˜æ²¡æœ‰å‡ºç°åœ¨åˆå§‹åŒ–ä½ç½®æ—¶ï¼Œè‹¥æ‰€å±å¯¹è±¡ä¸ºå…¨å±€ã€é™æ€ æˆ–newçš„å¯¹è±¡ï¼Œå°†å…·æœ‰ç¼ºçœå€¼0ï¼› åŸºç±»å’Œéé™æ€å¯¹è±¡æˆå‘˜æ²¡æœ‰å‡ºç°åœ¨åˆå§‹åŒ–ä½ç½®æ—¶ï¼Œæ­¤æ—¶å¿…ç„¶è°ƒç”¨æ— å‚æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼› å¦‚æœç±»ä»…åŒ…å«å…¬æœ‰æˆå‘˜ä¸”æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆ™å¯ä»¥é‡‡ç”¨åŒCå…¼å®¹çš„åˆå§‹åŒ–æ–¹å¼ï¼Œå³å¯ä½¿ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–æ•°æ®æˆå‘˜ï¼› è”åˆç±»å‹çš„å¯¹è±¡åªé¡»åˆå§‹åŒ–ä¸€ä¸ªæˆå‘˜(å…±äº«å†…å­˜)ï¼› æ„é€ å‡½æ•°ä½“å‰åˆå§‹åŒ–ï¼šåªè¯»æˆå‘˜ã€å¼•ç”¨æˆå‘˜ã€å¯¹è±¡æˆå‘˜ ä½ç½®ï¼šå‡½æ•°ç­¾åä¹‹åï¼Œ{ } ä¹‹å‰ï¼Œ:åˆ†éš” å„æ•°æ®æˆå‘˜ä»¥,åˆ†éš” ç”¨æ„é€ å‡½æ•°çš„å½¢å¼ç»™å„å˜é‡èµ‹åˆå€¼ï¼Œå¦‚ y(t) å¯ä»¥ç”¨åˆ—è¡¨çš„å½¢å¼{} èµ‹åˆå€¼ï¼Œå¦‚ y{t} ä¸èƒ½é‡‡ç”¨ = æ¥åˆå§‹åŒ– : y=t // error æˆå‘˜æŒ‡é’ˆ offsetof(ç±»å, æˆå‘˜å) è¿”å›æˆå‘˜åç§»çš„å­—èŠ‚æ•°ï¼ˆè¿”å›intç±»å‹ï¼‰ æˆå‘˜æŒ‡é’ˆçš„è·å–ï¼ˆåœ¨ç±»ä¸­å–å€ï¼‰return &amp;&lt;ç±»å&gt;::&lt;æˆå‘˜å&gt; æˆå‘˜æŒ‡é’ˆçš„ç”³æ˜ï¼šåªéœ€è¦å°†ç”³æ˜ä¸€èˆ¬æŒ‡é’ˆç”¨çš„ type * æ”¹ä¸º type &lt;ç±»å&gt;::* å³å¯ æˆå‘˜æŒ‡é’ˆçš„è§£æï¼š&lt;å®ä¾‹&gt;.*&lt;æˆå‘˜æŒ‡é’ˆ&gt;ï¼Œ&lt;å¯¹è±¡æŒ‡é’ˆ&gt;-&gt;*&lt;æˆå‘˜æŒ‡é’ˆ&gt; æ™®é€šæˆå‘˜æŒ‡é’ˆæ˜¯åç§»é‡ï¼Œä¸å¯ç§»åŠ¨ï¼Œä¸å¯å¼ºåˆ¶ç±»å‹è½¬æ¢ æˆå‘˜æŒ‡é’ˆä¸ºç©ºï¼ˆå³= 0æ—¶ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨æŒ‡å‘0xffffffffçš„å†…å­˜å•å…ƒ æ„é€ å‡½æ•°ä¸å¯å–æˆå‘˜æŒ‡é’ˆï¼ˆå¦åˆ™å¯èƒ½é€ æˆæ‰‹åŠ¨è°ƒç”¨æ„é€ å‡½æ•°ï¼‰ é™æ€æˆå‘˜æŒ‡é’ˆä¸æ™®é€šæŒ‡é’ˆé™¤äº†è®¿é—®æƒé™å¤–æ²¡æœ‰å·®åˆ« é™æ€æˆå‘˜ é™æ€æ•°æ®æˆå‘˜ç”¨ static å£°æ˜ é™æ€å‡½æ•°æˆå‘˜çš„è®¿é—®æƒé™åŠç»§æ‰¿è§„åˆ™åŒæ™®é€šå‡½æ•°æˆå‘˜æ²¡æœ‰åŒºåˆ« ä¸å¯åœ¨ä½“å‰åˆå§‹åŒ– é™æ€æ•°æ®æˆå‘˜ç‹¬ç«‹åˆ†é…å†…å­˜ï¼Œ**ä¸å±äºä»»ä½•å¯¹è±¡å†…å­˜ ** ç”¨äºæè¿°ç±»çš„æ€»ä½“ä¿¡æ¯ï¼Œå¦‚å¯¹è±¡æ€»æ•°ã€è¿æ¥æ‰€æœ‰å¯¹è±¡çš„é“¾è¡¨è¡¨å¤´ç­‰ã€‚ é™æ€å‡½æ•°æˆå‘˜æ²¡æœ‰thisæŒ‡é’ˆ è®¿é—®æ–¹å¼ï¼š ç±»å::é™æ€æˆå‘˜(â€¦)ï¼› å¯¹è±¡.é™æ€æˆå‘˜(â€¦) ï¼› å¯¹è±¡.ç±»å::é™æ€æˆå‘˜(â€¦)ã€‚ æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ä»¥åŠè™šå‡½æ•°ã€å¸¸å‡½æ•°ç­‰å¿…é¡»æœ‰ this å‚æ•°ï¼Œä¸èƒ½å£°æ˜ä¸ºstatic sizeof(&lt;obj&gt;)ä¸è®¡ç®—&lt;obj&gt;çš„é™æ€æ•°æ®æˆå‘˜çš„å¤§å° å¯¹è±¡çš„å­˜å‚¨æœºåˆ¶ ç»§æ‰¿ä¸æƒé™æœºåˆ¶ å‹å…ƒ å‹å…ƒå‡½æ•° class A {... friend func(xxx); ... } ä¸å—è®¿é—®æƒé™çš„é™åˆ¶ å¯ä»¥åœ¨ä»»ä½•è®¿é—®æƒé™ä¸‹ç”¨friend å¯ä»¥è®¿é—®å½“å‰ç±»çš„ä»»ä½•æˆå‘˜ ä¸€ä¸ªå‡½æ•°å¯æˆä¸ºå¤šä¸ªç±»çš„å‹å‘˜ å‹å…ƒç±» class A {... friend class B; ...} ç±»B çš„æ‰€æœ‰å‡½æ•°æˆå‘˜éƒ½æ˜¯ç±»Açš„å‹å…ƒ å‹å…ƒå…³ç³»ä¸ä¼ é€’ã€ä¸å¯¹ç§° å•ç»§æ‰¿ å•ç»§æ‰¿èŒƒå¼12345class &lt;æ´¾ç”Ÿç±»å&gt;: [&lt;æ´¾ç”Ÿæ§åˆ¶ç¬¦/ç»§æ‰¿æ–¹å¼&gt;] &lt;åŸºç±»å&gt; { &lt;æ´¾ç”Ÿç±»æ–°å®šä¹‰æˆå‘˜&gt; &lt;æ´¾ç”Ÿç±»é‡å®šä¹‰åŸºç±»åŒåçš„æ•°æ®å’Œå‡½æ•°æˆå‘˜&gt; &lt;æ´¾ç”Ÿç±»å£°æ˜æ¢å¤åŸºç±»æˆå‘˜è®¿é—®æƒé™&gt; } æ´¾ç”Ÿæ§åˆ¶æƒé™åªé™ä¸å‡ æ¢å¤æ§åˆ¶æƒé™å¯å‡å¯é™ï¼Œç§æœ‰ä¸å¯è®¿ æ¢å¤æƒé™å®ä¾‹1234567891011121314151617class A { protected: int x; private: int y; public: void setx(int m) { ... }};//æ´¾ç”Ÿç±»å£°æ˜æ¢å¤åŸºç±»æˆå‘˜è®¿é—®æƒé™Class B : private A { public: A::setx; // getxåé¢æ²¡æœ‰æ‹¬å· protected: A::x; // æ•°æ®æˆå‘˜ private: A::y; // ä¸å¯è®¿é—®Aç±»çš„ç§æœ‰æˆå‘˜} C++å…è®¸çˆ¶ç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡ã€çˆ¶ç±»å¼•ç”¨å­ç±»å¯¹è±¡ï¼Œ æ— é¡»é€šè¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œ ç¼–è¯‘æ—¶æŒ‰çˆ¶ç±»è¯´æ˜çš„æƒé™è®¿é—®æˆå‘˜ è™šå‡½æ•° C++ çš„å¤šæ€ç‰¹æ€§ä¸è™šå‡½æ•°å¯†ä¸å¯åˆ†ï¼Œæ‰€ä»¥é¦–å…ˆè¦äº†è§£å¤šæ€æ€§æ˜¯ä»€ä¹ˆï¼š å…·æœ‰ç›¸ä¼¼åŠŸèƒ½çš„ä¸åŒå‡½æ•°ä½¿ç”¨åŒä¸€åç§° ç”¨ç›¸åŒçš„è°ƒç”¨æ–¹å¼ï¼Œè°ƒç”¨ä¸åŒåŠŸèƒ½çš„åŒåå‡½æ•° é™æ€å¤šæ€ å‡½æ•°åç›¸åŒï¼Œå‚æ•°ä¸åŒ åŠ¨æ€å¤šæ€ å‡½æ•°åç›¸åŒã€å‚æ•°ç›¸åŒ åˆ†å±ä¸åŒçš„ç±»ï¼šåŸºç±»ä¸å¤šä¸ªæ´¾ç”Ÿç±» å¤šæ€çš„å®ç°ï¼š è”ç¼–ï¼šç»‘å®šã€è£…é…ï¼Œå°†ä¸€ä¸ªæ ‡è¯†ç¬¦åå’Œä¸€ä¸ªåœ°å€è”ç³»åœ¨ä¸€èµ·ã€‚ é™æ€/æ—©æœŸè”ç¼–ï¼šå®ç°ç¼–è¯‘æ—¶å¤šæ€â€”â€”å‡½æ•°é‡è½½ã€è¿ç®—ç¬¦é‡è½½ åŠ¨æ€/åæœŸè”ç¼–ï¼šå®ç°è¿è¡Œæ—¶å¤šæ€â€”â€”è™šå‡½æ•° çº¯è™šå‡½æ•°ï¼švirtual returnType funName(...) = 0 ï¼ˆç±»æ¯”äºjavaçš„æŠ½è±¡å‡½æ•°ï¼‰ï¼ŒåŒ…å«çº¯è™šå‡½æ•°çš„ç±»ä¸ºæŠ½è±¡ç±»ï¼Œä¸è®ºçº¯è™šå‡½æ•°åœ¨ä½“å¤–æ˜¯å¦æœ‰å®šä¹‰ã€‚ é€šè¿‡æŒ‡é’ˆè°ƒç”¨è™šæ–¹æ³•æ—¶æ‰ä¼šæŸ¥è™šå‡½æ•°è¡¨ï¼ˆæ™šæœŸç»‘å®šï¼‰ã€‚æ•°æ®æˆå‘˜æ‰ä¼šéšç€å¯¹è±¡çš„æ„é€ æ»‘å…¥å†…å­˜ï¼Œæ–¹æ³•ä¸ä¼šã€‚ ææ„å‡½æ•°éœ€è¦æˆä¸ºè™šå‡½æ•°ä»¥ä¿è¯ææ„çš„æ­£ç¡®æ€§ æœ‰è™šå‡½æ•°çš„ç±»å¯¹è±¡å†…å­˜åˆå§‹å•å…ƒæŒ‡å‘ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œè™šå‡½æ•°è¡¨å†…åŒ…å«æ´¾ç”Ÿç±»çš„è™šå‡½æ•°å’Œæ´¾ç”Ÿç±»æ²¡æœ‰è¦†ç›–åˆ°çš„çˆ¶ç±»çš„è™šå‡½æ•° è™šå‡½æ•°è¡¨çš„ç»‘å®š ç”³æ˜12345678910class A {public: A(); virtual ~A();}; //å¯¹åº”è™šå‡½æ•°è¡¨VFTAclass B: A {public: B(); virtual ~B();}; //å¯¹åº”è™šå‡½æ•°è¡¨VFTB å½“æ„é€ ä¸€ä¸ªBç±»å¯¹è±¡objï¼Œç„¶åææ„objï¼Œåœ¨è¿™æ®µæ—¶é—´å†…å‘ç”Ÿçš„æ´»åŠ¨ï¼š å¯¹è±¡åˆå§‹åœ°å€æŒ‡å‘VFTA è°ƒç”¨Açš„æ„é€ å‡½æ•°ï¼ˆæ­¤æ—¶Aç±»å¯¹è±¡è°ƒç”¨çš„è™šå‡½æ•°ä¸VFTAç»‘å®šï¼Œæ‰§è¡Œçš„è™šå‡½æ•°å°†æ˜¯Aç±»çš„å‡½æ•°ï¼‰ å¯¹è±¡åˆå§‹åœ°å€æŒ‡å‘VFTB è°ƒç”¨Bçš„æ„é€ å‡½æ•°ï¼ˆæ­¤æ—¶Bç±»å¯¹è±¡è°ƒç”¨çš„è™šå‡½æ•°ä¸VFTAç»‘å®šï¼Œæ‰§è¡Œçš„è™šå‡½æ•°å°†æ˜¯Bç±»çš„å‡½æ•°ï¼‰ è°ƒç”¨ææ„å‡½æ•°ï¼ˆæ­¤å‰å¯¹è±¡çš„åˆå§‹å•å…ƒæŒ‡å‘VFTBï¼‰ å¯¹è±¡åˆå§‹åœ°å€æŒ‡å‘VFTA è°ƒç”¨ææ„å‡½æ•° å¤šç»§æ‰¿ æ ¼å¼123456Class B: [virtual] [æ´¾ç”Ÿæ§åˆ¶] åŸºç±»1, [æ´¾ç”Ÿæ§åˆ¶][virtual] åŸºç±»2{ ... };æ´¾ç”Ÿæ§åˆ¶ï¼šprivate, protected , publicç¼ºçœæ´¾ç”Ÿæ§åˆ¶ï¼šprivateåœ¨åŸºç±»åç§°å‰è‹¥æœ‰ï¼švirtual , è™šåŸºç±» è™šåŸºç±» è™šåŸºç±»å…±äº«åŒä¸€ç‰‡å­˜å‚¨ç©ºé—´ï¼Œè§£å†³äº†åŒä¸€ä¸ªç‰©ç†å¯¹è±¡åˆå§‹åŒ–ä¸¤æ¬¡çš„é—®é¢˜ï¼ˆå½“ä¸€ä¸ªç‰©ç†å¯¹è±¡åªéœ€è¦ä¸€ä¸ªæ—¶ä½¿ç”¨ï¼‰ è™šåŸºç±»ä¸åŸºç±»åŒåæ—¶ï¼ŒäºŒè€…æ‹¥æœ‰ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´ã€‚ ç›¸åŒçš„åŸºç±»ä¸èƒ½è¢«åŒæ—¶ç›´æ¥ç»§æ‰¿ï¼Œä½†å¯ä»¥åŒæ—¶é—´æ¥ç»§æ‰¿ æ„é€ ä¸ææ„é¡ºåº ç”»å‡ºç»§æ‰¿å…³ç³»æ ‘ï¼ˆæŒ‰å®šä¹‰é¡ºåºä»å·¦è‡³å³æ’åˆ—åŸºç±»ï¼Œç®­å¤´ç”±å­ç±»æŒ‡å‘çˆ¶ç±»ï¼‰ï¼Œè™šåŸºç±»ç”¨æ–¹æ¡†æ¡†èµ·æ¥ï¼› å®ä¾‹ ç”³æ˜1234567891011#include &lt;iostream.h&gt;struct A{ A(){ cout&lt;&lt;'A';} };struct B { const A a; B( ) { cout&lt;&lt;'B';} }; //å¯¹è±¡æˆå‘˜aå°†ä½œä¸ºæ–° æ ¹struct C{ C(){ cout&lt;&lt;'C';} };struct D{ D(){ cout&lt;&lt;'D';} };struct Eï¼šA{ E(){ cout&lt;&lt;'E';} };struct Fï¼šB, virtual C{ F(){ cout&lt;&lt;'F';} }; struct Gï¼šB{ G(){ cout&lt;&lt;'G';} };struct Hï¼švirtual C, virtual D{ H(){ cout&lt;&lt;'H';} }; struct Iï¼šE, F, virtual G, H{ E e; F f; I(){ cout&lt;&lt;'I';} };void main(void) { I i; } è¿ç®—ç¬¦é‡è½½ å¯é‡è½½ç±»å‹ å¼ºè½¬é‡è½½ å•å‚æ•°çš„æ„é€ å‡½æ•°å…·å¤‡ç±»å‹è½¬æ¢ä½œç”¨ï¼Œå¿…è¦æ—¶èƒ½è‡ªåŠ¨å°†å‚æ•°ç±»å‹çš„å€¼è½¬æ¢ä¸ºè¦æ„é€ çš„ç±»å‹ã€‚ ç”¨operatorå®šä¹‰å¼ºåˆ¶ç±»å‹è½¬æ¢å‡½æ•°ï¼š operator ç±»å‹(â€¦) å¼ºåˆ¶ç±»å‹è½¬æ¢å‡½æ•°ä¸éœ€è¦å®šä¹‰è¿”å›ç±»ã€‚ å½“ç”¨explicitä¿®é¥°å¼ºè½¬é‡è½½æˆ–å•å‚æ•°æ„é€ å‡½æ•°æ—¶ï¼Œç›¸å…³çš„éšå¼ç±»å‹è½¬æ¢å°†ä¸ä¼šè‡ªåŠ¨è¿›è¡Œï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨ é€’å¢ï¼ˆå‡ï¼‰é‡è½½ å‰ç½®++/--é‡è½½ä¸ºå•ç›®è¿ç®—ç¬¦ åç½®++/--é‡è½½ä¸ºåŒç›®è¿ç®—ç¬¦ï¼ˆå¤šå‡ºæ¥çš„é‚£ä¸€ç›®å¿…é¡»ä¸ºintç±»å‹å‚æ•°ï¼‰ æ³¨æ„æ™®é€šæˆå‘˜å‡½æ•°å†…éšå«äº†ä¸€ä¸ªthiså‚æ•°ï¼ˆå ä¸€ç›®ï¼‰ æ‹¬å·é‡è½½ æ„é€ å‡½æ•°çš„æ‹¬å·ä¸å—æ‹¬å·é‡è½½çš„å½±å“ æ¨¡æ¿ å‡½æ•°æ¨¡æ¿ 1234template &lt;æ¨¡æ¿å½¢å‚è¡¨&gt; è¿”å›ç±»å‹ å‡½æ•°å (å‚æ•°è¡¨) { &lt;å‡½æ•°ä½“&gt;} &lt;æ¨¡æ¿å½¢å‚è¡¨&gt;å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç”¨é€—å·åˆ†å¼€çš„å‚æ•°ï¼Œæ¯ä¸€é¡¹å‡æœ‰å†…ç½®å…³é”®å­—classæˆ–typenameå¼•å¯¼ä¸€ä¸ªæ ‡è¯†ç¬¦ T æ­¤æ ‡è¯†ç¬¦ä¸ºæ¨¡æ¿å‚æ•°ï¼Œè¡¨ç¤ºä¸€ç§æ•°æ®ç±»å‹ typeæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œclassæ˜¯ç±»ç±»å‹ å‚æ•°è¡¨ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°è¯´æ˜ å‚æ•°åœ¨å‡½æ•°ä½“ä¸­è‡³å°‘åº”ç”¨ä¸€æ¬¡ ç±»æ¨¡æ¿åŒä¸Š ç±»æ¨¡æ¿ 1234567template &lt;æ¨¡æ¿å½¢å‚è¡¨&gt; class ç±»å { &lt;ç±»ä½“è¯´æ˜&gt;};//ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°ä½“å¤–å®šä¹‰æ—¶ç±»å&lt;T&gt;::æˆå‘˜å‡½æ•°(params) {...} æ¨¡æ¿ä¸ç»§æ‰¿ ç±»æ¨¡æ¿å¯ä»¥ä»éæ¨¡æ¿ç±»æ´¾ç”Ÿï¼ˆæ³¨æ„æ¨¡æ¿ç±»å’Œç±»æ¨¡æ¿çš„åŒºåˆ«ï¼‰ ç±»æ¨¡æ¿å¯ä»¥ä»ç±»æ¨¡æ¿æ´¾ç”Ÿ å®ä¾‹12template &lt;class T&gt;class A: public B&lt;T&gt; {...}; //Bæ˜¯æ¨¡æ¿å½¢å‚è¡¨æœ‰ä¸€ä¸ªclassç±»å‹å‚æ•°çš„ç±»æ¨¡æ¿ éæ¨¡æ¿ç±»å¯ä»¥ä»ç±»æ¨¡æ¿æ´¾ç”Ÿ æ³¨æ„äº‹é¡¹ ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°æ˜¯åœ¨è°ƒç”¨æ—¶æ‰è¢«åˆ›å»ºï¼Œå¯¼è‡´åˆ†æ–‡ä»¶ç¼–å†™æ—¶è°ƒç”¨ä¸åˆ° è§£å†³æ–¹æ¡ˆï¼šå°†å®ç°ä¸ç”³æ˜å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ¨èä½¿ç”¨.hpp å¼‚å¸¸å¤„ç† å¼‚å¸¸ æŠ›å‡ºçš„å¼‚å¸¸åˆ†ç±»ï¼šå†…ç½®æ•°æ®ç±»å‹å¼‚å¸¸ï¼Œæ ‡å‡†å¼‚å¸¸ï¼Œè‡ªå®šä¹‰ç±»å¯¹è±¡ï¼Œä¸æ¥ä»»ä½•å¯¹è±¡ï¼ˆthrow;åªèƒ½ç”¨äºäºcatchå—ä¸­ï¼Œä½œç”¨æ˜¯å°†å¼‚å¸¸ä¼ é€’åˆ°ä¸Šä¸€çº§catchå—ï¼‰ try-throw-catchï¼šç›‘è§†-æŠ›å‡º-æ•è·ï¼Œcatchåˆ°ä¸€ä¸ªå¯¹è±¡æ—¶è°ƒç”¨ä»¥å¯¹è±¡ä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ï¼ˆæ‹·è´/ç§»åŠ¨æ„é€ ï¼‰ å¼‚å¸¸æ¥å£ï¼šreturnType func() throw(...) {}ï¼ˆnoexceptä¸throw()å‡ ä¹ç­‰ä»·ï¼‰ set_terminate(), set_unexpect()ï¼šè®¾ç½®è‡ªå®šä¹‰ç»ˆæ­¢å‡½æ•°ï¼ˆå¼‚å¸¸ä¼ é€’åˆ°é¡¶å±‚æ—¶è°ƒç”¨ç»ˆæ­¢å‡½æ•°ï¼‰ï¼Œè®¾ç½®è‡ªå®šä¹‰å¤„ç†ä¸å¯é¢„æ–™å¼‚å¸¸çš„å‡½æ•°ï¼ˆå‡½æ•°äº§ç”Ÿæœ‰æ‚–äºå¼‚å¸¸æ¥å£è¯´æ˜çš„å¼‚å¸¸ç±»å‹æ—¶è°ƒç”¨ï¼‰ã€‚ ææ„é—®é¢˜ å¦‚æœé€šè¿‡newäº§ç”Ÿçš„æŒ‡é’ˆç±»å‹çš„å¼‚å¸¸ï¼Œåœ¨catch å¤„ç†åï¼Œé€šå¸¸åº”ä½¿ç”¨deleteé‡Šæ”¾å†…å­˜ï¼› å¦‚æœç»§ç»­ä¼ æ’­æŒ‡é’ˆç±»å‹çš„å¼‚å¸¸ï¼Œåˆ™å¯ä»¥ä¸ä½¿ç”¨ deleteï¼›ä»æœ€å†…å±‚è¢«è°ƒå‡½æ•°æŠ›å‡ºå¼‚å¸¸åˆ°å¤–å±‚è°ƒç”¨å‡½æ•°çš„catchå¤„ç†è¿‡ç¨‹æ•è·å¼‚å¸¸ï¼Œç”±æ­¤å½¢æˆçš„å‡½æ•°è°ƒç”¨é“¾æ‰€æœ‰å±€éƒ¨å¯¹è±¡éƒ½ä¼šè¢«è‡ªåŠ¨ææ„ï¼Œå› æ­¤ä½¿ç”¨å¼‚ å¸¸å¤„ç†æœºåˆ¶èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢å†…å­˜æ³„æ¼ï¼› è°ƒç”¨é“¾ä¸­é€šè¿‡newåˆ†é…çš„å†…å­˜ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼› ç‰¹æ®Šæƒ…å†µåœ¨äº§ç”Ÿå¼‚å¸¸å¯¹è±¡çš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šå‡ºç°å†…å­˜æ³„æ¼æƒ…å†µï¼šæœªå®Œæˆæ„é€ çš„å¯¹è±¡ã€‚ å¼‚å¸¸ä¸ç»§æ‰¿ å¦‚æœçˆ¶ç±»Açš„å­ç±»ä¸ºBï¼ŒBç±»å¼‚å¸¸èƒ½è¢«catch(A)ã€ catch(const A)ã€ catch(volatile A)ã€ catch(const volatile A)ç­‰æ•è·ã€‚ å¦‚æœçˆ¶ç±»Açš„å­ç±»ä¸ºBï¼ŒæŒ‡å‘å¯å†™Bç±»å¯¹è±¡çš„æŒ‡é’ˆå¼‚å¸¸ä¹Ÿèƒ½è¢«catch(A*)ã€ catch(const A*)ã€ catch(volatile A*)ã€ catch(const volatile A)ç­‰æ•è·ã€‚ å› æ­¤æ•è·å­ç±»å¯¹è±¡çš„catchåº”æ”¾åœ¨æ•è·çˆ¶ç±»å¯¹è±¡çš„ catchå‰é¢ã€‚ catch(const volatile void *)èƒ½æ•è·ä»»æ„æŒ‡ é’ˆç±»å‹çš„å¼‚å¸¸ï¼Œcatch(â€¦)èƒ½æ•è·ä»»æ„ç±»å‹çš„å¼‚å¸¸ã€‚ æ–­è¨€ &lt;asset.h&gt; asset(int expr)ï¼Œexprä¸ºå‡æ—¶è¿›å…¥æ–­è¨€å‡½æ•°(ä¼šè¾“å‡ºæ–­è¨€è¡¨è¾¾å¼ã€æ–­è¨€å‘ç”Ÿçš„æ–‡ä»¶åå’Œè¡Œå·) é™æ€æ–­è¨€static_asset(int expr)ï¼ˆç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰ ç±»å‹æ¨å¯¼ä¸è½¬æ¢ ä¼ ç»Ÿè½¬æ¢ æ˜¾å¼è½¬æ¢ æ ¼å¼ï¼š(T)expr ä¸€èˆ¬ç±»å‹è½¬æ¢å¾—åˆ°å³å€¼: (T)exprï¼Œ**å·¦å€¼å¼•ç”¨è½¬æ¢å¾—åˆ°å·¦å€¼: **(T&amp;)expr const Tæ— æ³•è½¬ä¸ºTï¼Œä½†å¯ä»¥é€šè¿‡æŒ‡é’ˆç±»å‹*(T*)&amp;æˆ–å¼•ç”¨ç±»å‹(T&amp;)æ¥è½¬æ¢ éšå¼è½¬æ¢ ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆ åœºæ™¯ï¼šä¼ å‚æ—¶ã€èµ‹å€¼æ—¶ã€è¿ç®—æ—¶ è½¬æ¢è§„åˆ™ï¼š éæµ®ç‚¹ç±»å‹å­—èŠ‚å°‘çš„å‘å­—èŠ‚æ•°å¤šçš„è½¬æ¢ï¼šboolã€charã€shortå’Œintçš„è¿ç®—æŒ‰intç±»å‹è¿›è¡Œã€‚ éæµ®ç‚¹ç±»å‹æœ‰ç¬¦å·æ•°å‘æ— ç¬¦å·æ•°è½¬æ¢ï¼šæ‰€æœ‰æµ®ç‚¹å¸¸é‡åŠæµ®ç‚¹æ•°çš„è¿ç®—æŒ‰doubleç±»å‹è¿›è¡Œã€‚ è¿ç®—æ—¶æ•´æ•°å‘doubleç±»å‹çš„è½¬æ¢ã€‚ castè½¬æ¢ æ ¼å¼ï¼šXXX_cast&lt;T&gt;(expr) //å°†exprè½¬åŒ–ä¸ºç›®æ ‡ç±»å‹T static_cast ç¼–è¯‘æ—¶æ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬æ¢ ä¸èƒ½å»é™¤æºç±»å‹çš„constæˆ–volatile ç›®æ ‡ç±»å‹ä¸èƒ½åŒ…å«å­˜å‚¨ä½ç½®ç±»ä¿®é¥°ç¬¦ï¼Œå¦‚staticã€externã€ autoã€registerç­‰ const_cast ç›®æ ‡ç±»å‹å¿…é¡»æ˜¯æŒ‡é’ˆã€å¼•ç”¨ã€æˆ–è€…æŒ‡å‘å¯¹è±¡æˆå‘˜çš„æŒ‡é’ˆ ç±»å‹è¡¨è¾¾å¼ä¸èƒ½åŒ…å«å­˜å‚¨ä½ç½®ç±»ä¿®é¥°ç¬¦ ä¸èƒ½å°†æ— å€å¸¸é‡ã€ä½æ®µè®¿é—®ã€æ— å€è¿”å›å€¼è½¬æ¢ä¸ºæœ‰å€å¼•ç”¨ dynamic_cast ç›®æ ‡ç±»å‹å¿…é¡»æ˜¯ç±»çš„å¼•ç”¨ã€ç±»çš„æŒ‡é’ˆæˆ–è€…void*ç±»å‹ æºç±»å‹å¿…é¡»æ˜¯ç±»çš„å¯¹è±¡ã€å¯¹è±¡åœ°å€ ç”¨äºå­ç±»å‘çˆ¶ç±»è½¬æ¢ï¼Œä»¥åŠæœ‰è™šå‡½æ•°çš„åŸºç±»å‘æ´¾ç”Ÿç±»è½¬æ¢ ä¸èƒ½å»é™¤æºç±»å‹ä¸­çš„constå’Œvolitale reinterpret_cast ç”¨äºæœ‰å€å¼•ç”¨ä¸æ— å€å¼•ç”¨ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€æŒ‡é’ˆæˆ–å¼•ç”¨ç±»å‹çš„è½¬æ¢ã€è¶³å¤Ÿå¤§æ•´æ•°ä¸æŒ‡é’ˆç±»å‹çš„è½¬æ¢ typeid è·å¾—å¯¹è±¡çš„çœŸå®ç±»å‹æ ‡è¯† æ ¼å¼ typeid(ç±»å‹è¡¨è¾¾å¼) typeid(æ•°å€¼è¡¨è¾¾å¼) typeidçš„è¿”å›ç»“æœæ˜¯const type_info&amp;ç±»å‹ åœ¨ä½¿ç”¨typeidä¹‹å‰å¯å…ˆ#include &lt;typeinfo&gt;ï¼Œä½¿ç”¨stdåå­—ç©ºé—´ã€‚ decltype æå–è¡¨è¾¾å¼çš„ç±»å‹ï¼Œæ„æˆæ–°çš„ç±»å‹è¡¨è¾¾å¼ decltype(expr) decltype å®ä¾‹123456int x = 10;decltype(x) y; // int y;int a1[10];decltype(a1) p1; // int p1[10]; p1çš„ç±»å‹æ˜¯ int[10]decltype(a1) *p11; // int (*p11)[10] Lamda è¡¨è¾¾å¼ å½¢å¼ï¼š[æ•è·åˆ—è¡¨](å½¢å‚åˆ—è¡¨) mutable å¼‚å¸¸è¯´æ˜-&gt;è¿”å›ç±»å‹{å‡½æ•°ä½“} ä½¿ç”¨ï¼šauto fuc = [Lambda expr]; fuc(params); mutable: å¯é€‰ï¼Œç”¨äºè¯´æ˜æ˜¯å¦å¯ä»¥ä¿®æ”¹æ•è·å˜é‡ æ•è·åˆ—è¡¨è¯´æ˜ï¼š æ•è·åˆ—è¡¨çš„å‚æ•°ç”¨äºæ•è·Lambdaè¡¨è¾¾å¼çš„å¤–éƒ¨å˜é‡ï¼› å¤–éƒ¨å˜é‡å¯ä»¥æ˜¯å‡½æ•°å‚æ•°æˆ–å‡½æ•°å®šä¹‰çš„å±€éƒ¨è‡ªåŠ¨å˜é‡ï¼› å‡ºç°&amp;å˜é‡åè¡¨ç¤ºå¼•ç”¨å¤–éƒ¨å˜é‡ï¼› [&amp;]è¡¨ç¤ºæ•è·æ‰€æœ‰å‡½æ•°å‚æ•°æˆ–å‡½æ•°å®šä¹‰çš„å±€éƒ¨è‡ªåŠ¨å˜é‡ã€‚ å‡ºç°=å˜é‡åè¡¨ç¤ºä½¿ç”¨å¤–éƒ¨å˜é‡çš„å€¼ï¼ˆå€¼å‚ä¼ é€’), [=]è¡¨ç¤ºæ•è·æ‰€æœ‰å‡½æ•°å‚æ•°æˆ–å‡½æ•°å®šä¹‰çš„å±€éƒ¨è‡ªåŠ¨å˜é‡çš„å€¼ï¼› å¤–éƒ¨å˜é‡ä¸èƒ½æ˜¯å…¨å±€å˜é‡æˆ–staticå®šä¹‰çš„å˜é‡ï¼› å¤–éƒ¨å˜é‡ä¸èƒ½æ˜¯ç±»çš„æˆå‘˜ï¼› å‚æ•°è¡¨åæœ‰mutableè¡¨ç¤ºåœ¨Lambdaè¡¨è¾¾å¼å¯ä»¥ä¿®æ”¹â€œå€¼å‚ä¼ é€’çš„å€¼â€ï¼Œä½†ä¸å½±å“Lambdaè¡¨è¾¾å¼å¤–éƒ¨å˜é‡çš„å€¼ã€‚ Lambdaè¡¨è¾¾å¼è¢«ç¼–è¯‘ä¸ºä¸´æ—¶ç±»çš„å¯¹è±¡ï¼Œä¸´æ—¶ç±»é‡è½½äº†å‡½æ•°operator()","link":"/posts/98759b98/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;æ“ä½œç³»ç»ŸåŸç†è¯¾ç¨‹ç¬”è®°","text":"OS è¯¾ç¨‹ç¬”è®° ç¬¬ä¸€ç«  ç»ªè®º æ“ä½œç³»ç»Ÿçš„å®šä¹‰ æ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤§å‹çš„ç¨‹åºç³»ç»Ÿï¼Œå®ƒè´Ÿè´£è®¡ç®—æœºç³»ç»Ÿè½¯ã€ç¡¬ä»¶èµ„æºçš„åˆ†é…ï¼›æ§åˆ¶å’Œåè°ƒå¹¶å‘æ´»åŠ¨ï¼›æä¾›ç”¨æˆ·æ¥å£ï¼Œä½¿ç”¨æˆ·è·å¾—è‰¯å¥½çš„å·¥ä½œç¯å¢ƒã€‚ æ“ä½œç³»ç»Ÿçš„ç‰¹å¾ å¹¶å‘ å…±äº« ä¸ç¡®å®šæ€§ å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯ å®šä¹‰ åœ¨è®¡ç®—æœºä¸»å­˜ä¸­åŒæ—¶å­˜æ”¾å‡ é“ç›¸äº’ç‹¬ç«‹çš„ç¨‹åºã€‚è¿™äº›ç¨‹åºåœ¨ç®¡ç†ç¨‹åºæ§åˆ¶ä¹‹ä¸‹ï¼Œç›¸äº’ç©¿æ’åœ°è¿è¡Œã€‚å½“æŸé“ç¨‹åºå› æŸç§åŸå› ä¸èƒ½ç»§ç»­è¿è¡Œä¸‹å»æ—¶(å¦‚ç­‰å¾…å¤–éƒ¨è®¾å¤‡ä¼ è¾“æ•°æ®)ï¼Œç®¡ç†ç¨‹åºä¾¿å°†å¦ä¸€é“ç¨‹åºæŠ•å…¥è¿è¡Œã€‚ ç‰¹å¾ å¤šé“ å¾®è§‚ä¸Šä¸²è¡Œ å®è§‚ä¸Šå¹¶è¡Œ åº”ç”¨ æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿï¼ˆç³»ç»Ÿååç‡é«˜ï¼šè„±æœºæ“ä½œ ã€å¤šé“è¿è¡Œã€ åˆç†æ­é…ä½œä¸šï¼›ä½œä¸šå‘¨è½¬æ—¶é—´é•¿ï¼Œç”¨æˆ·ä½¿ç”¨ä¸æ–¹ä¾¿ï¼‰ ä¾èµ– é€šé“æŠ€æœ¯å’Œä¸­æ–­æŠ€æœ¯ å¤šé“ç¨‹åºå·¥ä½œç¤ºä¾‹ åˆ†æ—¶æŠ€æœ¯ å®šä¹‰ æ‰€è°“åˆ†æ—¶æŠ€æœ¯ï¼Œæ˜¯æŠŠå¤„ç†æœºæ—¶é—´åˆ’åˆ†æˆå¾ˆçŸ­çš„æ—¶é—´ç‰‡(å¦‚å‡ ç™¾æ¯«ç§’)è½®è½¬åœ°åˆ†é…ç»™å„ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œå¦‚æœæŸä¸ªç¨‹åºåœ¨åˆ†é…çš„æ—¶é—´ç‰‡ç”¨å®Œä¹‹å‰è®¡ç®—è¿˜æœªå®Œæˆï¼Œè¯¥ç¨‹åºå°±æš‚æ—¶ä¸­æ–­ï¼Œç­‰å¾…ä¸‹ä¸€è½®ç»§ç»­è®¡ç®—ã€‚ åº”ç”¨ åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼ˆç‹¬å æ€§ã€å¹¶è¡Œæ€§ã€äº¤äº’æ€§ï¼‰ ç¬¬äºŒç«  ç»“æ„ä¸ç¡¬ä»¶æ”¯æŒ å¤„ç†æœºçš„æ€ å®šä¹‰ å¤„ç†æœºçš„æ€ï¼Œåˆç§°ä¸ºå¤„ç†æœºçš„ç‰¹æƒçº§ï¼Œæ˜¯ä¸­å¤®å¤„ç†æœºçš„å·¥ä½œçŠ¶æ€ã€‚å½“å‰å¤„ç†æœºæ­£åœ¨æ‰§è¡Œå“ªç±»ç¨‹åºï¼Œå†³å®šå¤„ç†æœºçš„æ€ã€‚ åˆ†ç±» æ ¸æ€ï¼šæ“ä½œç³»ç»Ÿçš„ç®¡ç†ç¨‹åºæ‰§è¡Œæ—¶æœºå™¨æ‰€å¤„çš„çŠ¶æ€ï¼Œåˆç§°å¤„ç†æœºçš„ç‰¹æƒçº§ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹å¤„ç†æœºå¯ä½¿ç”¨å…¨éƒ¨æŒ‡ä»¤(åŒ…æ‹¬ä¸€ç»„ç‰¹æƒæŒ‡ä»¤)ï¼›ä½¿ç”¨å…¨éƒ¨ç³»ç»Ÿèµ„æº(åŒ…æ‹¬æ•´ä¸ªå­˜å‚¨åŒºåŸŸ)ã€‚ ç®¡æ€ï¼šç®¡æ€æ¯”æ ¸æ€çš„æƒé™ä½ï¼Œåœ¨æ­¤çŠ¶æ€ä¸‹å…è®¸ä½¿ç”¨ä¸€äº›ç”¨æˆ·æ€ä¸‹ä¸èƒ½ä½¿ç”¨çš„èµ„æºï¼Œä½†ä¸èƒ½ä½¿ç”¨ä¿®æ”¹CPUçŠ¶æ€çš„æŒ‡ä»¤ã€‚æ— æ ¸æ€æ—¶ï¼Œç®¡æ€æ‰§è¡Œæ ¸æ€çš„å…¨éƒ¨åŠŸèƒ½ã€‚ ç”¨æˆ·æ€ï¼ˆç›®æ€ï¼‰ï¼šç”¨æˆ·ç¨‹åºæ‰§è¡Œæ—¶æœºå™¨æ‰€å¤„çš„çŠ¶æ€ç§°ä¸ºç”¨æˆ·æ€ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹ç¦æ­¢ä½¿ç”¨ç‰¹æƒæŒ‡ä»¤ï¼Œä¸èƒ½ç›´æ¥å–ç”¨èµ„æºä¸æ”¹å˜æœºå™¨çŠ¶æ€ï¼Œå¹¶ä¸”åªå…è®¸ç”¨æˆ·ç¨‹åºè®¿é—®è‡ªå·±çš„å­˜å‚¨åŒºåŸŸã€‚ ç®¡æ€ ç”¨æˆ·æ€ æ“ä½œç³»ç»Ÿçš„ç¨‹åºæ‰§è¡Œ ç”¨æˆ·ç¨‹åºæ‰§è¡Œ ä½¿ç”¨å…¨éƒ¨æŒ‡ä»¤ ç¦æ­¢ä½¿ç”¨ç‰¹æƒæŒ‡ä»¤ ä½¿ç”¨å…¨éƒ¨ç³»ç»Ÿèµ„æº åªå…è®¸ç”¨æˆ·ç¨‹åº æ•´ä¸ªå­˜å‚¨åŒºåŸŸ è®¿é—®è‡ªå·±çš„å­˜å‚¨åŒºåŸŸ ç‰¹æƒæŒ‡ä»¤é›† â‘  æ¶‰åŠå¤–éƒ¨è®¾å¤‡çš„è¾“å…¥/è¾“å‡ºæŒ‡ä»¤ â‘¡ **ä¿®æ”¹ç‰¹æ®Šå¯„å­˜å™¨çš„æŒ‡ä»¤ï¼š**å­˜å–ç”¨äºä¸»å­˜ä¿æŠ¤çš„å¯„å­˜å™¨ç­‰ â‘¢ **æ”¹å˜æœºå™¨çŠ¶æ€çš„æŒ‡ä»¤:**å¼€/å…³ä¸­æ–­ã€è¿›ç¨‹åˆ‡æ¢ã€åœæœºæŒ‡ä»¤ç­‰ çŠ¶æ€åˆ‡æ¢ â‘  ç”¨æˆ·æ€åˆ°ç®¡æ€ ç®¡ç†ç¨‹åºè°ƒç”¨ ä¸­æ–­ ç”¨æˆ·è¿›ç¨‹äº§ç”Ÿé”™è¯¯ï¼ˆå†…éƒ¨ä¸­æ–­ï¼‰ ç”¨æˆ·ç¨‹åºä¼å›¾æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ â‘¡ ç®¡æ€åˆ°ç”¨æˆ·æ€ â€‹ ä»æ ¸æ€è½¬å›ç”¨æˆ·æ€ç”¨ä¸€æ¡æŒ‡ä»¤å®ç°ï¼Œè¿™æ¡æŒ‡ä»¤ä¹Ÿæ˜¯ç‰¹æƒæŒ‡ä»¤ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸­æ–­è¿”å›æŒ‡ä»¤ã€‚ ä¸­æ–­ æ¦‚å¿µ æ‰€è°“ä¸­æ–­æ˜¯æŒ‡æŸä¸ªäº‹ä»¶ (ä¾‹å¦‚ç”µæºæ‰ç”µã€å®šç‚¹åŠ æ³•æº¢å‡ºæˆ–I/Oä¼ è¾“ç»“æŸç­‰) å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä¸­æ­¢ç°è¡Œç¨‹åºçš„è¿è¡Œã€å¼•å‡ºå¤„ç†äº‹ä»¶ç¨‹åºå¯¹è¯¥äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œæ¯•åè¿”å›æ–­ç‚¹ç»§ç»­æ‰§è¡Œçš„è¿‡ç¨‹ã€‚ æŒ‰ä¸­æ–­æºåˆ†ç±» â‘  ä¸­æ–­ï¼š ç”±å¤„ç†æœºå¤–éƒ¨äº‹ä»¶å¼•èµ·çš„ä¸­æ–­ï¼ŒåŒ…æ‹¬è¾“å…¥è¾“å‡ºä¸­æ–­ã€å¤–ä¸­æ–­ã€‚ï¼ˆx86ä¸­ç§°ä¸ºå¼‚æ­¥ä¸­æ–­ï¼‰ â‘¡ ä¿˜è·ï¼š ç”±å¤„ç†æœºå†…éƒ¨äº‹ä»¶å¼•èµ·çš„ä¸­æ–­ï¼ŒåŒ…æ‹¬è®¿ç®¡ä¸­æ–­ã€ç¨‹åºæ€§ä¸­æ–­ã€æœºå™¨æ•…éšœä¸­æ–­ã€‚ï¼ˆx86ä¸­ç§°ä¸ºå¼‚å¸¸ï¼‰ ä¼˜å…ˆçº§ï¼šä¿˜è· &gt; ä¸­æ–­ ç¬¬ä¸‰ç«  ç”¨æˆ·æ¥å£ å‘½ä»¤æ¥å£ æ“ä½œå‘½ä»¤ ç¨‹åºæ¥å£ ç³»ç»ŸåŠŸèƒ½è°ƒç”¨ ç³»ç»Ÿè°ƒç”¨ä¸åº“å‡½æ•° ç³»ç»Ÿè°ƒç”¨ä»£ç å±äºOSï¼Œåº“å‡½æ•°ç”±è½¯ä»¶å¼€å‘å•†æä¾›ï¼Œç”±ç¼–è¯‘å·¥å…·é“¾å…¥ç”¨æˆ·ç¨‹åº ç³»ç»Ÿè°ƒç”¨ä»£ç çš„æ‰§è¡Œå¼•èµ·CPUçŠ¶æ€çš„å˜åŒ–ï¼šç”¨æˆ·æ€ =&gt; æ ¸å¿ƒæ€ åº“å‡½æ•°çš„æ‰§è¡Œä¸ä¼šå¼•èµ·CPUçŠ¶æ€çš„å˜åŒ–ï¼šç”¨æˆ·æ€ ç³»ç»Ÿè°ƒç”¨å°è£…æˆåº“å‡½æ•° è®¿ç®¡ä¸­æ–­ å½“å¤„ç†æœºæ‰§è¡Œåˆ°è®¿ç®¡æŒ‡ä»¤æ—¶å‘ç”Ÿä¸­æ–­ï¼Œè¯¥ä¸­æ–­ç§°ä¸ºè®¿ç®¡ä¸­æ–­ï¼Œå®ƒè¡¨ç¤ºæ­£åœ¨è¿è¡Œçš„ç¨‹åºå¯¹æ“ä½œç³»ç»Ÿçš„æŸç§éœ€æ±‚ã€‚ ç¬¬å››ç«  è¿›ç¨‹ç®¡ç† å¹¶å‘ç¨‹åº å®šä¹‰ è‹¥å¹²ä¸ªç¨‹åºæ®µåŒæ—¶åœ¨ç³»ç»Ÿä¸­è¿è¡Œï¼Œè¿™äº›ç¨‹åºæ®µçš„æ‰§è¡Œåœ¨æ—¶é—´ä¸Šæ˜¯é‡å çš„ï¼Œä¸€ä¸ªç¨‹åºæ®µçš„æ‰§è¡Œå°šæœªç»“æŸï¼Œå¦ä¸€ä¸ªç¨‹åºæ®µçš„æ‰§è¡Œå·²ç»å¼€å§‹ï¼Œå³ä½¿è¿™ç§é‡å æ˜¯å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿç§°è¿™å‡ ä¸ªç¨‹åºæ®µæ˜¯å¹¶å‘æ‰§è¡Œçš„ã€‚ å¹¶è¡Œè®°å· 1234/*è¡¨ç¤ºS1,S2,....Snè¿™nä¸ªè¯­å¥æ˜¯å¯ä»¥å¹¶å‘æ‰§è¡Œçš„*/cobegin S1;S2;...;Sn;coend å…ˆåæ¬¡åºå›¾ å¯¹nä¸ªç”¨æˆ·ä½œä¸šçš„å¤„ç† 1234ä½œä¸š1ï¼š I1 C1 P1ä½œä¸š2ï¼š I2 C2 P2 ...ä½œä¸šnï¼š In Cn Pn èªŠæŠ„ (g: get, c: copy, p: put) ç‰¹ç‚¹ å¤±å»äº†ç¨‹åºçš„å°é—­æ€§å’Œå¯å†ç°æ€§ ç¨‹åºä¸è®¡ç®—ä¸å†ä¸€ä¸€å¯¹åº” ç¨‹åºå¹¶å‘æ‰§è¡Œçš„ç›¸å¯¹åˆ¶çº¦ è¿›ç¨‹ å®šä¹‰ è¿›ç¨‹ï¼Œå³æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ã€‚ è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ« â‘  ç¨‹åºæ˜¯é™æ€çš„æ¦‚å¿µï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„æ¦‚å¿µï¼› â‘¡ è¿›ç¨‹æ˜¯ä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„æ´»åŠ¨å•ä½ï¼› â‘¢ è¿›ç¨‹æ˜¯ç«äº‰ç³»ç»Ÿèµ„æºçš„åŸºæœ¬å•ä½ï¼› â‘£ ä¸€ä¸ªç¨‹åºå¯ä»¥å¯¹åº”å¤šä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘åŒ…å«ä¸€ä¸ªç¨‹åº è¿›ç¨‹å˜è¿ çŠ¶æ€ï¼šå°±ç»ªã€ç­‰å¾…ã€è¿è¡Œ çŠ¶æ€å˜è¿ å˜è¿åŸå›  123456789101112131415å°±ç»ª --&gt; è¿è¡Œ è°ƒåº¦ç¨‹åºé€‰æ‹©ä¸€ä¸ªæ–°çš„è¿›ç¨‹è¿è¡Œ è¿è¡Œ --&gt; å°±ç»ª è¿è¡Œè¿›ç¨‹ç”¨å®Œäº†æ—¶é—´ç‰‡ è¿è¡Œè¿›ç¨‹è¢«ä¸­æ–­ï¼Œå› ä¸ºä¸€é«˜ä¼˜å…ˆçº§è¿›ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ è¿è¡Œ --&gt; ç­‰å¾… å½“ä¸€è¿›ç¨‹å¿…é¡»ç­‰å¾…æ—¶ OSå°šæœªå®ŒæˆæœåŠ¡ å¯¹ä¸€èµ„æºçš„è®¿é—®å°šä¸èƒ½è¿›è¡Œ åˆå§‹åŒ–I/O ä¸”å¿…é¡»ç­‰å¾…ç»“æœ ç­‰å¾… --&gt; å°±ç»ª å½“æ‰€ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿæ—¶ å› æœå˜è¿ è¿›ç¨‹æè¿° è¿›ç¨‹æ§åˆ¶å— PCB å®šä¹‰ï¼šæè¿°è¿›ç¨‹ä¸å…¶ä»–è¿›ç¨‹ã€ç³»ç»Ÿèµ„æºçš„å…³ç³»ä»¥åŠè¿›ç¨‹åœ¨å„ä¸ªä¸åŒæ—¶æœŸæ‰€å¤„çš„çŠ¶æ€çš„æ•°æ®ç»“æ„ ä½œç”¨ï¼šè¿›ç¨‹ä¸PCBæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œç³»ç»Ÿåˆ©ç”¨PCBæ¥æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ï¼Œæ‰€ä»¥PCBæ˜¯ç³»ç»Ÿæ„ŸçŸ¥è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿— è¿›ç¨‹çš„ç»„æˆ ç¨‹åºå’Œæ•°æ® PCB è¿›ç¨‹æ§åˆ¶ æ§åˆ¶åŸè¯­ åˆ›å»ºã€æ’¤é”€ã€é˜»å¡ï¼ˆç­‰å¾…ï¼‰ã€å”¤é†’ äº’æ–¥ä¸åŒæ­¥æœºåˆ¶ ä¸´ç•Œèµ„æºã€ä¸´ç•ŒåŒº ä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºï¼›ç¡¬ä»¶ï¼šå¦‚è¾“å…¥æœºã€æ‰“å°æœºã€ç£å¸¦æœºç­‰ï¼›è½¯ä»¶ï¼šå¦‚å…¬ç”¨å˜é‡ã€æ•°æ®ã€è¡¨æ ¼ã€é˜Ÿåˆ—ç­‰ è¿›ç¨‹ä¸­å¯¹å…¬å…±å˜é‡ (æˆ–å­˜å‚¨åŒº)è¿›è¡Œå®¡æŸ¥ä¸ä¿®æ”¹çš„ç¨‹åºæ®µï¼Œç§°ä¸ºç›¸å¯¹äºè¯¥å…¬å…±å˜é‡çš„ä¸´ç•ŒåŒºã€‚ å‡†åˆ™ 12345æœ‰ç©ºè®©è¿›ï¼šå½“æ— è¿›ç¨‹åœ¨äº’æ–¥åŒºæ—¶ï¼Œä»»ä½•æœ‰æƒä½¿ç”¨äº’æ–¥åŒºçš„è¿›ç¨‹å¯è¿›å…¥ã€‚æ— ç©ºç­‰å¾…ï¼šä¸å…è®¸ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åŒæ—¶è¿›å…¥äº’æ–¥åŒºã€‚å¤šä¸­æ‹©ä¸€ï¼šå½“æ²¡æœ‰è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºï¼Œè€ŒåŒæ—¶æœ‰å¤šä¸ªè¿›ç¨‹è¦æ±‚è¿›å…¥ä¸´ç•ŒåŒºï¼Œåªèƒ½è®©å…¶ä¸­ä¹‹ä¸€è¿›å…¥ä¸´ç•ŒåŒºï¼Œå…¶ä»–è¿›ç¨‹å¿…é¡»ç­‰å¾…ã€‚æœ‰é™ç­‰å¾…ï¼šä»»ä½•è¿›å…¥äº’æ–¥åŒºçš„è¦æ±‚åº”åœ¨æœ‰é™æ—¶é—´å†…å¾—åˆ°æ»¡è¶³ã€‚è®©æƒç­‰å¾…ï¼šå½“è¿›ç¨‹ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œåº”ç«‹å³é‡Šæ”¾CPUï¼Œé¿å…è¿›ç¨‹å¿™ç­‰å¾…ã€‚ ä¸Šé”åŸè¯­ã€å¼€é”åŸè¯­ (0ä¸ºæ— é”ï¼Œ1ä¸ºä¸Šé”) Pã€V æ“ä½œåŸè¯­ è¿›ç¨‹æµå›¾ ç¤ºä¾‹ ä¸¤ç±»åŒæ­¥é—®é¢˜è§£å†³æ–¹æ¡ˆ ä¸€èˆ¬çš„åˆä½œé—®é¢˜ï¼šç”»è¿›ç¨‹æµå›¾ï¼Œå¯¹piè®¾ç½®siä¿¡å·ç¯è¡¨ç¤ºpiæ˜¯å¦å¯ä»¥å¼€å§‹ å…±äº«ç¼“å†²åŒºçš„åˆä½œé—®é¢˜ï¼ˆç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ï¼‰ï¼šè®¾ç½®æœ‰ç•Œç¼“å†²åŒºäº’æ–¥é”ã€æ»¡ä¸ªæ•°ã€ç©ºä¸ªæ•°ä¸‰ä¸ªä¿¡å·ç¯ è¿›ç¨‹é€šä¿¡ Pã€V åŸè¯­ï¼šç®€å•çš„åŒæ­¥ä¿¡å·é€šè®¯ å…±äº«å†…å­˜ æ¶ˆæ¯é€šä¿¡ ç®¡é“ socket: ä¸åŒï¼ˆç›¸åŒï¼‰ä¸»æœºé—´è¿›ç¨‹é€šä¿¡ çº¿ç¨‹ ç¬¬äº”ç«  èµ„æºåˆ†é…ä¸è°ƒåº¦ æ•°æ®ç»“æ„ èµ„æºä¿¡æ¯å—ç»“æ„ï¼ˆåé¢å‡ ç« ä¸­çš„å¤„ç†åŠèµ„æºä¿¡æ¯å—ã€ä¸»å­˜èµ„æºä¿¡æ¯å—ã€è®¾å¤‡èµ„æºä¿¡æ¯å—ç­‰éƒ½ç±»ä¼¼è¿™ç§ç»“æ„ï¼‰ åˆ†é…ç­–ç•¥ å…ˆè¯·æ±‚å…ˆæœåŠ¡ ä¼˜å…ˆè°ƒåº¦ æ­»é” äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶ â‘  äº’æ–¥æ¡ä»¶ æ¶‰åŠçš„èµ„æºæ˜¯éå…±äº«çš„ï¼Œå³ä¸ºä¸´ç•Œèµ„æºã€‚ â‘¡ ä¸å‰¥å¤ºæ¡ä»¶ è¿›ç¨‹æ‰€è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œæ¯•ä¹‹å‰ï¼Œä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹å¼ºè¡Œå¤ºèµ°ã€‚ â‘¢ éƒ¨åˆ†åˆ†é… è¿›ç¨‹æ¯æ¬¡ç”³è¯·å®ƒæ‰€éœ€è¦çš„ä¸€éƒ¨åˆ†èµ„æºã€‚åœ¨ç­‰å¾…ä¸€æ–°èµ„æºçš„åŒæ—¶ï¼Œè¿›ç¨‹ç»§ç»­å ç”¨å·²åˆ†é…åˆ°çš„èµ„æºã€‚ â‘£ ç¯è·¯æ¡ä»¶ å­˜åœ¨ä¸€ç§è¿›ç¨‹çš„å¾ªç¯é“¾ï¼Œé“¾ä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹å·²è·å¾—çš„èµ„æºåŒæ—¶è¢«é“¾ä¸­ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€è¯·æ±‚ã€‚ æ­»é”å®šç† å¦‚æœèµ„æºåˆ†é…å›¾ä¸­æ²¡æœ‰ç¯è·¯ï¼Œåˆ™ç³»ç»Ÿä¸­æ²¡æœ‰æ­»é”ï¼Œå¦‚æœå›¾ä¸­å­˜åœ¨ç¯è·¯åˆ™ç³»ç»Ÿä¸­å¯èƒ½å­˜åœ¨æ­»é”ã€‚ å¦‚æœæ¯ä¸ªèµ„æºç±»ä¸­åªåŒ…å«ä¸€ä¸ªèµ„æºå®ä¾‹ï¼Œåˆ™ç¯è·¯æ˜¯æ­»é”å­˜åœ¨çš„å……åˆ†å¿…è¦æ¡ä»¶ã€‚ é¢„é˜²æ­»é” é™æ€é¢„é˜²ï¼šåœ¨ä½œä¸šè°ƒåº¦æ—¶ä¸ºé€‰ä¸­çš„ä½œä¸šåˆ†é…å®ƒæ‰€éœ€è¦çš„æ‰€æœ‰èµ„æºï¼Œå½“èµ„æºä¸€æ—¦åˆ†é…ç»™è¯¥ä½œä¸šåï¼Œåœ¨å…¶æ•´ä¸ªè¿è¡ŒæœŸé—´è¿™äº›èµ„æºä¸ºå®ƒç‹¬å ã€‚ åŠ¨æ€é¢„é˜² æœ‰åºèµ„æºåˆ†é…æ³•ï¼ˆç ´åç¯è·¯æ¡ä»¶ï¼‰ï¼šç»™ä¸åŒç±»çš„èµ„æºç¼–å·ï¼Œè¿›ç¨‹å¿…é¡»æŒ‰ç…§ç¼–å·å‡åºè¯·æ±‚èµ„æºï¼Œä¸”ç”³è¯·åŒä¸€ç±»èµ„æºæ—¶å¿…é¡»ä¸€æ¬¡ç”³è¯·å®Œ é“¶è¡Œå®¶ç®—æ³•ï¼šç”³è¯·è€…äº‹å…ˆè¯´æ˜å¯¹å„ç±»èµ„æºçš„æœ€å¤§éœ€æ±‚é‡ã€‚åœ¨è¿›ç¨‹æ´»åŠ¨æœŸé—´åŠ¨æ€ç”³è¯·æŸç±»èµ„æºæ—¶ï¼Œç”±ç³»ç»Ÿå®¡æŸ¥ç°æœ‰è¯¥ç±»èµ„æºçš„æ•°ç›®æ˜¯å¦èƒ½æ»¡è¶³å½“å‰è¿›ç¨‹çš„æœ€å¤§éœ€æ±‚é‡ï¼Œå¦‚èƒ½æ»¡è¶³å°±äºˆä»¥åˆ†é…ï¼Œå¦åˆ™æ‹’ç»ã€‚ å®‰å…¨åºåˆ—çš„å®šä¹‰ï¼šæŒ‡ç³»ç»Ÿèƒ½æŒ‰æŸç§è¿›ç¨‹æ¨è¿›é¡ºåºï¼ˆPi1ï¼ŒPi2ï¼Œã€‚ã€‚ã€‚Pinï¼‰ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…å…¶æ‰€éœ€çš„èµ„æºï¼Œç›´è‡³æ¯ä¸ªå¹¶å‘è¿›ç¨‹éƒ½èƒ½è¾¾åˆ°è·å¾—æœ€å¤§èµ„æºè€Œé¡ºåºå®Œæˆï¼Œæ­¤æ—¶ç§°(Pi1ï¼ŒPi2ï¼Œã€‚ã€‚ã€‚Pinï¼‰ä¸ºå®‰å…¨åºåˆ—ã€‚ èƒ½æ‰¾åˆ°å®‰å…¨åºåˆ—çš„çŠ¶æ€ä¸ºå®‰å…¨çŠ¶æ€ã€‚ ç¬¬å…­ç«  å¤„ç†æœºè°ƒåº¦ ä½œä¸šè°ƒåº¦ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ çŸ­ä½œä¸šä¼˜å…ˆ å“åº”æ¯”é«˜è€…ä¼˜å…ˆ å“åº”æ¯”=å“åº”æ—¶é—´/è®¡ç®—æ—¶é—´=1+ç­‰å¾…æ—¶é—´/è®¡ç®—æ—¶é—´\\text{å“åº”æ¯”} = \\text{å“åº”æ—¶é—´} / \\text{è®¡ç®—æ—¶é—´} = 1 + \\text{ç­‰å¾…æ—¶é—´} / \\text{è®¡ç®—æ—¶é—´}å“åº”æ¯”=å“åº”æ—¶é—´/è®¡ç®—æ—¶é—´=1+ç­‰å¾…æ—¶é—´/è®¡ç®—æ—¶é—´ ä¼˜å…ˆæ•° è¿›ç¨‹è°ƒåº¦ç®—æ³• è°ƒåº¦æ–¹å¼ï¼šå‰¥å¤ºã€éå‰¥å¤º ä¼˜å…ˆæ•°è°ƒåº¦ç®—æ³• é™æ€ä¼˜å…ˆæ•° åŠ¨æ€ä¼˜å…ˆæ•° å¾ªç¯è½®è½¬è°ƒåº¦ç®—æ³• ç®€å•å¾ªç¯è½®è½¬ å¯å˜æ—¶é—´ç‰‡å¾ªç¯è½®è½¬ å¤šé‡æ—¶é—´ç‰‡å¾ªç¯è½®è½¬ è°ƒåº¦ç”¨çš„è¿›ç¨‹çŠ¶æ€å˜è¿å›¾ è°ƒåº¦æ•ˆæœï¼šä¼˜å…ˆç…§é¡¾IOé‡å¤§çš„è¿›ç¨‹ï¼›é€‚å½“ç…§é¡¾è®¡ç®—é‡å¤§çš„è¿›ç¨‹ã€‚ ç¬¬ä¸ƒç«  ä¸»å­˜ç®¡ç† åŸºæœ¬æ¦‚å¿µ è™šå®åˆ†ç¦» é€»è¾‘åœ°å€ã€ç¨‹åºåœ°å€ç©ºé—´ ç‰©ç†åœ°å€ã€ä¸»å­˜ç©ºé—´ åœ°å€æ˜ å°„ é™æ€åœ°å€æ˜ å°„ï¼ˆç¼–è¯‘/è£…å…¥æ—¶æ˜ å°„ï¼‰ åŠ¨æ€åœ°å€æ˜ å°„ï¼ˆè¿è¡Œæ—¶ï¼‰ å­˜å‚¨ä¿æŠ¤ ä¸Šä¸‹ç•Œæ³• åŸºåœ°å€-é™é•¿æ³• åˆ†åŒºå­˜å‚¨ç®¡ç† åˆ†åŒºåˆ†é…æ•°æ®ç»“æ„ æ”¾ç½®ç­–ç•¥ ï¼ˆé€‰æ‹©ç©ºé—²åŒºçš„ç­–ç•¥ï¼‰ é¦–æ¬¡é€‚åº”ç®—æ³• ï¼ˆç©ºé—²åŒºé˜Ÿåˆ—æŒ‰åœ°å€ç”±ä½åˆ°é«˜æ’åˆ—ï¼‰ æœ€ä½³é€‚åº”ç®—æ³• ï¼ˆç©ºé—²åŒºé˜Ÿåˆ—æŒ‰å¤§å°ç”±å°åˆ°å¤§æ’åˆ—ï¼‰ æœ€åé€‚åº”ç®—æ³• ï¼ˆç©ºé—²åŒºé˜Ÿåˆ—æŒ‰å¤§å°ç”±å¤§åˆ°å°æ’åˆ—ï¼‰ é¡µå¼å­˜å‚¨ç®¡ç† é¡µå¼åœ°å€å˜æ¢ è¯·è°ƒç­–ç•¥ æ‰©å……é¡µè¡¨åŠŸèƒ½ â€”â€” ä¸­æ–­ä½ è¾…å­˜åœ°å€ ç¼ºé¡µå¤„ç† æ·˜æ±°ç­–ç•¥ æ‰©å……é¡µè¡¨åŠŸèƒ½ â€”â€” å¼•ç”¨ä½ æ”¹å˜ä½ æŠ–åŠ¨ ç½®æ¢ç®—æ³• å…ˆè¿›å…ˆå‡ºç®—æ³• æœ€ä¹…æœªä½¿ç”¨ LRU ç®—æ³• ï¼ˆè®¡æ•°æ³•ã€å¤šä½å¯„å­˜å™¨æ³•ã€æ ˆæ–¹æ³•ï¼‰ LRU è¿‘ä¼¼ç®—æ³• ï¼ˆæ—¶é’Ÿï¼‰ ç¬¬å…«ç«  è®¾å¤‡ç®¡ç† è®¾å¤‡ç‹¬ç«‹æ€§ æ‰€è°“è®¾å¤‡ç‹¬ç«‹æ€§æ˜¯æŒ‡ï¼Œç”¨æˆ·åœ¨ç¨‹åºä¸­ä½¿ç”¨çš„è®¾å¤‡ä¸å®é™…ä½¿ç”¨çš„è®¾å¤‡æ— å…³ï¼Œä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·ç¨‹åºä¸­ä»…ä½¿ç”¨é€»è¾‘è®¾å¤‡åã€‚ ç¼“å†²æŠ€æœ¯ åŒç¼“å†²ã€ç¯å½¢ç¼“å†²ã€ç¼“å†²æ±  ç£ç›˜è°ƒåº¦ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ FCFS æœ€çŸ­å¯»é“ä¼˜å…ˆ SSTF æ‰«æç®—æ³• SCAN å¾ªç¯æ‰«æç®—æ³• CSCAN è®¾å¤‡åˆ†é… ç‹¬äº«åˆ†é… å…±äº«åˆ†é… è™šæ‹Ÿåˆ†é… Spooling ç³»ç»Ÿ åˆ©ç”¨é€šé“å’Œä¸­æ–­æŠ€æœ¯ï¼Œåœ¨ä¸»æœºæ§åˆ¶ä¹‹ä¸‹ï¼Œç”±é€šé“å®Œæˆè¾“å…¥è¾“å‡ºå·¥ä½œã€‚ç³»ç»Ÿæä¾›ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿ (åŒ…æ‹¬é¢„è¾“å…¥ç¨‹åºã€ç¼“è¾“å‡ºç¨‹åºã€äº•ç®¡ç†ç¨‹åºã€é¢„è¾“å…¥è¡¨ã€ç¼“è¾“å‡ºè¡¨)ã€‚å®ƒæä¾›è¾“å…¥æ”¶å­˜å’Œè¾“å‡ºå‘é€çš„åŠŸèƒ½ï¼Œä½¿å¤–éƒ¨è®¾å¤‡å¯ä»¥å¹¶è¡Œæ“ä½œã€‚è¿™ä¸€è½¯ä»¶ç³»ç»Ÿç§°ä¸ºSPOOLINGç³»ç»Ÿ ç¬¬ä¹ç«  æ–‡ä»¶ç³»ç»Ÿ æ–‡ä»¶çš„é€»è¾‘ç»“æ„ æµå¼æ–‡ä»¶ æµå¼æ–‡ä»¶æ˜¯ç›¸å…³çš„æœ‰åºå­—ç¬¦çš„é›†åˆï¼Œæ˜¯æ— ç»“æ„çš„ã€‚æµå¼æ–‡ä»¶æ˜¯æŒ‰ä¿¡æ¯çš„ä¸ªæ•°æˆ–ä»¥ç‰¹æ®Šå­—ç¬¦ä¸ºç•Œè¿›è¡Œå­˜å–çš„ã€‚ è®°å½•å¼æ–‡ä»¶ è®°å½•å¼æ–‡ä»¶æ˜¯ä¸€ç§æœ‰ç»“æ„çš„æ–‡ä»¶ã€‚è¿™ç§æ–‡ä»¶åœ¨é€»è¾‘ä¸Šæ€»æ˜¯è¢«çœ‹æˆä¸€ç»„è¿ç»­é¡ºåºçš„è®°å½•çš„é›†åˆã€‚ æŒ‰ç…§æ¯ä¸ªè®°å½•é•¿åº¦æ˜¯å¦å›ºå®šåˆ†ä¸ºï¼šå®šé•¿è®°å½•ã€å˜é•¿è®°å½• æ–‡ä»¶çš„ç‰©ç†ç»“æ„ è¿ç»­æ–‡ä»¶ ä¸²è”æ–‡ä»¶ FAT æ–‡ä»¶ ï¼ˆé‡‡ç”¨æ–‡ä»¶åˆ†é…è¡¨ï¼Œå°†ä¸²è”æ–‡ä»¶ä¸­çš„å‹¾é“¾å­—é›†ä¸­åœ¨ä¸€èµ·å­˜æ”¾ï¼Œé€šå¸¸ä»ç£ç›˜ç¬¬äºŒä¸ªæ‰‡åŒºå¼€å§‹å­˜æ”¾ï¼‰ FATX ä¸­çš„ X è¡¨ç¤ºä¸€ä¸ªå—å·ï¼ˆç°‡å·ï¼‰å å¤šå°‘ä½ ä»¥FAT16ä¸ºä¾‹ï¼Œå‹¾é“¾å­—0000Hè¡¨ç¤ºç©ºé—²å—ï¼ŒFFFFHè¡¨ç¤ºç»“å°¾ ç´¢å¼•æ–‡ä»¶ å¤šçº§ç´¢å¼• ç›´æ¥ç´¢å¼• ä¸€çº§ã€äºŒçº§ã€ä¸‰çº§é—´æ¥ç´¢å¼• Unix ç³»ç»Ÿçš„ i ç»“ç‚¹ é»˜è®¤æƒ…å†µä¸‹ä¸€ä¸ªç£ç›˜å—çš„å¤§å°ä¸º 512 Byteï¼Œä¸€ä¸ªå—å·å æ® 2 Byte Unix 7 i_addr[8] å°å‹æ–‡ä»¶ i_addr[0...7] ç›´æ¥ç´¢å¼•ï¼Œ8Ã—512B8 \\times 512B8Ã—512B å¤§å‹æ–‡ä»¶ i_addr[0...6] ä¸€çº§é—´æ¥ç´¢å¼•ï¼Œi_addr[7] ç©ºç½®ï¼Œ7Ã—256Ã—256B7 \\times 256 \\times 256B7Ã—256Ã—256B å·¨å‹æ–‡ä»¶ i_addr[0...6] ä¸€çº§é—´æ¥ç´¢å¼•ï¼Œi_addr[7] äºŒçº§é—´æ¥ç´¢å¼•ï¼Œ(7Ã—256+2562)Ã—512B(7\\times256 + 256^2 )\\times512B(7Ã—256+2562)Ã—512B Unix System V i_addr[13] i_addr[0...9] ç›´æ¥ç´¢å¼• i_addr[10] ä¸€çº§é—´æ¥ç´¢å¼• i_addr[11] äºŒçº§é—´æ¥ç´¢å¼• i_addr[12] ä¸‰çº§é—´æ¥ç´¢å¼• ç©ºé—²å—ç®¡ç†ä¹‹æˆç»„é“¾æ¥æ³• ç»“æ„ï¼šs_nfree ä¸ºç©ºé—²å—æ•°ï¼Œs_freeä¸ºç©ºé—²å—å·æ•°ç»„ï¼ˆå¤§å°ä¸º100ï¼‰ï¼Œs_free[0] æ¯”è¾ƒç‰¹æ®Šå› ä¸ºå®ƒä¸ä»…ä»…æ˜¯æŸä¸ªç©ºé—²å—å·è€Œä¸”å®ƒæ‰€æŒ‡å‘çš„ç©ºé—²å—åˆæ˜¯ä¸€ä¸ªç©ºé—²å—ç´¢å¼•è¡¨ åˆ†é…-é‡Šæ”¾ç®—æ³• æ–‡ä»¶ç›®å½• ä¸€çº§æ–‡ä»¶ç›®å½• æ ‘å‹æ–‡ä»¶ç›®å½• ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥","link":"/posts/eaace690/"},{"title":"ç®—æ³•&#x2F;ç®—æ³•åˆ†æä¸è®¾è®¡","text":"ç®—æ³• ç¬¬ä¸€ã€äºŒç«  åŸºæœ¬æ¦‚å¿µ çº²è¦ å¾ªç¯ä¸å˜å¼ ä¼ªä»£ç èŒƒå¼ é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å¸Œå°”æ’åºã€å †æ’åºä¸æ˜¯ç¨³å®šçš„æ’åºç®—æ³•ï¼Œè€Œå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å½’å¹¶æ’åºå’ŒåŸºæ•°æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•ã€‚ Q&amp;A ç®—æ³•çš„åŸºæœ¬æ¦‚å¿µå’Œæ€§è´¨ ç®—æ³•æ˜¯ä¸€ç»„æœ‰ç©·çš„è§„åˆ™ï¼Œå®ƒè§„å®šäº†è§£å†³æŸä¸€ç‰¹å®šç±»å‹é—®é¢˜çš„ä¸€ç³»åˆ—è¿ç®— ä»€ä¹ˆæ˜¯å¾ªç¯ä¸å˜å¼ï¼Ÿç”¨å¾ªç¯ä¸å˜å…³ç³»è¯æ˜å¾ªç¯çš„æ­£ç¡®æ€§ åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥å¾ªç¯ä¹‹å‰æˆç«‹ã€ä»¥åæ¯æ¬¡å¾ªç¯ä¹‹åè¿˜æˆç«‹çš„å…³ç³» åˆ†ä¸‰æ­¥èµ°ï¼š 1ï¼‰åˆå§‹åŒ–ï¼šè¯æ˜åˆå§‹çŠ¶æ€æ—¶å¾ªç¯ä¸å˜å¼æˆç«‹ï¼Œå³è¯æ˜å¾ªç¯ä¸å˜å¼åœ¨å¾ªç¯å¼€å§‹ä¹‹å‰ä¸ºçœŸï¼› 2ï¼‰ä¿æŒï¼šè¯æ˜æ¯æ¬¡å¾ªç¯ä¹‹åã€ä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹ä¹‹å‰å¾ªç¯ä¸å˜å¼ä»ä¸ºçœŸï¼› 3ï¼‰ç»ˆæ­¢ï¼šè¯æ˜å¾ªç¯å¯ä»¥åœ¨æœ‰é™æ¬¡å¾ªç¯ä¹‹åç»ˆæ­¢ï¼Œç»ˆæ­¢æ—¶å¾ªç¯ä¸å˜å¼ä¾ç„¶ä¸ºçœŸ ç¬¬ä¸‰ç«  çº²è¦ ä¸Šç•Œã€ä¸‹ç•Œã€æ¸è¿›ç´§ç¡®ç•Œï¼šÎ©ã€Oã€Î˜ éæ¸è¿›ç´§ç¡®ç•Œï¼šwã€o é™ç•Œå‡½æ•°æ€§è´¨ï¼šä¼ é€’æ€§ã€è‡ªåæ€§ã€å¯¹ç§°æ€§ã€è½¬ç½®å¯¹ç§°æ€§ ç›¸å…³å®šç†ï¼ˆç”¨äºä¼°ç®—é™ç•Œå‡½æ•°ï¼‰ï¼šå¤šé¡¹å¼å®šç†ã€é˜¶å¤§å°å®šç† æŒ‡æ•°æ—¶é—´ç®—æ³•ã€å¤šé¡¹å¼æ—¶é—´ç®—æ³• n è¾ƒå¤§æ—¶ï¼Œå¤§äºnlognçš„ç®—æ³•æ¯”è¾ƒå›°éš¾ Q&amp;A ç¬¬å››ç«  åˆ†æ²»ç­–ç•¥ çº²è¦ æœ€å¤§å­æ•°ç»„é—®é¢˜ åŒ–ç®€é€’å½’å¼ï¼šä»£æ¢æ³•ã€é€’å½’æ ‘æ³•ã€ä¸»æ–¹æ³• ä»£æ¢æ³•ï¼šé¢„å¤„ç†ã€çŒœæµ‹è§£ã€æ•°å­¦å½’çº³æ³•è¯æ˜ é€’å½’æ ‘æ³•ï¼šé¢„å¤„ç†ã€ç”»é€’å½’æ ‘ã€æ±‚æé™å’Œã€æ•°å­¦å½’çº³æ³•è¯æ˜ è¿ç”¨ä¸»å®šç† å±•å¼€æ³•ç›´æ¥åŒ–ç®€ Q&amp;A åˆ†æ²»æ³•çš„åŸºæœ¬æ€æƒ³ å½“é—®é¢˜è§„æ¨¡æ¯”è¾ƒå¤§è€Œæ— æ³•ç›´æ¥æ±‚è§£æ—¶ï¼Œå°†åŸå§‹é—®é¢˜åˆ†è§£ä¸ºå‡  ä¸ªè§„æ¨¡è¾ƒå°ã€ä½†ç±»ä¼¼äºåŸå§‹é—®é¢˜çš„å­é—®é¢˜ï¼Œç„¶åé€’å½’åœ°æ±‚è§£è¿™äº› å­é—®é¢˜ï¼Œæœ€ååˆå¹¶å­é—®é¢˜çš„è§£ä»¥å¾—åˆ°åŸå§‹é—®é¢˜çš„è§£ã€‚ åˆ†è§£ã€è§£å†³ã€åˆå¹¶ ç¬¬å…«ç«  çº¿æ€§æ—¶é—´æ’åº çº²è¦ æœ€åæƒ…å†µä¸‹ï¼Œä»»ä½•æ’åºç®—æ³•éƒ½è¦è¿›è¡ŒÎ©(nlgn)æ¬¡æ¯”è¾ƒ æ¡¶æ’åºã€å½’å¹¶æ’åºä¸ºæ¸è¿›æœ€ä¼˜æ’åºç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºf(n)=O(nlgn) ç¬¬åäº”ç«  çº²è¦ ç»å…¸é—®é¢˜ é’¢æ¡åˆ‡å‰²é—®é¢˜ O(n2)O(n^2)O(n2) çŸ©é˜µé“¾ä¹˜ O(n3)O(n^3)O(n3) æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜LCS O(nm)O(nm)O(nm) æœ€ä¼˜äºŒå‰æœç´¢æ ‘ O(n3)O(n^3)O(n3) ä¼°ç®—æ—¶é—´å¤æ‚åº¦ å­é—®é¢˜å›¾æ³•ï¼šÎ£æ‰€æœ‰ç»“ç‚¹ç»“ç‚¹å‡ºåº¦Î£_{\\text{æ‰€æœ‰ç»“ç‚¹}}\\text{ç»“ç‚¹å‡ºåº¦}Î£æ‰€æœ‰ç»“ç‚¹â€‹ç»“ç‚¹å‡ºåº¦ Î£æ‰€æœ‰å­é—®é¢˜è§£å†³ä¸€ä¸ªå­é—®é¢˜è¦ç”¨çš„æ“ä½œæ•°Î£_{\\text{æ‰€æœ‰å­é—®é¢˜}}\\text{è§£å†³ä¸€ä¸ªå­é—®é¢˜è¦ç”¨çš„æ“ä½œæ•°}Î£æ‰€æœ‰å­é—®é¢˜â€‹è§£å†³ä¸€ä¸ªå­é—®é¢˜è¦ç”¨çš„æ“ä½œæ•° æœ€ä¼˜å­ç»“æ„å’Œå­é—®é¢˜æ— å…³æ€§ æœ€é•¿ç®€å•è·¯å¾„ä¸æ»¡è¶³å­é—®é¢˜æ— å…³æ€§ å‰ªåˆ‡-ç²˜è´´æ³• Q&amp;A æœ€ä¼˜åŒ–é—®é¢˜æ˜¯ä¸€ç±»ä»€ä¹ˆé—®é¢˜ï¼Ÿ è¿™ä¸€ç±»é—®é¢˜çš„å¯è¡Œè§£å¯èƒ½æœ‰å¾ˆå¤šä¸ªã€‚æ¯ä¸ªè§£éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬å¸Œæœ›å¯»æ‰¾å…·æœ‰æœ€ä¼˜å€¼çš„è§£ï¼ˆæœ€å°å€¼æˆ–æœ€å¤§å€¼ï¼‰ ç®€è¿°å¯¹åŠ¨æ€è§„åˆ’æ‰€èƒ½å¸¦æ¥è®¡ç®—æ€§èƒ½æ”¹è¿›çš„ç†è§£ å¤‡ä»½å­é—®é¢˜çš„è§£ï¼Œç©ºé—´æ¢æ—¶é—´ ä»€ä¹ˆæ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹ å³é—®é¢˜çŠ¶æ€çš„é€’æ¨å…³ç³»å¼ ç¬¬åå…­ç«  è´ªå¿ƒç®—æ³• çº²è¦ åŸºæœ¬æ€æƒ³ åˆ†æ­¥éª¤å®æ–½ï¼Œå®ƒåœ¨æ¯ä¸€æ­¥ä»…ä½œå‡ºå½“æ—¶çœ‹èµ·æ¥æœ€ä½³çš„é€‰æ‹©ï¼Œå³å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œå¹¶å¯„å¸Œæœ›è¿™æ ·çš„é€‰æ‹©æœ€ç»ˆèƒ½å¯¼è‡´å…¨å±€æœ€ä¼˜è§£ï¼Œï¼ˆè´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼‰ ç»å…¸é—®é¢˜ æœ€å°ç”Ÿæˆæ ‘é—®é¢˜çš„Primç®—æ³•ã€Kruskalç®—æ³•ï¼Œå•æºæœ€çŸ­ è·¯å¾„Dijkstraç®—æ³•ç­‰ï¼Œä»¥åŠä¸€äº›è¿‘ä¼¼ç®—æ³• æ´»åŠ¨é€‰æ‹©é—®é¢˜ O(n)O(n)O(n)ï¼šæ¯æ¬¡é€‰æ‹©æœ€æ—©ç»“æŸçš„æ´»åŠ¨åŠ å…¥é›†åˆ å“ˆå¤«æ›¼ç¼–ç ï¼šæ¯æ¬¡ç§»é™¤é˜Ÿåˆ—ä¸­é¢‘ç‡æœ€ä½çš„ä¸¤ä¸ªç»“ç‚¹åˆå¹¶æˆä¸€ä¸ªç»“ç‚¹åŠ å…¥é˜Ÿåˆ— å°¾é€’å½’å¯ä»¥è½»æ¾åœ°è½¬åŒ–ä¸ºå¾ªç¯å¼ å¯ä»¥è§£å†³åˆ†æ•°èƒŒåŒ…é—®é¢˜ O(nlogn)O(nlogn)O(nlogn)ï¼Œä¸èƒ½è§£å†³0-1èƒŒåŒ…é—®é¢˜ Q&amp;A è´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ€æƒ³å’Œä¸€èˆ¬æ­¥éª¤ åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡é€‰æ‹©å±€éƒ¨æœ€ä¼˜æ¥å¯¼è‡´å…¨å±€æœ€ä¼˜ ç¡®å®šé—®é¢˜çš„æœ€ä¼˜å­ç»“æ„ï¼› å°†æœ€ä¼˜åŒ–é—®é¢˜è½¬åŒ–ä¸ºè¿™æ ·çš„å½¢å¼ï¼šæ¯æ¬¡å¯¹å…¶ä½œå‡ºé€‰æ‹©åï¼Œåªå‰©ä¸‹ä¸€ä¸ªå­é—®é¢˜éœ€è¦æ±‚è§£ï¼› è¯æ˜ä½œå‡ºè´ªå¿ƒé€‰æ‹©åï¼Œå‰©ä½™çš„å­é—®é¢˜æ»¡è¶³ï¼šå…¶æœ€ä¼˜å­è§£ä¸å‰é¢çš„è´ªå¿ƒé€‰æ‹©ç»„åˆå³å¯å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£(å…·æœ‰æœ€ä¼˜å­ç»“æ„)ã€‚ ä»€ä¹ˆæ˜¯è´ªå¿ƒé€‰æ‹©æ€§å’Œè´ªå¿ƒé€‰æ‹©? è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼šå¯ä»¥é€šè¿‡åšå‡ºå±€éƒ¨æœ€ä¼˜ï¼ˆè´ªå¿ƒï¼‰é€‰æ‹©æ¥æ„é€  å…¨å±€æœ€ä¼˜è§£çš„æ€§è´¨ã€‚ åœ¨è´ªå¿ƒç®—æ³•çš„æ¯ä¸€æ­¥æ‰€åšçš„å½“å‰æœ€ä¼˜é€‰æ‹©ï¼ˆå±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼‰å°±å«åšè´ªå¿ƒé€‰æ‹© æ¯”è¾ƒåŠ¨æ€è§„åˆ’å’Œè´ªå¿ƒæ–¹æ³•çš„å¼‚åŒã€‚ è´ªå¿ƒç®—æ³•å¯ä»¥ç›´æ¥è¿›è¡Œè´ªå¿ƒé€‰æ‹©ï¼Œè€ŒåŠ¨æ€è§„åˆ’å¿…é¡»è¦æ¯”è¾ƒå„ç§é€‰æ‹©å†³å‡ºæœ€ä¼˜é€‰æ‹© è´ªå¿ƒç®—æ³•å’ŒåŠ¨æ€è§„åˆ’éƒ½éœ€è¦é—®é¢˜æ»¡è¶³æœ€ä¼˜å­ç»“æ„å’Œå­é—®é¢˜æ— å…³æ€§ ç¬¬äºŒåç«  åŸºæœ¬çš„å›¾ç®—æ³• çº²è¦ é‚»æ¥è¡¨ã€é‚»æ¥çŸ©é˜µ BFSã€DFS æ´»ç»“ç‚¹ã€E-ç»“ç‚¹ã€æ­»ç»“ç‚¹ å›æº¯æ³• ä½¿ç”¨é™ç•Œå‡½æ•°çš„æ·±åº¦ä¼˜å…ˆçŠ¶æ€ç»“ç‚¹ç”Ÿæˆæ–¹æ³•ç§°ä¸ºå›æº¯æ³• åˆ†æ”¯-é™ç•Œæ³• ä½¿ç”¨é™ç•Œå‡½æ•°çš„Eç»“ç‚¹ä¸€ç›´ä¿æŒåˆ°æ­»ä¸ºæ­¢ï¼ˆä¸­é—´ä¸ä¼šç»å†æ´»ç»“ç‚¹çŠ¶æ€ï¼‰çš„çŠ¶æ€ç»“ç‚¹ç”Ÿæˆæ–¹æ³•ç§°ä¸ºåˆ†æ”¯-é™ç•Œæ–¹æ³•ï¼ˆå®½åº¦ä¼˜å…ˆï¼‰ ä¸¤ç§ç­–ç•¥â€”â€”FIFOæ£€ç´¢ï¼šæ´»ç»“ç‚¹è¡¨é‡‡ç”¨é˜Ÿåˆ—ã€LIFOæ£€ç´¢ï¼šæ´»ç»“ç‚¹è¡¨é‡‡ç”¨æ ˆ LCæ£€ç´¢(A*ç®—æ³•) é€‰æ‹©C^(X)\\hat{C}(X)C^(X)å€¼æœ€å°çš„æ´»ç»“ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªE-ç»“ç‚¹çš„çŠ¶æ€ç©ºé—´æ ‘æ£€ç´¢æ–¹æ³• æˆæœ¬ä¼°è®¡å‡½æ•° C^(X)=g^(X)+f(h(x))\\hat{C}(X) = \\hat{g}(X) + f(h(x))C^(X)=g^â€‹(X)+f(h(x)) C(X)C(X)C(X) æˆæœ¬å‡½æ•°ï¼Œåªæœ‰å½“æ•´ä¸ªçŠ¶æ€ç©ºé—´æ ‘ç”Ÿæˆå‡ºæ¥æ—¶æ‰çŸ¥é“ g^(X)\\hat{g}(X)g^â€‹(X) æ˜¯ç”±Xåˆ°è¾¾ä¸€ä¸ªç­”æ¡ˆç»“ç‚¹æ‰€éœ€æˆæœ¬çš„ä¼°è®¡å‡½æ•° h(X)h(X)h(X) æ˜¯æ ¹èŠ‚ç‚¹åˆ°Xçš„æˆæœ¬â€”â€”å·²å‘ç”Ÿæˆæœ¬ f(X)f(X)f(X) æ˜¯æŸä¸€ä¸ªä¸å‡å‡½æ•° BFSå’ŒD_Searchæ˜¯ç‰¹æ®Šçš„LCæ£€ç´¢ï¼Œå¯¹äºBFSæœ‰ g^(X)=0\\hat{g}(X)=0g^â€‹(X)=0ï¼Œf(h(x))=f(h(x))=f(h(x))= ç»“ç‚¹æ·±åº¦ï¼›å¯¹äºDSearchæœ‰f(h(x))=0f(h(x)) = 0f(h(x))=0ï¼ŒXXXè¶Šæ·±g^(X)\\hat{g}(X)g^â€‹(X)è¶Šå° åˆ©ç”¨åˆ†æ”¯é™ç•Œæ³•æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ åˆ©ç”¨æˆæœ¬ä¼°è®¡å‡½æ•°ï¼ˆæˆæœ¬ä¸‹ç•Œï¼‰C^(X)\\hat{C}(X)C^(X)æ™ºèƒ½åœ°é€‰æ‹©ä¸‹ä¸€ä¸ªE-ç»“ç‚¹ æˆæœ¬ä¸Šç•ŒUUUç”±ç­”æ¡ˆç»“ç‚¹çš„æˆæœ¬C(X)C(X)C(X)æ‰€æ›´æ–°ï¼Œæ‰©å±•ç»“ç‚¹æ—¶èˆå» C^(X)&gt;U\\hat{C}(X) &gt; UC^(X)&gt;U çš„ç»“ç‚¹ å…¸å‹ä¾‹é¢˜ï¼šå¸¦é™æœŸçš„ä½œä¸šæ’åºé—®é¢˜ Q&amp;A BFSã€DFSã€D_Searchçš„åŒºåˆ« ç®€è¿° LC-æ£€ç´¢çš„åŸºæœ¬æ€æƒ³ é€‰æ‹©æˆæœ¬ä¼°è®¡æœ€å°çš„æ´»ç»“ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªE-ç»“ç‚¹çš„çŠ¶æ€ç©ºé—´æ ‘æ£€ç´¢æ–¹æ³•ï¼Œä»¥æ­¤æ¥åŠ å¿«æ‰¾åˆ°ä¸€ä¸ªå¯è¡Œè§£ ä»€ä¹ˆç»“ç‚¹æˆæœ¬å‡½æ•°å’Œç»“ç‚¹æˆæœ¬ä¼°è®¡å‡½æ•°ï¼Ÿç»“ç‚¹æˆæœ¬ä¼°è®¡å‡½æ•°ä¸­hå‡½æ•°å’Œğ‘”Ì‚å‡½æ•°ä¼šåˆ†åˆ«å¯¹ç®—æ³•å¸¦æ¥ä»€ä¹ˆå½±å“ï¼Ÿ ç»“ç‚¹æˆæœ¬å‡½æ•°æ˜¯æŒ‡ç»è¿‡è¯¥ç»“ç‚¹åˆ°è¾¾å¯è¡Œè§£çš„æœ€å°å®é™…æˆæœ¬ ç»“ç‚¹æˆæœ¬ä¼°è®¡å‡½æ•°æ˜¯å¯¹ç»“ç‚¹æˆæœ¬å‡½æ•°çš„ä¼°è®¡ h(X)h(X)h(X)å‡½æ•°ä½¿å¾—ç®—æ³•ä¼˜å…ˆè€ƒè™‘è·ç¦»ç­”æ¡ˆç»“ç‚¹æ›´è¿‘çš„ç»“ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªæ´»åŠ¨ç»“ç‚¹ g^(X)\\hat{g}(X)g^â€‹(X) å‡½æ•°ä½¿å¾—ç®—æ³•ä¼˜å…ˆè€ƒè™‘ç¦»æ ¹ç»“ç‚¹æ›´è¿‘çš„ç»“ç‚¹ï¼ˆå·²å‘ç”Ÿæˆæœ¬æ›´ä½ï¼‰ äº†è§£ğ‘”Ì‚å‡½æ•°çš„æ€§è´¨ï¼Œäº†è§£C(X)ä¸Šç•Œçš„ä½œç”¨ å•çº¯ä½¿ç”¨g^(X)\\hat{g}(X)g^â€‹(X)é€‰æ‹©Eç»“ç‚¹ä¼šå¯¼è‡´ç®—æ³•åå‘çºµæ·±æ£€æŸ¥ C(X)ä¸Šç•Œèƒ½å¤Ÿæ€æ­»é‚£äº›æ˜æ˜¾æˆæœ¬æ›´å¤§æ´»ç»“ç‚¹ï¼ŒåŠ é€Ÿç®—æ³•ï¼Œé™ä½æ£€ç´¢çš„ç›²ç›®æ€§ ç¬¬äºŒåä¸‰ç«  æœ€å°ç”Ÿæˆæ ‘ æœ€å°ç”Ÿæˆæ ‘çš„ç”Ÿæˆ ç¬¬äºŒåå››ç«  å•æºæœ€çŸ­è·¯ çº²è¦ åŸºæœ¬æ¦‚å¿µ å‰é©±å­å›¾ GÏ€(VÏ€,EÏ€)G_\\pi (V_\\pi, E_\\pi)GÏ€â€‹(VÏ€â€‹,EÏ€â€‹)ï¼Œæœ€çŸ­è·¯å¾„æ ‘ï¼ˆç®—æ³•ç»ˆæ­¢åçš„æœ€ç»ˆ GÏ€G_\\piGÏ€â€‹ï¼‰ å³VÏ€V_\\piVÏ€â€‹æ˜¯å›¾Gä¸­çš„å‰é©±ç»“ç‚¹ä¸ä¸ºNILçš„ç»“ç‚¹çš„é›†åˆï¼Œå†åŠ ä¸Šæºç‚¹s å³EÏ€E_\\piEÏ€â€‹æ˜¯ç”±VÏ€V_\\piVÏ€â€‹ä¸­çš„ç»“ç‚¹çš„Ï€\\piÏ€å€¼æ‰€â€œè¯±å¯¼â€çš„è¾¹çš„é›†åˆ å‰é©±èŠ‚ç‚¹ v.Ï€v.\\piv.Ï€ï¼Œæœ€çŸ­è·¯å¾„é•¿åº¦ä¸Šç•Œ v.dv.dv.d æœ€çŸ­è·¯å¾„çš„æœ€ä¼˜å­ç»“æ„ï¼šä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ å¾„çš„ä»»ä½•å­è·¯å¾„éƒ½æ˜¯æœ€çŸ­çš„ã€‚ å¦‚æœå­˜åœ¨è´Ÿæƒé‡çš„è¾¹ï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨æƒé‡ä¸ºè´Ÿå€¼çš„ç¯è·¯ï¼Œ è€Œé€ æˆå›¾ä¸­æœ€çŸ­è·¯å¾„æ— å®šä¹‰ã€‚ æœ€çŸ­è·¯ä¸åº”åŒ…å«ç¯è·¯ï¼šç®€å•è·¯å¾„ ç®—æ³•è¯æ˜ è·¯å¾„æ¾å¼›æ€§è´¨ï¼šRelax(u,v,w)Relax(u, v, w)Relax(u,v,w) åæœ‰ v.dâ‰¤u.d+Ï‰(u,v)v.d \\leq u.d + \\omega (u,v)v.dâ‰¤u.d+Ï‰(u,v) ä¸‰è§’ä¸ç­‰å¼æ€§è´¨ Î´(s,v)â‰¤Î´(s,u)+Ï‰(u,v)\\delta (s, v) \\leq \\delta (s, u) + \\omega (u, v)Î´(s,v)â‰¤Î´(s,u)+Ï‰(u,v) ä¸Šç•Œæ€§è´¨ Î´(s,v)â‰¤v.d\\delta (s, v) \\leq v.dÎ´(s,v)â‰¤v.d æ”¶æ•›æ€§è´¨ï¼šæ¾å¼›æ“ä½œ relax(u,v)relax(u,v)relax(u,v) å‰æœ‰ u.d=Î´(s,u)u.d = \\delta (s, u)u.d=Î´(s,u) åˆ™æ¾å¼›åå¿…æœ‰ v.d=Î´(s,v)v.d = \\delta (s, v)v.d=Î´(s,v) Bellman-Ford ç®—æ³• O(VE)O(VE)O(VE) å¯ä»¥æœ‰è´Ÿæƒé‡çš„è¾¹ï¼Œä½†ä¸èƒ½æœ‰è´Ÿæƒé‡çš„ç¯ Dijkstra ç®—æ³• ä¸èƒ½æœ‰è´Ÿæƒé‡çš„è¾¹å’Œç¯ æ—¶é—´å¤æ‚åº¦ï¼š å·®åˆ†çº¦æŸç³»ç»Ÿ çº¦æŸå›¾ è¾¹çš„æƒé‡ï¼šå¦‚æœ xjâˆ’xiâ‰¤bkx_j - x_i \\leq b_kxjâ€‹âˆ’xiâ€‹â‰¤bkâ€‹ æ˜¯ä¸€ä¸ªå·®åˆ†çº¦æŸæ¡ä»¶ï¼Œåˆ™è¾¹ (vi,vj)(v_i ,v_j)(viâ€‹,vjâ€‹) çš„æƒé‡è®°ä¸º$ Ï‰(v_i ,v_j ) = b_k$ ï¼Œè€Œä»v0v_0v0â€‹å‡ºå‘åˆ°å…¶ä»–ç»“ç‚¹çš„è¾¹çš„ æƒé‡ Ï‰(v0,vj)=0Ï‰(v_0 ,v_j)=0Ï‰(v0â€‹,vjâ€‹)=0 é—®é¢˜å½’çº¦ å¦‚æœå›¾Gä¸åŒ…å«æƒé‡ä¸ºè´Ÿå€¼çš„å›è·¯ï¼Œåˆ™ (Î´(v0,v1),Î´(v0,v2),...,Î´(v0,vn))(\\delta (v_0, v_1), \\delta (v_0, v_2), ..., \\delta (v_0, v_n))(Î´(v0â€‹,v1â€‹),Î´(v0â€‹,v2â€‹),...,Î´(v0â€‹,vnâ€‹)) ä¸ºå·®åˆ†çº¦æŸç³»ç»Ÿçš„ä¸€ä¸ªå¯è¡Œè§£ï¼ˆç”¨ä¸‰è§’ä¸ç­‰å¼è¯æ˜ï¼‰ å¦‚æœå›¾GåŒ…å«æƒé‡ä¸ºè´Ÿå€¼çš„å›è·¯ï¼Œåˆ™è¯¥ç³»ç»Ÿæ²¡æœ‰å¯è¡Œè§£ Q&amp;A ä»€ä¹ˆæ˜¯æ¾å¼›æ“ä½œï¼Ÿ ä¸¾ä¾‹è¯´æ˜åœ¨å¸¦æœ‰è´Ÿæƒé‡è¾¹çš„å›¾ä¸Š Dijkstra ç®—æ³•å·¥ä½œå¼‚å¸¸ã€‚ Bellman-Ford ç®—æ³•æ˜¯å¦‚ä½•æ£€æŸ¥å›¾ä¸­å¯èƒ½å­˜åœ¨çš„è´Ÿæƒé‡å›è·¯çš„ï¼Ÿ å¯¹æ¯æ¡è¾¹æ¾å¼›è¿­ä»£V-1æ¬¡ä¹‹åï¼Œæ£€æŸ¥æ‰€æœ‰è¾¹ (u,v)(u,v)(u,v) çœ‹çœ‹æ˜¯å¦æœ‰ v.d&gt;u.d+w(u,v)v.d &gt; u.d + w(u,v)v.d&gt;u.d+w(u,v)ï¼Œå¦‚æœæœ‰è¯´æ˜å­˜åœ¨è´Ÿæƒé‡å›è·¯ï¼Œå¦åˆ™ä¸å­˜åœ¨ã€‚ ç¬¬äºŒåäº”ç«  å¤šå…ƒæœ€çŸ­è·¯ çº²è¦ æˆæœ¬é‚»æ¥çŸ©é˜µWï¼Œæœ€çŸ­è·¯å¾„çŸ©é˜µDï¼Œå‰é©±ç»“ç‚¹çŸ©é˜µÎ  Floyd-Warshall ç®—æ³• O(v3)O(v^3)O(v3) ç®—æ³•å…è®¸å›¾ä¸­å­˜åœ¨è´Ÿæƒé‡çš„è¾¹ï¼Œä½†ä¸èƒ½å­˜åœ¨æƒé‡ä¸ºè´Ÿå€¼çš„ç¯è·¯ ç‰¹æ®Šåº”ç”¨ï¼šè®¡ç®—ä¼ é€’é—­åŒ…Tï¼ˆmin=&gt;âˆ¨min=&gt;\\lormin=&gt;âˆ¨ ã€+=&gt;âˆ§+ =&gt; \\land+=&gt;âˆ§ï¼‰ Johnson ç®—æ³• O(n3)O(n^3)O(n3) ç”¨äºç¨€ç–å›¾ é‡èµ‹æƒé‡+å•æºæœ€çŸ­è·¯æ³•ï¼š å¦‚æœå›¾GåŒ…å«æƒé‡ä¸ºè´Ÿå€¼çš„è¾¹ï¼Œä½†æ²¡æœ‰æƒé‡ä¸ºè´Ÿå€¼çš„ç¯è·¯ï¼Œ åˆ™é€šè¿‡é‡èµ‹æƒé‡ï¼Œæ„é€ å‡ºä¸€ç»„æ–°çš„éè´Ÿæƒé‡å€¼ï¼Œç„¶åé€šè¿‡å¯¹æ¯ä¸ªç»“ç‚¹è¿è¡Œä¸€æ¬¡Dijkstraç®—æ³•æ¥æ‰¾åˆ°æ‰€æœ‰ç»“ç‚¹å¯¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ æ–°æƒå€¼ w^\\hat{w}w^ è¦æ»¡è¶³è·¯å¾„ç­‰ä»·æ€§å’Œéè´Ÿæ€§ w^(u,v)=w(u,v)+h(u)âˆ’h(v)\\hat{w} (u,v) = w(u,v) + h(u) - h(v)w^(u,v)=w(u,v)+h(u)âˆ’h(v)ï¼Œå…¶ä¸­ h(u)=Î´(s,u),h(v)=Î´(s,v)h(u) = \\delta(s, u), h(v) = \\delta(s, v)h(u)=Î´(s,u),h(v)=Î´(s,v)ï¼Œsss ä¸ºè¾…åŠ©ç‚¹ä¸”æ»¡è¶³ w(s,v)=0,vâˆˆVw(s,v) = 0, v \\in Vw(s,v)=0,vâˆˆV ç®—æ³•æ€æƒ³ï¼š å…ˆç”¨Bellman-Fordç®—æ³•è®¡ç®—såˆ°å„ä¸ªç»“ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿæƒé‡çš„ç¯è·¯ åˆ©ç”¨Bellman-Fordç®—æ³•è®¡ç®—å¾—åˆ°çš„Î´(s,v)å®šä¹‰h(v)çš„å€¼ï¼Œå¹¶é‡æ–°èµ‹è¾¹çš„æƒé‡ è¿˜åŸè·¯å¾„æƒé‡ï¼Œå¾—åˆ°åŸå›¾çš„è·¯å¾„æƒé‡çŸ©é˜µD ç¬¬äºŒåå…­ç«  æœ€å¤§æµ çº²è¦ æµç½‘ç»œ æ˜¯ä¸€ä¸ªå¸¦æœ‰æº/æ±‡ç‚¹ï¼Œæ¯æ¡è¾¹å¸¦æœ‰å®¹é‡é™åˆ¶çš„æœ‰å‘å›¾ G(V,E)G(V,E)G(V,E) æµç½‘ç»œæ˜¯è¿é€šå›¾ ä¸å…è®¸è‡ªå¾ªç¯ æµçš„æ€§è´¨ å®¹é‡é™åˆ¶ï¼š0â‰¤f(u,v)â‰¤c(u,v)0 \\leq f(u,v) \\leq c(u,v)0â‰¤f(u,v)â‰¤c(u,v)ï¼Œfffä¸ºå®é™…æµé‡ï¼Œcccä¸ºå®¹é‡ï¼Œu,vâˆˆVu,v \\in Vu,vâˆˆV æµé‡å®ˆæ’ï¼šé™¤äº†æº/æ±‡ç‚¹ä¹‹å¤–çš„ç‚¹æµå…¥å’Œæµå‡ºçš„æµé‡å¤§å°ç›¸åŒ æ ‡å‡†æµç½‘ç»œï¼šæ— åå‘å¹³è¡Œè¾¹ï¼Œå•ä¸€æº/æ±‡ç‚¹ ä¸€èˆ¬æµç½‘ç»œæ ‡å‡†åŒ–æ–¹æ³•ï¼šæ–°å¢ç»“ç‚¹æ³• å¯¹äºåå¹³è¡Œè¾¹ï¼Œå¼•å…¥ç»“ç‚¹å°†å…¶æˆªæ–­ å¯¹äºå¤šä¸ªæº/æ±‡ç‚¹ï¼Œå¼•å…¥ä¸€ä¸ªè¶…çº§æº/æ±‡ç‚¹ï¼Œä»¤å…¶åˆ°åŸæ¥çš„æº/æ±‡ç‚¹çš„å®¹é‡é™åˆ¶å‡ä¸ºâˆ Ford-Fulkerson ç®—æ³•æ­¥éª¤ å¯¹æµç½‘ç»œ GGGï¼Œåœ¨æ®‹å­˜ç½‘ç»œ GfG_fGfâ€‹ ä¸­å¯»æ‰¾ä¸€æ¡å¢å¹¿è·¯å¾„ pppã€‚ å¦‚æœå­˜åœ¨å¢å¹¿è·¯å¾„ï¼Œåˆ™å¯¹è·¯å¾„ä¸Šè¾¹çš„æµé‡è¿›è¡Œä¿®æ”¹ï¼Œä»¥å¢åŠ æµç½‘ç»œçš„æµé‡ã€‚ é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°ä¸å†å­˜åœ¨å¢å¹¿è·¯å¾„ä¸ºæ­¢ã€‚ æµç½‘ç»œçš„åˆ‡å‰² Edmonds-Karp ç®—æ³• æ‰¾å¢å¹¿è·¯å¾„æ—¶é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç­–ç•¥ æœ€å¤§äºŒåˆ†åŒ¹é… æ–°å¢æº/æ±‡ç‚¹ æ‰€æœ‰è¾¹å®¹é‡ä¸º1 Q&amp;A ä»€ä¹ˆæ˜¯æµç½‘ç»œã€æœ€å¤§æµï¼Ÿ æœ€å¤§æµæœ€å°åˆ‡å‰²å®šç† ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ç­‰ä»·: fæ˜¯Gçš„ä¸€ä¸ªæœ€å¤§æµ æ®‹å­˜ç½‘ç»œä¸åŒ…æ‹¬ä»»ä½•å¢å¹¿è·¯å¾„ âˆ£fâˆ£=c(S,T)|f|= c(S,T)âˆ£fâˆ£=c(S,T) ï¼Œå…¶ä¸­(S,T)æ˜¯æµç½‘ç»œGçš„æŸä¸ªåˆ‡å‰² Edmonds-Karp ç®—æ³•çš„æ€è·¯å’Œç›¸å…³è¯æ˜","link":"/posts/77d3606/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroidã€‹è¯»ä¹¦ç¬”è®°ï¼ˆä¸‰ï¼‰","text":"Android Kotlin è¯»ä¹¦ç¬”è®° ç®€ä»‹ \"ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroid 3rdã€‹ç¬¬ä¹ç« å’Œç¬¬åç« çš„è¯»ä¹¦ç¬”è®°ï¼Œä¸»è¦å†…å®¹åŒ…æ‹¬å››å¤§ç»„ä»¶ä¸­çš„Serviceä»¥åŠä¸€äº›æ‰‹æœºå¤šåª’ä½“çš„ä½¿ç”¨ã€‚\" ä¸ºæ–¹ä¾¿ç¬”è®°ï¼Œçº¦å®šä½¿ç”¨ä¼ªKotlinè¯­æ³•ï¼š &lt;!ClassName&gt; ç”¨æ¥è¡¨ç¤ºClassNameç±»çš„ä¸€ä¸ªå®ä¾‹ &lt;Abstract&gt;æˆ–&lt;A&gt; å†™åœ¨æ–¹æ³•(ç±»)å‰ç”¨æ¥è¡¨ç¤ºè¯¥æ–¹æ³•ï¼ˆç±»ï¼‰æ˜¯ä¸€ä¸ªå¿…é¡»è¦ç»™å‡ºå®ç°çš„æŠ½è±¡æ–¹æ³•/ç±» &lt;Static&gt;æˆ–&lt;S&gt;å†™åœ¨æ–¹æ³•(ç±»)å‰ç”¨æ¥è¡¨ç¤ºè¯¥æ–¹æ³•ï¼ˆç±»ï¼‰æ˜¯ä¸€ä¸ªé™æ€çš„æ–¹æ³•/ç±» &lt;+&gt; è¡¨ç¤ºpublicæ–¹æ³• O æ˜¯overrideçš„ç¼©ç•¥ XXX è¡¨ç¤ºå¾…å®šçš„è¯­æ³•å­—ç¬¦ä¸² ... è¡¨ç¤ºå‰åä»£ç æ®µçœç•¥ UML å›¾çš„è§„å®šï¼š æ–œä½“å‡½æ•°*ä¸ºæŠ½è±¡å‡½æ•° ä¸‹åˆ’çº¿å‡½æ•°$ä¸ºé™æ€å‡½æ•° ä»¥ä¸‹å‰ç¼€ä»£è¡¨è®¿é—®æƒé™ + Public - Private # Protected ~ Package/Internal ä¸°å¯Œå¤šå½©çš„å¤šåª’ä½“ ä½¿ç”¨é€šçŸ¥ æ¦‚è§ˆ classDiagram class NotificationManager { +notify() +createNotificationChannel() } class NotificationChannel class NotificationCompat { +Builder() } NotificationCompat --> Notification: åˆ›å»º NotificationManager --> NotificationChannel: åˆ›å»ºã€ç®¡ç† NotificationManager --> Notification: å‘é€ Notification --* NotificationChannel: å¯¹åº” NotificationManager ç±» åˆ›å»ºï¼šval manager = getSystemService(Context.NOTIFICATION_SERVICE) as NotifictionManager å¤‡æ³¨ï¼šgetSystemService() æ˜¯ Context çš„ä¸€ä¸ªç”¨æ¥è·å–ç³»ç»ŸæœåŠ¡æ–¹æ³•ã€‚ NotificationChannel ç±» æ¯æ¡é€šçŸ¥éƒ½è¦å±äºä¸€ä¸ªå¯¹åº”çš„æ¸ é“ã€‚æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½å¯ä»¥è‡ªç”±åœ°åˆ›å»ºå½“å‰åº”ç”¨æ‹¥æœ‰å“ªäº›é€šçŸ¥æ¸ é“ï¼Œä½†æ˜¯è¿™äº›é€šçŸ¥æ¸ é“çš„æ§åˆ¶æƒæ˜¯æŒæ¡åœ¨ç”¨æˆ·æ‰‹ä¸Šçš„ã€‚ç”¨æˆ·å¯ä»¥è‡ªç”±åœ°é€‰æ‹©è¿™äº›é€šçŸ¥æ¸ é“çš„é‡è¦ç¨‹åº¦ï¼Œæ˜¯å¦å“é“ƒã€æ˜¯å¦æŒ¯åŠ¨æˆ–è€…æ˜¯å¦è¦å…³é—­è¿™ä¸ªæ¸ é“çš„é€šçŸ¥ã€‚ åˆ›å»ºé€šçŸ¥æ¸ é“12345678if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) { // é€šçŸ¥æ¸ é“æ˜¯v8.0æ–°å¢çš„APIï¼Œéœ€è¦åšä¸‹ç‰ˆæœ¬åˆ¤åˆ«æ‰èƒ½ä½¿ç”¨NotificationChannel val channel = NotificationChannel(channelId: String, channelName: String, importance) //æ„é€ é€šçŸ¥æ¸ é“å®ä¾‹ æ¸ é“æ ‡è¯†ä¸² å‘ç”¨æˆ·æ˜¾ç¤ºçš„æ¸ é“åç§° é‡è¦ç­‰çº§ &lt;!NotificationManager&gt;.createNotificationChannel(channel) //åˆ›å»ºé€šçŸ¥æ¸ é“ } é€šçŸ¥æ¸ é“é‡è¦ç­‰çº§ï¼šIMPORTANCE_HIGHã€IMPORTANCE_DEFAULTã€IMPORTANCE_LOWã€IMPORTANCE_MINï¼Œç”¨ä¸åŒlevelæ„é€ çš„channelä¼šæœ‰ä¸åŒçš„è¡¨ç°ï¼Œå¦‚HIGHçº§åˆ«çš„æ¸ é“ä¼šå¼¹å‡ºé€šçŸ¥ã€‚ Notification ç±» å¯ä»¥åœ¨ Activityï¼ˆè¾ƒå°‘ï¼‰ã€Broadcastã€Service ä¸­åˆ›å»º é€šçŸ¥ã®æ„å»ºä¸å‘é€1234567891011121314//ç”¨AndroidXåº“çš„NotificationCompatç±»æ¥æ„å»ºé€šçŸ¥è¦æ¯”åŸAPIå…¼å®¹æ€§æ›´å¥½val notification = NotificationCompat.Builder(context, channelId: String)//é€šçŸ¥è¦å¯¹åº”å”¯ä¸€ä¸€ä¸ªchannel .setContentTitle(title: String) .setContentText(text: String) .setContentIntent(pi: PendingIntent)//ç‚¹å‡»äº‹ä»¶ .setSmallIcon(R.drawable.small_icon) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.large_icon)) .setAutoCancel(true)//ç‚¹å‡»é€šçŸ¥åé€šçŸ¥æ¶ˆå¤± //å¯ä»¥è¿ç¼€å¤šä¸ªsetæ–¹æ³•æ¥èµ‹äºˆé€šçŸ¥å„ç§å±æ€§ .build()//æ„å»º //é€šè¿‡ç®¡ç†å™¨å‘é€&lt;!NotificationManager&gt;.notify(id: Int, notification: Notification)// é€šçŸ¥çš„æ ‡è¯†ç¬¦ é€šçŸ¥ é€šçŸ¥å±æ€§(è¿›é˜¶)ï¼š.setStyle() æ–¹æ³•â€”â€”è®©é€šçŸ¥å‘ˆç°å¯Œæ–‡æœ¬ flowchart TD Style --> BigPictureStyle; Style --> BigTextStyle setStyle ä¸¾ä¾‹12345//å¤§å›¾ç‰‡.setStyle(NotificationCompat.BigPictureStyle().bigPicture( BitmapFactory.decodeResource(resources, R.drawable.big_image)))//é•¿æ–‡å­—.setStyle( NotificationCompat.BigTextStyle().bigText(string: String) ) ç‚¹å‡»äº‹ä»¶ ä¸ºé€šçŸ¥è®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼š.setContentIntent(pi: PendingIntent) æ„å»ºPendingIntent123&lt;S&gt; PendingIntent.getXXX(ctx: Context, 0, intent: Intent, flag: Int): PendingIntent//para4ç”¨äºç¡®å®šPendingIntentçš„è¡Œä¸ºï¼Œä¸€èˆ¬å¯å–0è¯¦ï¼Œæƒ…æŸ¥æ–‡æ¡£//XXXå¯ä»¥æ˜¯Activityã€Broadcastã€Service è°ƒç”¨æ‘„åƒå¤´ä¸ç›¸å†Œ From Camera flowchart TB A[fa:fa-camera-retro intentæœºåˆ¶å‘¼å‡ºç›¸æœºæ‹ç…§] è·å–å¯¹åº”çš„Uriå¯¹è±¡ --> ç»™intentä¼ å…¥UriæŒ‡å®šç›¸ç‰‡å°†å†™å…¥çš„æ–‡ä»¶ A --> å°†æ‹æ‘„çš„ç…§ç‰‡æ˜¾ç¤ºå‡ºæ¥ åˆ›å»ºå¯¹åº”è·¯å¾„çš„Fileå¯¹è±¡ --> è·å–å¯¹åº”çš„Uriå¯¹è±¡ ç»™intentä¼ å…¥UriæŒ‡å®šç›¸ç‰‡å°†å†™å…¥çš„æ–‡ä»¶ --> A ç›¸æœºå®ä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041class MainActivity : AppCompatActivity() { lateinit var imageUri: Uri lateinit var outputImage: File override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) //step1 outputImage = File(externalCacheDir, \"output_image.jpg\") if (outputImage.exists()) { outputImage.delete() } outputImage.createNewFile() //step2 imageUri = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) { FileProvider.getUriForFile(this, \"com.example.cameraalbumtest.fileprovider\", outputImage) } else { Uri.fromFile(outputImage) }//ä»Android 7.0ç³»ç»Ÿå¼€å§‹ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°çœŸå®è·¯å¾„çš„Uriè¢«è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªFileUriExposedExceptionå¼‚å¸¸ã€‚ //è€ŒFileProvideråˆ™æ˜¯ä¸€ç§ç‰¹æ®Šçš„ContentProviderï¼Œå®ƒå¯ä»¥é€‰æ‹©æ€§åœ°å°†å°è£…è¿‡çš„Uriå…±äº«ç»™å¤–éƒ¨ï¼Œä»è€Œæé«˜äº†åº”ç”¨çš„å®‰å…¨æ€§ã€‚ //step3~4 val intent = Intent(\"android.media.action.IMAGE_CAPTURE\") intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri) startActivityForResult(intent, takePhoto) } //step5 override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) { super.onActivityResult(requestCode, resultCode, data) when (requestCode) { takePhoto -&gt; { if (resultCode == Activity.RESULT_OK) {val bitmap = BitmapFactory.decodeStream(contentResolver.openInputStream(imageUri)) imageView.setImageBitmap( bitmap) } } } } ...} ä»£ç ä¸­ç”¨åˆ°&quot;com.example.cameraalbumtest.fileprovider&quot;ï¼Œéœ€è¦åœ¨Manifestä¸­æ³¨å†Œã€‚ fileprovideræ³¨å†Œç¤ºä¾‹123456789&lt;provider android:name=\"androidx.core.content.FileProvider\" //å›ºå®šä¸å˜ android:authorities=\"com.example.cameraalbumtest.fileprovider\" //ä¸FileProvider.getUriForFile()ç¬¬äºŒä¸ªå‚æ•°ä¸€è‡´ android:exported=\"false\" //æ˜¯å¦å…è®¸å¤–éƒ¨ä½¿ç”¨ android:grantUriPermissions=\"true\"&gt; &lt;meta-data //æŒ‡å®šUriå…±äº«è·¯å¾„ android:name=\"android.support.FILE_PROVIDER_PATHS\" android:resource=\"@xml/file_paths\" /&gt;&lt;/provider&gt; res/xml/file_paths.xmlæ–‡ä»¶ç¤ºä¾‹12345&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt; &lt;external-path name=\"my_images\" path=\"/\" /&gt; // éšæ„ æŒ‡å®šå…±äº«ç›®å½•&lt;/paths&gt; From Album flowchart LR å‘é€è¯·æ±‚Intent-->æ¥å—å¹¶å¤„ç†ç»“æœResult ç›¸ç°¿ç¤ºä¾‹12345678910111213141516171819202122232425class MainActivity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?) { //*step1 val intent = Intent(Intent.ACTION_OPEN_DOCUMENT) intent.addCategory(Intent.CATEGORY_OPENABLE) intent.type = \"image/*\" startActivityForResult(intent, fromAlbum) } //step2 override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) { super.onActivityResult(requestCode, resultCode, data) when (requestCode) { fromAlbum -&gt; { if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) { data.data?.let { uri -&gt; val bitmap = getBitmapFromUri(uri) imageView.setImageBitmap(bitmap) } } } } } æ’­æ”¾å¤šåª’ä½“æ–‡ä»¶ éŸ³é¢‘æ¦‚è§ˆ classDiagram class Activity { getAssets(); } class AssetManager { +openFd(); } class MediaPlayer { +setDataSource(); +prepare(); } Activity-->AssetManager: åˆ›å»º AssetManager-->MediaPlayer: æä¾›æ’­æ”¾èµ„æº MediaPlayer ç±» MediaPlayer å¯ä»¥ç”¨äºæ’­æ”¾ç½‘ç»œã€æœ¬åœ°ã€appå®‰è£…åŒ…ä¸­çš„éŸ³é¢‘ æ–¹æ³•å åŠŸèƒ½æè¿° setDataSource() è®¾ç½®è¦æ’­æ”¾çš„éŸ³é¢‘æ–‡ä»¶çš„ä½ç½® prepare() åœ¨å¼€å§‹æ’­æ”¾ä¹‹å‰è°ƒç”¨ï¼Œä»¥å®Œæˆå‡†å¤‡å·¥ä½œ start() å¼€å§‹æˆ–ç»§ç»­æ’­æ”¾éŸ³é¢‘ pause() æš‚åœæ’­æ”¾éŸ³é¢‘ reset() å°†MediaPlayerå¯¹è±¡é‡ç½®åˆ°åˆšåˆšåˆ›å»ºçš„çŠ¶æ€ seekTo() ä»æŒ‡å®šçš„ä½ç½®å¼€å§‹æ’­æ”¾éŸ³é¢‘ stop() åœæ­¢æ’­æ”¾éŸ³é¢‘ã€‚è°ƒç”¨åçš„MediaPlayerå¯¹è±¡æ— æ³•å†æ’­æ”¾éŸ³é¢‘ release() é‡Šæ”¾ä¸MediaPlayerå¯¹è±¡ç›¸å…³çš„èµ„æº isPlaying() åˆ¤æ–­å½“å‰MediaPlayeræ˜¯å¦æ­£åœ¨æ’­æ”¾éŸ³é¢‘ getDuration() è·å–è½½å…¥çš„éŸ³é¢‘æ–‡ä»¶çš„æ—¶é•¿ AssetManager ç±» app/src/main/assets å†…çš„æ–‡ä»¶å’Œå­ç›®å½•åœ¨é¡¹ç›®æ‰“åŒ…æ—¶ä¼šä¸€å¹¶æ‰“åŒ…åˆ°å®‰è£…æ–‡ä»¶ä¸­ã€‚ AssetManager å°±æ˜¯ç”¨æ¥ç®¡ç†assetå†…æ–‡ä»¶çš„å·¥å…·ç±» éŸ³é¢‘ç¤ºä¾‹ æ’­æ”¾å®‰è£…åŒ…å†…éŸ³é¢‘12345678910111213141516171819202122232425262728293031323334353637383940class MainActivity : AppCompatActivity() { private val mediaPlayer = MediaPlayer() override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) initMediaPlayer() play.setOnClickListener { if (!mediaPlayer.isPlaying) { mediaPlayer.start() // å¼€å§‹æ’­æ”¾ } } pause.setOnClickListener { if (mediaPlayer.isPlaying) { mediaPlayer.pause() // æš‚åœæ’­æ”¾ } } stop.setOnClickListener { if (mediaPlayer.isPlaying) { mediaPlayer.reset() // åœæ­¢æ’­æ”¾ initMediaPlayer() } } } private fun initMediaPlayer() { val assetManager = assets val fd = assetManager.openFd(\"music.mp3\") mediaPlayer.setDataSource(fd.fileDescriptor, fd.startOffset, fd.length) mediaPlayer.prepare() } override fun onDestroy() { super.onDestroy() mediaPlayer.stop() mediaPlayer.release() }} è§†é¢‘æ¦‚è®º VideoView ç±»å®é™…ä¸Šæ˜¯åœ¨MediaPlayerä¸Šçš„ä¸€å±‚å°è£…ã€‚ æ³¨æ„VideoViewä¸æ”¯æŒæ’­æ”¾assetæ–‡ä»¶ï¼Œä½†å¯ä»¥æ’­æ”¾app/src/main/res/rawä¸‹çš„æ–‡ä»¶ï¼ˆæƒ³åˆ°VideoViewæ˜¯ä¸€ç§Viewå°±ä¸éš¾ç†è§£ï¼‰ã€‚ æ³¨æ„VideoViewä¸é€‚åˆåšåŠŸèƒ½å¼ºå¤§çš„è§†é¢‘æ’­æ”¾å™¨ã€‚ è§†é¢‘å®ä¾‹ VideoViewæ§ä»¶12345&lt;VideoView android:id=\"@id+videoView\" ...layout_width=... ...layout_height=... ... /&gt; VideoViewç±»123456789101112131415161718192021222324252627282930313233/*class MainActivity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main)*/ val uri = Uri.parse(\"android.resource://$packageName/${R.raw.video}\") //ç•™æ„èµ„æºURIå­—ç¬¦ä¸²æ ¼å¼ videoView.setVideoURI(uri) /* play.setOnClickListener { if (!videoView.isPlaying) { videoView.start() // å¼€å§‹æ’­æ”¾ } } pause.setOnClickListener { if (videoView.isPlaying) { videoView.pause() // æš‚åœæ’­æ”¾ } } replay.setOnClickListener { if (videoView.isPlaying) { videoView.resume() // é‡æ–°æ’­æ”¾ } } }*/ override fun onDestroy() { super.onDestroy() videoView.suspend()//é‡Šæ”¾VideoViewå ç”¨çš„èµ„æº }} åå°é»˜é»˜åŠ³åŠ¨è€… Service å®‰å“å¤šçº¿ç¨‹ Kotlin å¤šçº¿ç¨‹ç¼–ç¨‹ kotlinåˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼123456789101112131415161718//1. ç»§æ‰¿é‡å†™Thread()class MyThread: Thread() { override fun run() {...}}MyThread.start()//2-1. ç”¨æ¥å£æ„é€ Thread()Thread(object: Runnable { //æ³¨æ„è¿™é‡Œæ˜¯åŒ¿åå†…éƒ¨ç±»çš„å†™æ³• override fun run() {...}}).start()//2-2. kotlinå•æŠ½è±¡æ–¹æ³•æ¥å£ã®ç®€åŒ–ç‰ˆThread{/*Lambda*/}.start()//3. ç”¨kotlinå†…ç½®é¡¶å±‚å‡½æ•°thread { //logic} å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶ Android åªèƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ”¹UIï¼Œå› æ­¤åœ¨å­çº¿ç¨‹ä¸­æƒ³è¦è¿›è¡ŒUIæ“ä½œå°±éœ€è¦å¼‚æ­¥æœºåˆ¶ Messageæ˜¯åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’çš„æ¶ˆæ¯ï¼Œå®ƒå¯ä»¥åœ¨å†…éƒ¨æºå¸¦å°‘é‡çš„ä¿¡æ¯ï¼Œç”¨äºåœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ Handlerä¸»è¦ç”¨äºå‘é€å’Œå¤„ç†æ¶ˆæ¯ï¼Œå‘é€æ¶ˆæ¯ä¸€èˆ¬æ˜¯ä½¿ç”¨Handlerçš„sendMessage()æ–¹æ³•ã€post()æ–¹æ³•ç­‰ï¼Œè€Œå‘å‡ºçš„æ¶ˆæ¯ç»è¿‡ä¸€ç³»åˆ—åœ°è¾—è½¬å¤„ç†åï¼Œæœ€ç»ˆä¼šä¼ é€’åˆ°Handlerçš„handleMessage()æ–¹æ³•ä¸­ã€‚ MessageQueueæ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„æ„æ€ï¼Œå®ƒä¸»è¦ç”¨äºå­˜æ”¾æ‰€æœ‰é€šè¿‡Handlerå‘é€çš„æ¶ˆæ¯ã€‚è¿™éƒ¨åˆ†æ¶ˆæ¯ä¼šä¸€ç›´å­˜åœ¨äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è¢«å¤„ç†ã€‚æ¯ä¸ªçº¿ç¨‹ä¸­åªä¼šæœ‰ä¸€ä¸ªMessageQueueå¯¹è±¡ã€‚ Looperæ˜¯æ¯ä¸ªçº¿ç¨‹ä¸­çš„MessageQueueçš„ç®¡å®¶ï¼Œè°ƒç”¨Looperçš„loop()æ–¹æ³•åï¼Œå°±ä¼šè¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯å½“ä¸­ï¼Œç„¶åæ¯å½“å‘ç°MessageQueueä¸­å­˜åœ¨ä¸€æ¡æ¶ˆæ¯æ—¶ï¼Œå°±ä¼šå°†å®ƒå–å‡ºï¼Œå¹¶ä¼ é€’åˆ°Handlerçš„handleMessage()æ–¹æ³•ä¸­ã€‚æ¯ä¸ªçº¿ç¨‹ä¸­åªä¼šæœ‰ä¸€ä¸ªLooperå¯¹è±¡ã€‚ å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶å®ä¾‹123456789101112131415161718192021222324252627class MainActivity : AppCompatActivity() { val updateText = 1 //åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªHandlerå¯¹è±¡ï¼Œå½“æ¥æ”¶åˆ°Messageæ—¶è¯¥å¯¹è±¡çš„.handleMessage()å°±èƒ½åœ¨ä¸»çº¿ç¨‹ä¸­è¢«è°ƒç”¨ val handler = object : Handler() { override fun handleMessage(msg: Message) { // åœ¨è¿™é‡Œå¯ä»¥è¿›è¡ŒUIæ“ä½œ when (msg.what) { updateText -&gt; textView.text = \"Nice to meet you\" } } } override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) changeTextBtn.setOnClickListener { thread { val msg = Message() msg.what = updateText handler.sendMessage(msg) // åœ¨å­çº¿ç¨‹å°†Messageå¯¹è±¡å‘é€å‡ºå» } } }//ä¸€è¶Ÿä¸‹æ¥Messageä»å­çº¿ç¨‹è¾—è½¬åˆ°äº†ä¸»çº¿ç¨‹} classDiagram class Message { Int what Int arg1 Int arg2 Object obj } class Handler { +sendMessage(Message m) +post() +handleMessage(Message m)* } Handler --> Message: å‘é€ Message --> Handler: å¤„ç† AsyncTask ç±» é‡å†™å››ä¸ªæ–¹æ³•ï¼Œ.execute()å¯åŠ¨ è§£æAsyncTaskç±»12345678&lt;A&gt; AsyncTask&lt;paramsType, progressType, resultType&gt; {//æ³¨æ„ä¸‰ä¸ªæ³›å‹ï¼šå‚æ•°ç±»å‹ è¿›åº¦ç±»å‹ ç»“æœç±»å‹ &lt;A&gt; onPreExecute() //åå°å¼€å¯å‰çš„åˆå§‹åŒ–ä»»åŠ¡ &lt;A&gt; doInBackground(paramsType...) //åå°ä»»åŠ¡ï¼šåœ¨å­çº¿ç¨‹ä¸­è¿è¡Œ &lt;A&gt; onProgressUpdate(progressType...) //åå°publishProgress(progressType...)åæ‰§è¡Œï¼ˆé€šå¸¸åœ¨è¿™æ”¹UIï¼‰ &lt;A&gt; onPostExecute(resultType) //åå°returnåæ‰§è¡Œ &lt;+&gt; execute() //å¯åŠ¨ä»»åŠ¡} Service åŸºç¡€ Service ç±» Serviceç±»è§£æ123456class Service { onCreate() //åˆ›å»ºæ—¶è°ƒç”¨ï¼ˆç¬¬ä¸€æ¬¡&lt;Activity&gt;.startService, bindServiceï¼‰ onStartCommand(intent: Intent, flags: Int, startId: Int) //å¯åŠ¨æ—¶è°ƒç”¨(startServi...) onDestroy() //é”€æ¯æ—¶è°ƒç”¨(stopService, unbindService) onBind(): IBinder //è¿”å›ä¸€ä¸ªç»‘å®šæ¥å£ä¾¿äºActivityä¸Serviceäº¤äº’} åˆ›å»ºã€å¯åŠ¨ä¸é”€æ¯ Activityä¸­å¯åŠ¨ä¸åœæ­¢Service1234567startServiceBtn.setOnClickListener { val intent = Intent(this, MyService::class.java) startService(intent) // å¯åŠ¨Serviceï¼Œä¼šåŒæ—¶è°ƒç”¨&lt;Service&gt;.onCreateå’ŒonStartCommand}stopServiceBtn.setOnClickListener { val intent = Intent(this, MyService::class.java) stopService(intent) // åœæ­¢Service Binder ç±» ç»§æ‰¿ä¸€ä¸ªBinderï¼Œåœ¨ç±»ä¸­ç¼–å†™è‡ªå·±çš„å‡½æ•°ï¼Œé€šè¿‡onBind() è¿”å›è¯¥å®ä¾‹ç»™Activityï¼ŒActivityä¸­è°ƒç”¨è¯¥å®ä¾‹çš„æ–¹æ³•ä»¥å®ç°Activityä¸Serviceçš„é€šä¿¡ classDiagram class IBinder &lt&ltinterface&gt&gt IBinder class MyBinder { &lt&ltè‡ªå®šä¹‰&gt&gt } IBinder |åœæ­¢æœåŠ¡| stopService+unbindService A(åŒä¸€ä¸ªServiceç±»åªä¼šå­˜åœ¨ä¸€ä¸ªå®ä¾‹) å‰å°æœåŠ¡ Foreground å‰å°Serviceå’Œæ™®é€šServiceæœ€å¤§çš„åŒºåˆ«å°±åœ¨äºï¼Œå®ƒä¼šä¸€ç›´æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å›¾æ ‡åœ¨ç³»ç»Ÿçš„çŠ¶æ€æ æ˜¾ç¤ºï¼Œä¸‹æ‹‰çŠ¶æ€æ åå¯ä»¥çœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼Œéå¸¸ç±»ä¼¼äºé€šçŸ¥çš„æ•ˆæœã€‚ ç”±äºçŠ¶æ€æ ä¸­ä¸€ç›´æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å›¾æ ‡ï¼Œç›¸å½“äºæˆ‘ä»¬çš„åº”ç”¨ä»¥å¦å¤–ä¸€ç§å½¢å¼ä¿æŒåœ¨å‰å°å¯è§çŠ¶æ€ï¼Œæ‰€ä»¥ç³»ç»Ÿä¸ä¼šå€¾å‘äºå›æ”¶å‰å°Serviceã€‚ å¯ç”¨æ–¹å¼ï¼šåœ¨&lt;Service&gt;.onCreat()ä¸­åˆ›å»ºä¸€æ¡é€šçŸ¥ï¼Œå¤§ä½“ä¸Šä¸1.1ä¸­åˆ›å»ºé€šçŸ¥çš„æ–¹å¼ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸ç”¨é€šçŸ¥ç®¡ç†å™¨å‘é€é€šçŸ¥è€Œæ˜¯ä»¥startForeground(â€¦)å‘é€é€šçŸ¥ã€‚ åº”ç”¨å¼€å¯å‰å°æœåŠ¡æƒé™12345&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" package=\"com.example.servicetest\"&gt; &lt;uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" /&gt; â€¦&lt;/manifest&gt; å‰å°æœåŠ¡å®ä¾‹12345678910111213141516171819202122class MyService : Service() { â€¦ override fun onCreate() { super.onCreate() val manager = getSystemService(Context.NOTIFICATION_SERVICE) asNotificationManager if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) { val channel = NotificationChannel(\"my_service\", \"å‰å°Serviceé€šçŸ¥\", NotificationManager.IMPORTANCE_DEFAULT) manager.createNotificationChannel(channel) } val intent = Intent(this, MainActivity::class.java) val pi = PendingIntent.getActivity(this, 0, intent, 0) val notification = NotificationCompat.Builder(this, \"my_service\") .setContentTitle(\"This is content title\") .setContentText(\"This is content text\") .setSmallIcon(R.drawable.small_icon) .setLargeIcon(BitmapFactory.decodeResource(resources, R.drawable.large_icon)) .setContentIntent(pi) .build() startForeground(1, notification) } â€¦} IntentService ç±» classDiagram class IntentService { &lt&ltAbstract&gt&gt onHandleIntent(Intent intent)* } class MyIntentService { &lt&ltè‡ªå®šä¹‰&gt&gt } class Service { &lt&ltAbstract&gt&gt } Service","link":"/posts/87cffae2/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroidã€‹è¯»ä¹¦ç¬”è®° (äºŒ)","text":"Android Kotlin è¯»ä¹¦ç¬”è®° ç®€ä»‹ \"ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroid 3rdã€‹ç¬¬å…­ç« åˆ°ç¬¬å…«ç« çš„è¯»ä¹¦ç¬”è®°ï¼Œä¸»è¦å†…å®¹åŒ…æ‹¬Androidæ•°æ®å­˜å‚¨ï¼ˆæŒä¹…åŒ–æŠ€æœ¯ï¼‰ï¼Œå››å¤§ç»„ä»¶ä¸­çš„Broadcastå¹¿æ’­ç³»ç»Ÿä»¥åŠContentProviderå†…å®¹æä¾›å•†\" ä¸ºæ–¹ä¾¿ç¬”è®°ï¼Œçº¦å®šä½¿ç”¨ä¸€ä¸‹ä¼ªKotlinè¯­æ³•ï¼š &lt;!ClassName&gt; ç”¨æ¥è¡¨ç¤ºClassNameç±»çš„ä¸€ä¸ªå®ä¾‹ &lt;Abstract&gt;æˆ–&lt;A&gt; å†™åœ¨æ–¹æ³•(ç±»)å‰ç”¨æ¥è¡¨ç¤ºè¯¥æ–¹æ³•ï¼ˆç±»ï¼‰æ˜¯ä¸€ä¸ªå¿…é¡»è¦ç»™å‡ºå®ç°çš„æŠ½è±¡æ–¹æ³• XXX è¡¨ç¤ºå¾…å®šçš„è¯­æ³•å­—ç¬¦ä¸² ... è¡¨ç¤ºå‰åä»£ç æ®µçœç•¥ ç¬¬å…­ç«  å…¨å±€å¤§å–‡å­ï¼è¯¦è§£å¹¿æ’­æœºåˆ¶ ç›‘å¬/æ¥å—å¹¿æ’­ é™æ€/åŠ¨æ€æ³¨å†ŒBroadcastRecieverï¼Œæ³¨æ„é™æ€æ³¨å†Œçš„æ¥æ”¶å™¨ä¸èƒ½æ¥å—éšå¼Intentï¼Œè¿˜ç¼ºä¹Activityä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯èƒ½å¤Ÿåœ¨æ²¡å¯åŠ¨çš„æƒ…å†µä¸‹æ”¶å¬åˆ°å¹¿æ’­ä¿¡å· é™æ€æ³¨å†Œï¼šManifestä¸­æ³¨å†Œï¼›åŠ¨æ€æ³¨å†Œï¼šActivityä¸­æ³¨å†Œï¼Œè¦è®°å¾—è‡ªè¡Œé”€æ¯ å‘é€è‡ªå®šä¹‰å¹¿æ’­ Intentå¯ä»¥ä¸ä½†å¯ä»¥ç©¿æ¢­äºä¸åŒActivityä¹‹é—´ï¼Œä¹Ÿå¯ä»¥ç©¿æ¢­äºä¸åŒApplicationä¹‹é—´ï¼ˆBroadcastï¼‰ åˆ†ç±»ï¼šæ ‡å‡†å¹¿æ’­ï¼ˆä¸€ä¼ å¤šï¼‰ï¼Œæœ‰åºå¹¿æ’­ï¼ˆone by oneï¼Œå¯æˆªæ–­ï¼‰ ç¬¬ä¸ƒç«  æ•°æ®å­˜å‚¨ï¼šå‘Šåˆ«ä¸æŒä¹… JavaæµåŸºç¡€çŸ¥è¯† æ–‡ä»¶å­˜å‚¨ é€‚åˆå­˜å‚¨ä¸€äº›ç®€å•çš„æ–‡æœ¬æ•°æ®æˆ–äºŒè¿›åˆ¶æ•°æ® Context ç±»æä¾› openFileOutput(...), openFileInput(...)ç”¨æ¥æ‰“å¼€ï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ª/data/data/&lt;package name&gt;/files/ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæ–¹æ³•è¿”å›ä¸€ä¸ªFileOutPutStreamæˆ–FileInputStreamå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä½¿ç”¨ Javaæµ çš„æ–¹å¼IO ä¸¾ä¾‹ï¼šFileOutPut - OutputStreamWriter - BufferedWriter æ–‡ä»¶å­˜å‚¨å®ä¾‹1234567891011fun save(inputText: String) { try { val output = openFileOutput(\"data\", Context.MODE_PRIVATE) val writer = BufferedWriter(OutputStreamWriter(output)) writer.use { it.write(inputText) } } catch (e: IOException) { e.printStackTrace() }} SharedPreferences å­˜å‚¨ SharedPreferences æ˜¯ä½¿ç”¨é”®å€¼å¯¹çš„æ–¹å¼æ¥å­˜å‚¨æ•°æ®çš„ï¼Œæ”¯æŒå¤šç§æ•°æ®ç±»å‹çš„å­˜å‚¨ è·å–SharedPreferences: Context çš„ getSharedPreferences() Activity çš„ getPreferences() å­˜å‚¨æ­¥éª¤ è°ƒç”¨SharedPreferenceså¯¹è±¡çš„edit()æ–¹æ³•è·å–ä¸€ä¸ªSharedPreferences.Editorå¯¹è±¡ã€‚ å‘SharedPreferences.Editorå¯¹è±¡ä¸­æ·»åŠ æ•°æ®ï¼Œæ¯”å¦‚æ·»åŠ ä¸€ä¸ªå¸ƒå°”å‹æ•°æ®å°±ä½¿ç”¨putBoolean()æ–¹æ³•ï¼Œæ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²åˆ™ä½¿ç”¨putString()æ–¹æ³•ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è°ƒç”¨apply()æ–¹æ³•å°†æ·»åŠ çš„æ•°æ®æäº¤ï¼Œä»è€Œå®Œæˆæ•°æ®å­˜å‚¨æ“ä½œã€‚ KTXåº“æ–¹æ³•ï¼š KTXç®€åŒ–SharedPreferenceså­˜å‚¨1234getSharedPreferences(\"data, Context.MODE_PRIVATE\").edit { putString(\"name\", \"Tom\") putInt(\"age\", 28)} SQLiteæ•°æ®åº“å­˜å‚¨ SQLite æ˜¯ä¸€ç§è½»é‡ç®€ä¾¿çš„å…³ç³»å‹æ•°æ®åº“ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨å¤æ‚å…³ç³»çš„æ•°æ® SQLiteOpenHelperå¸®åŠ©ç±»ï¼Œå€ŸåŠ©è¿™ä¸ªç±»å¯ä»¥éå¸¸ç®€å•åœ°å¯¹æ•°æ®åº“è¿›è¡Œåˆ›å»ºå’Œå‡çº§ï¼ˆéœ€è¦é‡å†™onCreate(), onUpgrate()ï¼‰ ä¸¤ç§CRUDæ–¹å¼ï¼šSQLiteDataBaseç±»æˆå‘˜å‡½æ•°ï¼›SQLè¯­å¥æ‰§è¡Œã€‚ KTXåº“ï¼šcontentValuesOf() æ–¹æ³• æ•°æ®åº“æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼š/data/data/&lt;package name&gt;/databases/ä¸‹ åˆ›å»ºæ•°æ®åº“ ç»§æ‰¿ä¸€ä¸ªSQLiteOpenHelperçš„å¸®åŠ©ç±» è§£æSQLiteHelperå¸®åŠ©ç±»12345678910111213141516//æ„é€ æ–¹æ¡ˆä¹‹ä¸€SQLiteOpenHelper(context: Context, name: String, cursor: Cursor, version: Int) { // ä¸Šä¸‹æ–‡; æ•°æ®åº“å; æŸ¥è¯¢æ•°æ®æ—¶ç”¨ï¼Œä¸€èˆ¬ä¼ null; ç‰ˆæœ¬å·; /*æŠ½è±¡æ–¹æ³•*/ &lt;A&gt; override fun onCreate(db: SQLiteDatabase) { /*åˆ›å»ºæ•°æ®åº“æ—¶ï¼ˆnameæŒ‡å®šçš„æ•°æ®åº“ä¸å­˜åœ¨æ—¶ï¼‰è°ƒç”¨*/ } &lt;A&gt; override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) { /*å‡çº§æ•°æ®åº“æ—¶ï¼ˆversionæ”¹å˜æ—¶ï¼‰è°ƒç”¨*/ } /*ä¸¤ä¸ªé‡è¦çš„å®ä¾‹æ–¹æ³•*/ getReadableDatabase() getWritableDataBase() //æ‰“å¼€ï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºï¼‰å¸®åŠ©ç±»æŒ‡å®šçš„æ•°æ®åº“ï¼Œè¿”å›ä¸€ä¸ªå¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™çš„å¯¹è±¡(SQLiteDataBase)ã€‚å½“æ•°æ®åº“ä¸å¯å†™å…¥æ—¶Readableå°†ä»¥åªè¯»æ–¹å¼æ‰“å¼€ï¼ŒWritableå°†å¼‚å¸¸ //æ³¨æ„Kotlinä¸­å¯ä»¥ç›´æ¥è°ƒç”¨readableDatabaseã€writableDataBaseå±æ€§} å¯ä»¥ä½¿ç”¨ASçš„Device File Exploreå’ŒDatabase Navigateæ’ä»¶æµè§ˆè™šæ‹Ÿæœºä¸­çš„æ–‡ä»¶å’Œæ•°æ®åº“ å‡çº§æ•°æ®åº“ æ”¹å˜SQLiteOpenHelperç±»çš„version: Intå‚æ•°ï¼Œåˆ™ä¸‹ä¸€æ¬¡æ‰“å¼€æ•°æ®åº“çš„æ—¶å€™ï¼ˆç”¨getReadableDatabase() getWritableDataBase()ï¼‰ä¼šè°ƒç”¨onUpgrade()æ–¹æ³•ã€‚ æœ€ä½³ç¼–å†™æ–¹å¼ï¼šé’ˆå¯¹ä¸åŒç‰ˆæœ¬ç¼–å†™ä¸åŒé€»è¾‘ æœ€ä½³å®ä¾‹12345678override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) { if (oldVersion &lt;= 1) { db.execSQL(createCategory) } if (oldVersion &lt;= 2) { db.execSQL(\"alter table Book add column category_id integer\") }} æ•°æ®åº“ã®CRUD ç›´æ¥æ‰§è¡Œ SQL è¯­å¥ execSQL()ç­¾å12345&lt;!SQLiteDataBase&gt;.execSQL(string: String, array: StringArray)//å¢åˆ æ”¹ sqlè¯­å¥ï¼ˆå«å ä½ç¬¦ï¼‰ï¼› å‚æ•°åˆ—è¡¨ï¼›&lt;!SQLiteDataBase&gt;.rawQuery(string: String, array: StringArray): Cursor//æŸ¥ sqlè¯­å¥ï¼ˆå«å ä½ç¬¦ï¼‰ï¼› å‚æ•°åˆ—è¡¨ï¼› ä½¿ç”¨å†…ç½®æ–¹æ³• SQLiteDataBaseéƒ¨åˆ†æ–¹æ³•123456789101112131415161718192021222324252627/*æ’å…¥*/&lt;!SQLiteDataBase&gt;.insert(tableName: String, null, contentValues: ContentValues)//para2ç”¨äºç»™æŸäº›ä¸ºé…å€¼çš„å¯ä¸ºç©ºçš„åˆ—è‡ªåŠ¨èµ‹å€¼ä¸ºNULLï¼›para3ï¼šContentValueå¯¹è±¡éœ€è¦æä¾›ä¸€ç³»åˆ—put()æ–¹æ³•çš„é‡è½½ï¼Œç”¨äºå‘è¡¨ä¸­æ·»åŠ æ•°æ®//ContentValues()æ„å»ºå®ä¾‹val values1 = ContentValues().apply { // å¼€å§‹ç»„è£…ç¬¬ä¸€æ¡æ•°æ® put(\"name\", \"The Da Vinci Code\") put(\"author\", \"Dan Brown\") put(\"pages\", 454) put(\"price\", 16.96) } /*ä¿®æ”¹*/&lt;!SQLiteDataBase&gt;.updata(tableName: String, contentValues: ContentValues, where: String, paraArray: Array) //para3: ç›¸å½“äºsqlä¸­çš„WHEREéƒ¨åˆ†ï¼›para4: ç»™WHEREä¸­å ä½ç¬¦åˆ†é…å‚æ•°çš„åˆ—è¡¨ /*åˆ é™¤*/&lt;!SQLiteDataBase&gt;.updata(tableName: String, where: String, paraArray: Array)/*æŸ¥æ‰¾*/&lt;!SQLiteDataBase&gt;.query(...): Cursor æ–¹æ³•çš„å‚æ•°åˆ—è¡¨è§ä¸‹æ–‡/*è°ƒç”¨query()è¿”å›ä¸€ä¸ªCursorå¯¹è±¡*/&lt;!Cursor&gt;.moveToFirst()æŒ‡é’ˆç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªï¼ŒæˆåŠŸè¿”å›True&lt;!Cursor&gt;.moveToNext()ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªï¼ŒæˆåŠŸè¿”å›True&lt;!Cursor&gt;.getXXX(Cursor.getColumnIndex())è·å–æ ¹æ®ç´¢å¼•å–å‡ºç›¸åº”ç±»å‹çš„å€¼ï¼ˆXXXä¸ºæŸç§Typeï¼‰&lt;!Cursor&gt;.close()å…³é—­æŒ‡é’ˆ query()æ–¹æ³•å‚æ•° å¯¹åº”SQLéƒ¨åˆ† æ è¿° table from table_name æŒ‡å®šæŸ¥è¯¢çš„è¡¨å columns select column1, column2 æŒ‡å®šæŸ¥è¯¢çš„åˆ—å selection where column = value æŒ‡å®šwhereçš„çº¦æŸæ¡ä»¶ selectionArgs - ä¸ºwhereä¸­çš„å ä½ç¬¦æä¾›å…·ä½“çš„å€¼ groupBy group by column æŒ‡å®šéœ€è¦group byçš„åˆ— having having column = value å¯¹group byåçš„ç»“æœè¿›ä¸€æ­¥çº¦æŸ orderBy order by column1, column2 æŒ‡å®šæŸ¥è¯¢ç»“æœçš„æ’åºæ–¹å¼ Cursorçš„æ›´å¤šç”¨æ³• KTXåº“ç®€åŒ–ContentValuesçš„ç»„è£…12val values = cvOf(\"name\" to \"Game of Thrones\", \"author\" to \"George Martin\", \"pages\" to 720, \"price\" to 20.85)db.insert(\"Book\", null, values) SQLite äº‹åŠ¡ (çº¦å®šdb: SQLiteDataBase) é¦–å…ˆç”¨db.Transaction() å¼€å¯äº‹åŠ¡ï¼Œä¹‹ååœ¨tryå—ä¸­ç¼–å†™æ•°æ®åº“äº‹åŠ¡é€»è¾‘ï¼Œç»“æŸæ—¶è°ƒç”¨db.setTransactionSuccessful()ï¼Œå¦‚æœäº‹åŠ¡å¤„ç†æœŸé—´æŠ›å‡ºå¼‚å¸¸å°†è¢«catchæ•è·ï¼Œäº‹åŠ¡å°†ä¸è¢«å¤„ç†ï¼›å¦‚æœé¡ºåˆ©å®Œæˆæ— ExceptionæŠ›å‡ºï¼Œåˆ™åœ¨finallyå—ä¸­è°ƒç”¨db.endTransaction()ç»“æŸäº‹åŠ¡ã€‚ äº‹åŠ¡å®ä¾‹123456789101112131415161718replaceData.setOnClickListener { val db = dbHelper.writableDatabase db.beginTransaction() // å¼€å¯äº‹åŠ¡ try { db.delete(\"Book\", null, null)// if (true) {// // åœ¨è¿™é‡Œæ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè®©äº‹åŠ¡å¤±è´¥// throw NullPointerException()// } val values = cvOf(\"name\" to \"Game of Thrones\", \"author\" to \"George Martin\", \"pages\" to 720, \"price\" to 20.85) db.insert(\"Book\", null, values) db.setTransactionSuccessful() // äº‹åŠ¡å·²ç»æ‰§è¡ŒæˆåŠŸ } catch (e: Exception) { e.printStackTrace() } finally { db.endTransaction() // ç»“æŸäº‹åŠ¡ } } ç¬¬å…«ç«  è·¨ç¨‹åºå…±äº«æ•°æ®ï¼Œæ¢ç©¶ ContentProvider Android æƒé™æœºåˆ¶ æ™®é€šæƒé™ç”³è¯·ï¼šåœ¨AndroidManifest.xmlä¸­æ³¨å†Œå³å¯ æ™®é€šæƒé™ç”³è¯·12345&lt;manifest ...&gt;...&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;...&lt;/manifest&gt; è¿è¡Œæ—¶æƒé™ï¼ˆå±é™©æƒé™ï¼‰ç”³è¯·ï¼šç¬¬ä¸€æ­¥åŒæ™®é€šæƒé™ï¼Œç¬¬äºŒæ­¥å¦‚ä¸‹ å±é™©æƒé™ç”³è¯·æµç¨‹ï¼š12345678//æ£€æŸ¥æƒé™æ˜¯å¦ä»¥åŠæˆäºˆ; æƒé™åï¼ˆè§å›¾8-2ï¼‰if(ContextCompat.checkSelfPermission(context: Context, permissionName: String) == PackageManager.PERMISSION_GRANTED) {...}//ç”³è¯·æƒé™ æƒé™åˆ—è¡¨ ç”³è¯·ç ï¼ˆæ ‡è¯†ä¸€æ¬¡ç”³è¯·ï¼‰ActivityCompat.requestPermissions(context: Context, permissions: StringArray, code: Int)/*æƒé™ç”³è¯·ç»“æœè¿”å›æ—¶è°ƒç”¨*/ /*ç”³è¯·ç */ /*ç”³è¯·çš„æƒé™åˆ—è¡¨*/ /*ç”³è¯·ç»“æœ*/override fun onRequestPermissionsResult (requestcode: Int, permissions: Array&lt;String&gt;, grantResults: IntArray) {...} //ç”³è¯·ç»“æœè¦ä¸PackageManager.PERMISSION_GRANTEDæ¯”è¾ƒ Uri ç±» å†…å®¹URIä¸ºæ¯ä¸€ä¸ªappçš„ContentProviderä¸­çš„æ•°æ®æä¾›äº†ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ å†…å®¹URIå­—ç¬¦ä¸²ç”±åè®®å£°æ˜ã€authority å’Œ path ç»„æˆï¼ˆé€šé…ç¬¦ï¼šäº•å·åŒ¹é…ä»»æ„é•¿åº¦æ•°å­—ï¼›æ˜Ÿå·åŒ¹é…ä»»æ„é•¿åº¦å­—ç¬¦ä¸²ï¼‰ å†…å®¹URIå­—ç¬¦ä¸²æ ¼å¼12content://com.example.app.provider/table1/1 â†è¿™æ˜¯idåè®®éƒ¨åˆ† authorityï¼ˆåŒ…å.providerï¼‰ path è§£æUriç±»1234//å†…å®¹URIå­—ç¬¦ä¸²è§£æä¸ºkotlinçš„Uriå¯¹è±¡Uri.parse(uri: String): Uri//æŒ‰â€˜/â€™åˆ†å‰²Uriå¯¹è±¡çš„å†…å®¹URIçš„Pathéƒ¨åˆ†&lt;!Uri&gt;.getPathSegments(): List&lt;String&gt; ContentResover ç±» è·å–å®ä¾‹ï¼šé€šè¿‡&lt;!Context&gt;.getContentResolver() â€”â€”Kotlinä¸­å³contentResolverå±æ€§ ContentResolver çš„ CURD (å°†SQLiteDataBaseå¯¹åº”çš„CURDä¸­è¡¨åæ¢æˆUriå³å¯) ContentProvider ç±» ContentProviderå®ä¾‹éœ€è¦å®ç°å…¶ä»–appè®¿é—®æœ¬appçš„CURDæ¥å£ï¼Œè€ŒContentResolveråªæ˜¯æä¾›äº†ä¸€ä¸ªè®¿é—®å…¶ä»–ç¨‹åºçš„apiï¼›äºŒè€…CURD å‡½æ•°å‚æ•°åˆ—è¡¨ç›¸åŒã€‚ åˆ›å»ºä¸€ä¸ªContentProviderç»„ä»¶ ä½¿ç”¨ASçš„å¿«æ·æ–¹å¼ æ‰‹åŠ¨æ³¨å†ŒAndroidManifest.xml &lt;ContentProvider&gt;ç»„ä»¶å±æ€§ exportedï¼šæ˜¯å¦å…è®¸å¤–éƒ¨ç¨‹åºè®¿é—® enabledï¼šæ˜¯å¦å¯ç”¨ ContentProviderç±»ä¸­æœ‰6ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å­ç±»ç»§æ‰¿å®ƒçš„æ—¶å€™ï¼Œéœ€è¦å°†è¿™6ä¸ªæ–¹æ³•å…¨éƒ¨é‡å†™ã€‚ ContentProviderå¾…å®ç°æ–¹æ³•1234567891011121314151617181920&lt;A&gt; ContentProvider() { /*åˆå§‹åŒ–ContentProviderçš„æ—¶å€™è°ƒç”¨ã€‚é€šå¸¸ä¼šåœ¨è¿™é‡Œå®Œæˆå¯¹æ•°æ®åº“çš„åˆ›å»ºå’Œå‡çº§ç­‰æ“ä½œï¼Œè¿”å›trueè¡¨ç¤ºContentProvideråˆå§‹åŒ–æˆåŠŸï¼Œè¿”å›falseåˆ™è¡¨ç¤ºå¤±è´¥ã€‚*/ override fun onCreate(): Boolean /*ä»ContentProviderä¸­æŸ¥è¯¢æ•°æ®ã€‚uriå‚æ•°ç”¨äºç¡®å®šæŸ¥è¯¢å“ªå¼ è¡¨ï¼Œprojectionå‚æ•°ç”¨äºç¡®å®šæŸ¥è¯¢å“ªäº›åˆ—ï¼Œselectionå’ŒselectionArgså‚æ•°ç”¨äºçº¦æŸæŸ¥è¯¢å“ªäº›è¡Œï¼ŒsortOrderå‚æ•°ç”¨äºå¯¹ç»“æœè¿›è¡Œæ’åºï¼ŒæŸ¥è¯¢çš„ç»“æœå­˜æ”¾åœ¨Cursorå¯¹è±¡ä¸­è¿”å›ã€‚*/ override fun query(uri: Uri, projection: Array&lt;String&gt;?, selection: String?, selectionArgs: Array&lt;String&gt;?, sortOrder: String?): Cursor? /*å‘ContentProviderä¸­æ·»åŠ ä¸€æ¡æ•°æ®ã€‚uriå‚æ•°ç”¨äºç¡®å®šè¦æ·»åŠ åˆ°çš„è¡¨ï¼Œå¾…æ·»åŠ çš„æ•°æ®ä¿å­˜åœ¨valueså‚æ•°ä¸­ã€‚æ·»åŠ å®Œæˆåï¼Œè¿”å›ä¸€ä¸ªç”¨äºè¡¨ç¤ºè¿™æ¡æ–°è®°å½•çš„URIã€‚*/ override fun insert(uri: Uri, values: ContentValues?): Uri? /*æ›´æ–°ContentProviderä¸­å·²æœ‰çš„æ•°æ®ã€‚uriå‚æ•°ç”¨äºç¡®å®šæ›´æ–°å“ªä¸€å¼ è¡¨ä¸­çš„æ•°æ®ï¼Œæ–°æ•°æ®ä¿å­˜åœ¨valueså‚æ•°ä¸­ï¼Œselectionå’ŒselectionArgså‚æ•°ç”¨äºçº¦æŸæ›´æ–°å“ªäº›è¡Œï¼Œå—å½±å“çš„è¡Œæ•°å°†ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚*/ override fun update(uri: Uri, values: ContentValues?, selection: String?, selectionArgs: Array&lt;String&gt;?): Int /*ä»ContentProviderä¸­åˆ é™¤æ•°æ®ã€‚uriå‚æ•°ç”¨äºç¡®å®šåˆ é™¤å“ªä¸€å¼ è¡¨ä¸­çš„æ•°æ®ï¼Œselectionå’ŒselectionArgså‚æ•°ç”¨äºçº¦æŸåˆ é™¤å“ªäº›è¡Œï¼Œè¢«åˆ é™¤çš„è¡Œæ•°å°†ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚*/ override fun delete(uri: Uri, selection: String?, selectionArgs: Array&lt;String&gt;?): Int /*æ ¹æ®ä¼ å…¥çš„å†…å®¹URIè¿”å›ç›¸åº”çš„MIMEç±»å‹ã€‚*/ override fun getType(uri: Uri): String?} UriMatcher ç±»ï¼šæ–¹ä¾¿åŒ¹é… ContentProvider çš„ CURD æ–¹æ³•ä¸­çš„Uriï¼ˆå½“è°ƒç”¨UriMatcherçš„match()æ–¹æ³•æ—¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªUriå¯¹è±¡ä¼ å…¥ï¼Œè¿”å›å€¼æ˜¯æŸä¸ªèƒ½å¤ŸåŒ¹é…è¿™ä¸ªUriå¯¹è±¡æ‰€å¯¹åº”çš„è‡ªå®šä¹‰ä»£ç ï¼Œåˆ©ç”¨è¿™ä¸ªä»£ç ï¼Œå°±å¯ä»¥åˆ¤æ–­å‡ºè°ƒç”¨æ–¹æœŸæœ›è®¿é—®çš„æ˜¯å“ªå¼ è¡¨ä¸­çš„æ•°æ®äº†ã€‚ï¼‰ è§£æUriMatcherå¸®åŠ©ç±»12345&lt;!UriMatcher&gt;.addURI(autority: String, path: String, code: Int)//æ·»åŠ åŒ¹é…è§„åˆ™ è¿”å›ä»£ç ï¼ˆå”¯ä¸€æ ‡è¯†åŒ¹é…è§„åˆ™ï¼‰&lt;!UriMatcher&gt;.match(uri: Uri): Int// åŒ¹é…å¯¹è±¡ è¿”å›ä»£ç  MIME å­—ç¬¦ä¸²æ ¼å¼ï¼š å¿…é¡»ä»¥vndå¼€å¤´ã€‚ å¦‚æœå†…å®¹URIä»¥è·¯å¾„ç»“å°¾ï¼Œåˆ™åæ¥android.cursor.dir/ï¼›å¦‚æœå†…å®¹URIä»¥idç»“å°¾ï¼Œåˆ™åæ¥android.cursor.item/ã€‚ æœ€åæ¥ä¸Švnd.&lt;authority&gt;.&lt;path&gt;ã€‚ MIMEç¤ºä¾‹12345URI: content://com.example.app.provider/table1MIME: vnd.android.cursor.dir/vnd.com.example.app.provider.table1 URI: content://com.example.app.provider/table1/1MIME: vnd.android.cursor.item/vnd.com.example.app.provider.table1","link":"/posts/c484d1a3/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroidã€‹è¯»ä¹¦ç¬”è®° (ä¸€)","text":"Android Kotlin è¯»ä¹¦ç¬”è®° ç®€ä»‹ \"ã€Šç¬¬ä¸€è¡Œä»£ç ï¼šAndroid 3rdã€‹ç¬¬ä¸€ç« åˆ°ç¬¬äº”ç« çš„è¯»ä¹¦ç¬”è®°ï¼Œè®²äº†ASçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•å’ŒAndroidé¡¹ç›®ç»“æ„ï¼Œå››å¤§ç»„ä»¶ä¹‹ä¸€çš„Activityï¼Œä»¥åŠå„ç§UIæ§ä»¶çš„ç¼–å†™ï¼Œè¿˜æ”¶å½•äº†æœ¬ä¹¦ä¸­æ¶‰åŠçš„Kotlinçš„è¯­æ³•ç‰¹æ€§\" ç¬¬ä¸€ç«  å¼€å¯å¾ç¨‹ï¼ˆæ¦‚è¦ï¼‰ é¡¹ç›®ç»“æ„ä¸ç›®å½•ï¼špage 17 - page 19 Log æ–¹æ³•ä¸ Logcat çš„å®Œç¾ç»“åˆ ç¬¬äºŒç«  Kotlin è¯­æ³•ç³– åŒã€ŠKotlin å­¦ä¹ ç¬”è®°ã€‹ä¸€åŒé£Ÿç”¨æ›´ä½³ï¼ ã€Šç¬¬ä¸€è¡Œã€‹ä¸­å‡ºç°çš„ Kotlin ç‰¹æ€§é¢„è§ˆè¡¨ ä¸»æ¬¡æ„é€ å‡½æ•° å‚æ•°é»˜è®¤å€¼ é”®å€¼å¯¹ä¼ å‚ å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼ init {}, constructor () {} fun xxx(str: String = &quot;&quot;) {...} xxx(str = &quot;...&quot;) &quot;${value}&quot; æ ‡å‡†å‡½æ•° Lambda è¡¨è¾¾å¼ ç©ºæŒ‡é’ˆæ£€æŸ¥ å‡½æ•°å¼ API let, run, apply, with {para -&gt; ...}, {it.toString()} ? ?. !!. ?: map.maxby {/*Lambda*/} å®¹å™¨åˆå§‹åŒ– æ•°æ®ç±» å•ä¾‹ç±» å¾ªç¯éå† listOf(), mapOf(), setOf() data object for-in, until, downTo, step, l...r, å®¹å™¨éå† åˆ†æ”¯æ§åˆ¶ æ¡ä»¶æ§åˆ¶ â€œä¸å˜ä¸ºå…ˆâ€ è®¿é—®æ§åˆ¶ when () {... -&gt; ...}, if-else è¯­å¥/è¡¨è¾¾å¼ is (instanceof), else val, var, open class &quot;public by default&quot; ç±»å‹å¼ºè½¬ repeat å‡½æ•° è¿ç®—ç¬¦é‡è½½ å»¶è¿Ÿåˆå§‹åŒ– as, as? repeat(/*num*/) {/*Lambda*/} operator å…³é”®å­— lateinit åˆå§‹åŒ–åˆ¤æ–­ å¯†å°ç±»ï¼ˆä¸whenè¯­å¥ä¸€åŒä½¿ç”¨ï¼‰ æ‰©å±•å‡½æ•° æ— ç”¨å‚æ•° ::($å˜é‡å).isInitialized sealed class fun ClassName.funcName(...) : ... {} ä¸‹åˆ’çº¿_ å‡½æ•°ç±»å‹ é«˜é˜¶å‡½æ•° å†…è”å‡½æ•° å¯å˜å‚æ•° ClassName.(paraType, ...) -&gt; returnType æ¥å—/è¿”å›å‡½æ•°ç±»å‹/Lambdaè¡¨è¾¾å¼çš„å‡½æ•° inline noinline crossinline vararg Pair ç±»å‹ Smart Cast è‡ªåŠ¨è½¬å‹ æ³›å‹ å§”æ‰˜ A to Bï¼Œ æ³›å‹ is Type åˆ¤æ–­åå®ä¾‹è‡ªåŠ¨å‘ä¸‹è½¬æ¢ç±»å‹ &lt;T&gt; ç±»å§”æ‰˜ã€å±æ€§å§”æ‰˜ ç¬¬ä¸‰ç«  Activityï¼æ‰€è§å³æ‰€å¾— åˆ›å»º Activity åˆ›å»ºå’ŒåŠ è½½å¸ƒå±€æ–‡ä»¶ layout åœ¨ AndroidManifest.xml ä¸­æ³¨å†ŒActivity ç¼–å†™ Activity.kt ä»£ç  ï¼ˆäº‹ä»¶ç»‘å®šï¼Œæ–¹æ³•é‡å†™ç­‰ï¼‰ Activity é€šä¿¡ä¸åˆ‡æ¢ Intent ç±» æ˜¾å¼åˆ‡æ¢ï¼šIntent(ä¸Šä¸‹æ–‡, æŒ‡å®šActivity çš„ Class ç±») éšå¼åˆ‡æ¢ï¼šæŒ‡å®š action categoryï¼Œç›®æ ‡å°†ä¼šæŒ‰ç…§æ³¨å†Œä¿¡æ¯ä¸­çš„è¿‡æ»¤æ¡ä»¶å“åº” intentã€‚ è¿‡æ»¤æ¡ä»¶ï¼š&lt;category&gt; &lt;action&gt; &lt;data&gt; ä¼ å‚ï¼š.putExtra(), .getStringExtra() å¯åŠ¨æ–¹å¼ï¼šstartActivity() //æ™®é€šå¯åŠ¨ startActivityForResult() //è¯·æ±‚ç»“æœ - Activity ç±» Result ç»“æœ è®¾ç½®ç»“æœï¼šsetResult() å–å›ç»“æœï¼šoverride onActivityResult() Bundle ç±» å›¢é˜Ÿåˆä½œæ—¶ç”¨ä¼´ç”Ÿç±»â€œé™æ€æ–¹æ³•â€æ¥å¯åŠ¨ Activity ç”Ÿå‘½å‘¨æœŸ è¿”å›æ ˆçš„æ¦‚å¿µ æ€ç»´å¯¼å›¾ ä¿å­˜ä¿¡æ¯ Bundle ç±»å‹ onSaveInstanceState()ï¼Œvar savedInstanceState Activity å¯åŠ¨æ¨¡å¼ standard æ— æ£€æŸ¥ï¼Œç›´æ¥å‹æ ˆ singleTop æ£€æŸ¥æ ˆé¡¶ singleTask è§£æ ˆæ¢å¤ singleInstance åˆ›å»ºæ–°æ ˆ ç¬¬å››ç«  UIï¼ï¼ é—¨é¢åŠŸå¤« ğŸ˜ƒ æ§ä»¶ Widget åŸºæœ¬æ§ä»¶ï¼šTextViewï¼ŒEditViewï¼ŒButtonï¼Œâ€¦â€¦ è‡ªå®šä¹‰æ§ä»¶ï¼šç¼–å†™classï¼ˆæ³¨å…¥å¸ƒå±€ï¼Œç»‘å®šäº‹ä»¶ï¼‰â†’\\rightarrowâ†’ xmlæ³¨å†Œå¼•å…¥è‡ªå®šä¹‰æ§ä»¶ â†’\\rightarrowâ†’ å¼•å…¥æ§ä»¶ é«˜çº§ä¸€ç‚¹çš„æ§ä»¶ï¼šListVIew, RecyclerView â€¦ åŸºæœ¬åŸç†æ’‡æ¸…æ¥š Inflater çš„ä½œç”¨ï¼šå°†xmlæ ¼å¼çš„å¸ƒå±€æ–‡ä»¶è§£æè½¬åŒ–æˆViewçš„å®ä¾‹ findViewById() è¿”å›å¸ƒå±€ä¸­æŒ‡å®šidçš„Viewå®ä¾‹, åœ¨Activityç±»ä¸­ç›´æ¥ä½¿ç”¨findViewById()ç›¸å½“äºåœ¨å½“å‰Activitiyæ‰€åŠ è½½çš„å¸ƒå±€ä¸­å¯»æ‰¾å¯¹åº”çš„viewï¼Œè€Œä½¿ç”¨view.findViewById()åˆ™æŒ‡å®šäº†å¯»æ‰¾çš„åŒºåŸŸæ˜¯viewå†… ç•™æ„Kotlinè‡ªåŠ¨ç±»å‹æ¨å¯¼æœºåˆ¶çš„ä½¿ç”¨åœºåˆï¼Œæ–¹æ³• *ç¬¬äº”ç«  æ‰‹æœºå¹³æ¿è¦å…¼é¡¾ï¼Œæ¢ç©¶Fragment å­¦ä¹ å†…å®¹ Frag ç”Ÿå‘½å‘¨æœŸï¼ŒFrag åŠ¨æ€åŠ è½½å¸ƒå±€","link":"/posts/37a431d8/"},{"title":"ç®—æ³•&#x2F;åºåˆ—æ ‡æ³¨ä¹‹HMMä¸CRFæ¨¡å‹","text":"æœºå™¨å­¦ä¹  HMM CRF ç»ªè®º â€‹ ä»æ–‡æœ¬ç¿»è¯‘åˆ°æ–‡å­—ã€è¯­éŸ³è¯†åˆ«ï¼Œå†åˆ°å‘½åå®ä½“è¯†åˆ«ï¼Œè¯æ€§æ ‡æ³¨ï¼Œåºåˆ—æ ‡æ³¨é—®é¢˜å·²ç„¶æ¸—é€åˆ°ç¤¾ä¼šç”Ÿæ´»ä¸­çš„æ–¹æ–¹é¢é¢ã€‚ä¸å°‘è‡ªç„¶è¯­è¨€å¤„ç†çš„é—®é¢˜éƒ½å¯ä»¥æƒ³æ–¹è®¾æ³•è½¬åŒ–ä¸ºåºåˆ—æ ‡æ³¨é—®é¢˜ï¼šå¯¹é‚®ä»¶ç­‰â€å¤§å—â€œçš„ä¿¡æ¯åšå‘½åå®ä½“è¯†åˆ«ï¼Œè¯†åˆ«å‡ºä¿¡æ¯ä¸­çš„è¡¨å•é¡¹ç”¨äºè‡ªåŠ¨å¡«å†™è¡¨å•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æé«˜å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çº¦æ—¶é—´ï¼›å¯¹éŸ³é¢‘æ–‡ä»¶è¿›è¡Œæ ‡æ³¨åˆ†æï¼Œå¯ä»¥ç”¨æ¥è¿›è¡Œè¯­éŸ³è¯†åˆ«ï¼›æŠ½å–å‡ºæ¥çš„ç”µå­ç—…å†æ–‡æœ¬ä¸­çš„ç–¾ç—…ã€æ²»ç–—ã€æ£€æŸ¥ç­‰ç±»å‹çš„å®ä½“ï¼Œå¯ä»¥ç”¨ä»¥å¯¹ç”µå­ç—…å†è¿›è¡Œåˆ†ç±»å½’æ¡£â€¦æƒ³è¦å¤„ç†å¥½ä¸€èˆ¬æ€§çš„è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜åˆ°åºåˆ—æ ‡è®°é—®é¢˜çš„è½¬åŒ–ï¼Œå…³é”®åœ¨äºå¤„ç†å¥½å¦‚ä½•å®šä¹‰æ ‡è®°çš„é—®é¢˜ã€‚ â€‹ ä½œä¸ºè‡ªç„¶è¯­è¨€å¤„ç†ä¸­å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ï¼Œåºåˆ—æ ‡æ³¨é—®é¢˜å·²ç»ç”±æ¥å·²ä¹…ï¼Œå¹¶åœ¨ç»å†äº†ä¸€ç³»åˆ—çš„å‘å±•å˜é©åé€æ¸å£®å¤§å¥å…¨ã€‚æœ€æ—©çš„æœ‰ä¼ ç»Ÿçš„éšé©¬å°”å¯å¤«æ¨¡å‹ã€æœ€å¤§ç†µæ¨¡å‹å’Œæ¡ä»¶éšæœºåœºæ¨¡å‹ï¼Œæœ€å¤§ç†µæ¨¡å‹æŠ›å¼ƒäº†éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„ç‹¬ç«‹è¾“å‡ºå‡è®¾ï¼Œè€Œæ¡ä»¶éšæœºåœºæ¨¡å‹åˆåœ¨æœ€å¤§ç†µæ¨¡å‹çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥å°†æ ‡ç­¾çš„è½¬ç§»æ‰©å¤§ä¸ºå…¨å±€ç‰¹å¾ï¼Œä½¿å¾—ä¸Šä¸‹æ–‡ä¹‹é—´çš„è”ç³»æ›´åŠ ç´§å¯†ã€‚æ— è®ºæ˜¯åœ¨ç†è®ºè¿˜æ˜¯å®è·µç»“æœä¸Šæ¥çœ‹ï¼Œæ¡ä»¶éšæœºåœºçš„æ•´ä½“æ•ˆæœéƒ½è¦ä¼˜äºå‰ä¸¤ç§æ–¹æ³•ã€‚æ­¥å…¥æ·±åº¦å­¦ä¹ å‘å±•çš„æ—¶ä»£åï¼Œæ–°çš„è¯¸å¦‚RNNRNNRNNå’ŒLSTMLSTMLSTMæ¨¡å‹ä¹Ÿç›¸ç»§ç”¨äºåºåˆ—æ ‡æ³¨é—®é¢˜ï¼Œæœ‰æ•ˆåœ°æ”¹å–„äº†ä¼ ç»Ÿæ–¹æ³•åœ¨å¤„ç†æ›´é•¿çš„ä¸Šä¸‹æ–‡ä¾èµ–ã€è¿‡æ‹Ÿåˆã€ä¾èµ–å¯å‘å¼çŸ¥è¯†ç­‰æ–¹é¢çš„ä¸è¶³ä¹‹å¤„ã€‚æœ¬æ–‡ä¸»è¦ç ”ç©¶å’Œæ¢è®¨äº†ä¼ ç»Ÿçš„åºåˆ—æ ‡æ³¨æ¨¡å‹â€”â€”éšé©¬å°”å¯å¤«æ¨¡å‹å’Œæ¡ä»¶éšæœºåœºæ¨¡å‹â€”â€”çš„ç†è®ºåŸºç¡€å’Œåº”ç”¨å®è·µã€‚ æ­£æ–‡ å®šä¹‰ â€‹ åºåˆ—æ ‡æ³¨æ˜¯æŒ‡å°†è¾“å…¥çš„ä¸€ä¸²è§‚æµ‹åºåˆ— x1x2x3...xnx_1x_2x_3...x_nx1â€‹x2â€‹x3â€‹...xnâ€‹ è½¬åŒ–ä¸ºä¸€ä¸²æ ‡è®°åºåˆ— y1y2y3...yny_1y_2y_3...y_ny1â€‹y2â€‹y3â€‹...ynâ€‹ çš„è¿‡ç¨‹ï¼Œè¦è§£å†³åºåˆ—æ ‡è®°é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯è¦æ‰¾åˆ°ä¸€ä¸ªè§‚æµ‹åºåˆ—åˆ°æ ‡è®°åºåˆ—çš„æ˜ å°„ f(xi)â†’yi (i=1,2,...,n)f(x_i)\\rightarrow y_i\\space (i=1,2,...,n)f(xiâ€‹)â†’yiâ€‹ (i=1,2,...,n)ã€‚ HMMæ¨¡å‹ é©¬å°”å¯å¤«é“¾ é©¬å°”å¯å¤«é“¾ï¼ˆMarkov chainï¼‰1ï¼Œåˆç§°ç¦»æ•£æ—¶é—´é©¬å°”å¯å¤«é“¾ï¼Œä¸ºçŠ¶æ€ç©ºé—´ä¸­ç»è¿‡ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢çš„éšæœºè¿‡ç¨‹ã€‚è¯¥è¿‡ç¨‹è¦æ±‚å…·å¤‡â€œæ— è®°å¿†â€çš„æ€§è´¨ï¼šä¸‹ä¸€çŠ¶æ€çš„æ¦‚ç‡åˆ†å¸ƒåªèƒ½ç”±å½“å‰çŠ¶æ€å†³å®šï¼Œåœ¨æ—¶é—´åºåˆ—ä¸­å®ƒå‰é¢çš„äº‹ä»¶å‡ä¸ä¹‹æ— å…³ã€‚ â€‹ ä»æ•°å­¦å½¢å¼ä¸Šæ¥çœ‹ï¼Œå¯¹äºéšæœºå˜é‡åºåˆ—X1X2X3...XnX_1X_2X_3...X_nX1â€‹X2â€‹X3â€‹...Xnâ€‹ï¼Œæ»¡è¶³ P(Xn=xnâˆ£X1=x1,X2=x2,X3=x3...,Xnâˆ’1=xnâˆ’1)=P(Xn=xnâˆ£Xnâˆ’1=xnâˆ’1)P(X_n=x_n|X_1=x_1,X_2=x_2,X_3=x_3...,X_{n-1}=x_{n-1})=P(X_n=x_n|X_{n-1}=x_{n-1}) P(Xnâ€‹=xnâ€‹âˆ£X1â€‹=x1â€‹,X2â€‹=x2â€‹,X3â€‹=x3â€‹...,Xnâˆ’1â€‹=xnâˆ’1â€‹)=P(Xnâ€‹=xnâ€‹âˆ£Xnâˆ’1â€‹=xnâˆ’1â€‹) ï¼Œåˆ™ç§°è¯¥åºåˆ—ä¸ºä¸€ä¸ªä¸€é˜¶é©¬å°”å¯å¤«é“¾ã€‚ â€‹ ä»å®è§‚æ„ä¹‰ä¸Šæ¥çœ‹ï¼ŒMarkové“¾è¯´æ˜äº†åœ¨çŠ¶æ€è½¬ç§»è¿‡ç¨‹ä¸­ï¼Œâ€œæœªæ¥â€ä¸â€œè¿‡å»â€æ— å…³è€Œåªä¸â€œç°åœ¨â€æœ‰å…³ã€‚ â€‹ Markové“¾å¸¸å¸¸è¢«è®¤ä¸ºæ˜¯æ—¶é½çš„ï¼Œå³è½¬ç§»æ¦‚ç‡ä¸næ— å…³ã€‚ â€‹ ç±»ä¼¼çš„å¯ä»¥å®šä¹‰mé˜¶Markové“¾ï¼Œæ»¡è¶³ P(Xn=xnâˆ£X1=x1,X2=x2,X3=x3...,Xnâˆ’1=xnâˆ’1)=P(Xn=xnâˆ£Xnâˆ’m=xnâˆ’m,Xnâˆ’m+1=xnâˆ’m+1...,Xnâˆ’1=xnâˆ’1)\\begin{aligned} &amp;P(X_n=x_n|X_1=x_1,X_2=x_2,X_3=x_3...,X_{n-1}=x_{n-1})\\\\ =&amp;P(X_n=x_n|X_{n-m}=x_{n-m},X_{n-m+1}=x_{n-m+1}...,X_{n-1}=x_{n-1}) \\end{aligned} =â€‹P(Xnâ€‹=xnâ€‹âˆ£X1â€‹=x1â€‹,X2â€‹=x2â€‹,X3â€‹=x3â€‹...,Xnâˆ’1â€‹=xnâˆ’1â€‹)P(Xnâ€‹=xnâ€‹âˆ£Xnâˆ’mâ€‹=xnâˆ’mâ€‹,Xnâˆ’m+1â€‹=xnâˆ’m+1â€‹...,Xnâˆ’1â€‹=xnâˆ’1â€‹)â€‹ éšé©¬å°”å¯å¤«æ¨¡å‹ â€‹ éšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHidden Markov Model ç¼©å†™ï¼šHMMï¼‰åŸºäºMarkové“¾ï¼Œä¸åŒä¸ä¸€èˆ¬çš„Markové“¾ï¼ŒHMM åˆåŠ å…¥äº†éšå˜é‡è¿™ä¸€æ¦‚å¿µï¼Œå³è¯¥æ¨¡å‹åŒ…å«äº†è§‚æµ‹åºåˆ—X1X2X3...XnX_1X_2X_3...X_nX1â€‹X2â€‹X3â€‹...Xnâ€‹å’Œä¸å®ƒä¸€ä¸€å¯¹åº”çš„æ ‡è®°åºåˆ—Y1Y2Y3...YnY_1Y_2Y_3...Y_nY1â€‹Y2â€‹Y3â€‹...Ynâ€‹ã€‚è¯¥æ¨¡å‹ç”¨åˆ°äº†ä¸¤ä¸ªåŸºæœ¬å‡è®¾ï¼š æ—¶é½çš„Markovæ€§å‡è®¾ï¼Œå¦‚2.2.1æ‰€è¿° ç‹¬ç«‹è¾“å‡ºå‡è®¾ï¼Œè¾“å‡ºçŠ¶æ€çš„æ¦‚ç‡ä»…ä¸è¾“å…¥çŠ¶æ€ç›¸å…³ï¼Œè€Œä¸è¾“å…¥åºåˆ—çš„å‰åæ–‡æ— å…³ ä»¥å›¾å½¢è¡¨ç¤ºçš„éšé©¬å°”å¯å¤«æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š HMM æ¨¡å‹è§£å†³äº†è¢«ç”¨æ¥è§£å†³åºåˆ—æ ‡æ³¨é—®é¢˜ä¸­çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼šé¢„æµ‹ã€å¹³æ»‘å’Œè§£ç ã€‚æœ¬æ–‡ä¸»è¦è®¨è®ºçš„è§£ç é—®é¢˜ï¼Œå³æ±‚è§£ç»™å®šè§‚æµ‹åºåˆ—ï¼Œç»™å‡ºæœ€æœ‰å¯èƒ½çš„æ ‡è®°åºåˆ—çš„é—®é¢˜ã€‚æœ¬æ–‡ä½¿ç”¨Î»(W,T,Ï€,Î²,A,B)\\lambda(W,T,\\pi,\\beta,A,B)Î»(W,T,Ï€,Î²,A,B)æ¥è¡¨å¾ä¸€ä¸ªåºåˆ—æ ‡æ³¨é—®é¢˜çš„HMMæ¨¡å‹ï¼Œå…¶ä¸­WWWè¡¨ç¤ºè§‚æµ‹åºåˆ—ï¼ŒTTTè¡¨ç¤ºè¾“å‡ºçš„æ ‡è®°åºåˆ—ï¼ŒÏ€\\piÏ€è¡¨ç¤ºæ ‡è®°ä¹‹é—´çš„æ¦‚ç‡è½¬ç§»è½¬ç§»çŸ©é˜µï¼ŒÎ²\\betaÎ²è¡¨ç¤ºæ ‡è®°åˆ°è§‚æµ‹å€¼çš„å‘å°„æ¦‚ç‡ï¼ŒAAAè¡¨ç¤ºè¾“å…¥å¯¹è±¡çš„é›†åˆï¼ŒBBBè¡¨ç¤ºæ ‡è®°çš„é›†åˆã€‚ æ¦‚ç‡æ¨¡å‹ é—®é¢˜å½’ç»“äºæ±‚è§£ä¸‹å¼ argTmax P(T=t1t2...tnâˆ£W=w1w2...wn,Î»)(tiâˆˆB,wiâˆˆA)(1)arg_{T}max\\space P(T=t_1t_2...t_n|W=w_1w_2...w_n,\\lambda)\\qquad (t_i\\in B, w_i\\in A)\\tag{1} argTâ€‹max P(T=t1â€‹t2â€‹...tnâ€‹âˆ£W=w1â€‹w2â€‹...wnâ€‹,Î»)(tiâ€‹âˆˆB,wiâ€‹âˆˆA)(1) ç”±è´å¶æ–¯æ¦‚ç‡å…¬å¼ P(Tâˆ£W)=P(Wâˆ£T)P(T)P(W)âˆP(Wâˆ£T)P(T)(2)P(T|W)=\\frac{P(W|T)P(T)}{P(W)}\\propto P(W|T)P(T)\\tag{2} P(Tâˆ£W)=P(W)P(Wâˆ£T)P(T)â€‹âˆP(Wâˆ£T)P(T)(2) å› ä¸º P(W)=constP(W)=constP(W)=const æ•…è€Œå¯ä»¥çœç•¥ä¸äºˆä»¥è€ƒè™‘ ç”±ç‹¬ç«‹è¾“å‡ºå‡è®¾å¯çŸ¥ P(Wâˆ£T)=P(w1âˆ£t1)P(w2âˆ£t2)...P(wnâˆ£tn)(3)P(W|T)=P(w_1|t_1)P(w_2|t_2)...P(w_n|t_n)\\tag{3} P(Wâˆ£T)=P(w1â€‹âˆ£t1â€‹)P(w2â€‹âˆ£t2â€‹)...P(wnâ€‹âˆ£tnâ€‹)(3) ç”±ä¸€é˜¶æ—¶é½çš„Markovæ€§å‡è®¾å¯çŸ¥ P(T)=P(t1)P(t2âˆ£t1)P(t3âˆ£t2)...P(tnâˆ£tnâˆ’1)(4)P(T)=P(t_1)P(t_2|t_1)P(t_3|t_2)...P(t_{n}|t_{n-1})\\tag{4} P(T)=P(t1â€‹)P(t2â€‹âˆ£t1â€‹)P(t3â€‹âˆ£t2â€‹)...P(tnâ€‹âˆ£tnâˆ’1â€‹)(4) è”ç«‹æ–¹ç¨‹ (2)(3)(4)â‡’(2)(3)(4)\\Rightarrow(2)(3)(4)â‡’ P(Tâˆ£W)âˆ¼[P(t1)P(w1âˆ£t1)][P(t2âˆ£t1)P(w2âˆ£t2)]...[P(tnâˆ£tnâˆ’1)P(wnâˆ£tn)](5)P(T|W)\\sim [P(t_1)P(w_1|t_1)][P(t_2|t_1)P(w_2|t_2)]...[P(t_n|t_n-1)P(w_n|t_n)]\\tag{5} P(Tâˆ£W)âˆ¼[P(t1â€‹)P(w1â€‹âˆ£t1â€‹)][P(t2â€‹âˆ£t1â€‹)P(w2â€‹âˆ£t2â€‹)]...[P(tnâ€‹âˆ£tnâ€‹âˆ’1)P(wnâ€‹âˆ£tnâ€‹)](5) å…¶ä¸­è½¬ç§»æ¦‚ç‡ç”±æ¡ä»¶æ¦‚ç‡å…¬å¼å¯çŸ¥ P(tiâˆ£tiâˆ’1)=P(ti,tiâˆ’1)P(tiâˆ’1)(6)P(t_i|t_{i-1})=\\frac{P(t_i,t_{i-1})}{P(t_{i-1})}\\tag{6} P(tiâ€‹âˆ£tiâˆ’1â€‹)=P(tiâˆ’1â€‹)P(tiâ€‹,tiâˆ’1â€‹)â€‹(6) ç­‰å¼(6)(6)(6)ä¸­æ ‡è®°å€¼çš„æ¦‚ç‡å’Œç­‰å¼(5)(5)(5)ä¸­çš„ç‹¬ç«‹è¾“å‡ºæ¦‚ç‡å¯ç”±ç»Ÿè®¡æ–¹æ³•æˆ–è§„åˆ™æ–¹æ³•å¾—å‡ºï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§æ–¹æ³•çš„å¼‚åŒï¼š é¡¹ç›® ç»Ÿè®¡æ–¹æ³• è§„åˆ™æ–¹æ³• ä»‹ç» é€šè¿‡ç»Ÿè®¡å¾—å‡ºé¢‘ç‡ä¼°è®¡æ¦‚ç‡çš„æ–¹æ³• é€šè¿‡æ—¢å®šçš„è§„åˆ™æ¥ä¼°è®¡æ¦‚ç‡çš„æ–¹æ³• ä¼˜ç‚¹ è¦†ç›–é¢å¹¿ï¼Œç¨³å®šæ€§é«˜ ç²¾ç¡®ï¼Œå¯¹äºç‰¹æ®Šç°è±¡çš„æ”¯æŒåº¦å¥½ ç¼ºç‚¹ å¯¹äºç‰¹æ®Šç°è±¡çš„æ”¯æŒåº¦å·® è§„åˆ™åº“åºå¤§ï¼Œç¼–å†™å’Œç»´æŠ¤å¤æ‚ï¼Œè¦†ç›–é¢ä¸åŠç»Ÿè®¡æ–¹æ³• èƒ½å¤Ÿè®¡ç®—å‡ºç‰¹å®šTâˆ—T^*Tâˆ—çš„æ¦‚ç‡å€¼P(Tâˆ—âˆ£W)P(T^*|W)P(Tâˆ—âˆ£W)è¿˜ä¸å¤Ÿï¼Œè¿˜è¦è¦æ‰¾åˆ°æœ€å¤§çš„æ¦‚ç‡å¯¹åº”çš„TTTã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥è½¬åŒ–æˆä¸€ä¸ªæ±‚è§£æœ€çŸ­åŠ æƒè·¯å¾„çš„å›¾è®ºé—®é¢˜ã€‚ å¯æ„å»ºåƒ graph 1 æ‰€ç¤ºçš„å›¾æ¨¡å‹ï¼ˆå…¶ä½™è·¯å¾„æœªç”»å‡ºï¼‰ã€‚æ˜¾ç„¶ï¼Œå¦‚æœæ ‡è®°çš„å–å€¼æœ‰mmmç§å¯èƒ½ï¼Œåºåˆ—çš„é•¿åº¦ä¸ºnnnï¼Œé‚£ä¹ˆæšä¸¾æ‰€æœ‰è·¯å¾„ç„¶åå–åŠ æƒå€¼æœ€å¤§çš„è·¯å¾„çš„ç®—æ³•å¤æ‚åº¦ä¸º O(nm)O(n^m)O(nm) ï¼Œéšç€åºåˆ—é•¿åº¦å¢é•¿è€Œå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚ä¸ºäº†é™ä½å¤æ‚åº¦è¿™é‡Œä¸€èˆ¬é‡‡ç”¨ç»´ç‰¹æ¯”ç®—æ³• (Viterbi algorithm) ã€‚ The Viterbi algorithm2 is a dynamic programming algorithm for finding the most likely sequence of hidden statesâ€”called the Viterbi pathâ€”that results in a sequence of observed events, especially in the context of Markov information sources and hidden Markov models (HMM). ç»´ç‰¹æ¯”ç®—æ³•æ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œç”¨äºæ‰¾å‡ºéšè—çš„æœ€å¤§å¯èƒ½è·¯å¾„ï¼ˆç»´ç‰¹æ¯”è·¯å¾„ï¼‰ã€‚ç»´ç‰¹æ¯”ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³åœ¨äºå…¨å±€æœ€ä¼˜åŒ…å«å±€éƒ¨æœ€ä¼˜ã€‚è€ƒè™‘ä»èµ·ç‚¹åˆ°æŸä¸ªä¸­é—´ç‚¹çš„æœ€å¤§åŠ æƒè·¯å¾„ï¼Œé‚£ä¹ˆè¯¥è·¯å¾„æ‰€ç»è¿‡çš„è¯¥ä¸­é—´ç‚¹çš„å‰ä¸€ä¸ªç‚¹åœ¨åŒæ—¶é—´ä¸Šæ‰€æœ‰ç‚¹ä¸­ä¹Ÿä¸€å®šæ˜¯åŠ æƒæœ€å¤§çš„ç‚¹ã€‚ä¸‹é¢ç»™å‡ºäº†Viterbiç®—æ³•çš„ä¼ªä»£ç ã€‚å…¶ä¸­T1,T2T_1,T_2T1â€‹,T2â€‹åˆ†åˆ«ä¸ºä¿å­˜å½“å‰èŠ‚ç‚¹æœ€å¤§ç´¯è®¡æƒå€¼çš„çŸ©é˜µå’Œä¿å­˜è¯¥èŠ‚ç‚¹æœ€å¤§ç´¯è®¡æƒå€¼è·¯å¾„ä¸Šçš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„çŸ©é˜µã€‚ä»¥ä¸‹ç»™å‡ºäº†ç»´ç‰¹æ¯”ç®—æ³•çš„ç®—æ³•ä¼ªä»£ç ï¼š ä¸‹æº¢é—®é¢˜ï¼š(5)(5)(5) å¼ä¸­çš„è¿ä¹˜ç§¯ä¸­å› å­æœ‰å¯èƒ½è¿‡å°è€Œä¸‹æº¢ä¸ºé›¶ä»è€Œé€ æˆæ•´ä¸ªå¼å­å˜ä¸º0ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µå¯ä»¥è€ƒè™‘å–å¯¹æ•°åŒ–ä¹˜ç§¯ä¸ºåŠ æ³•çš„æŠ€å·§ã€‚ åº”ç”¨ â€‹ ç»å¤§å¤šæ•°è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜ï¼ˆNatural Language Processing Problemï¼Œç®€ç§°NLPé—®é¢˜ï¼‰ï¼Œéƒ½å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåºåˆ—æ ‡æ³¨é—®é¢˜ã€‚æƒ³è¦å¤„ç†å¥½NLPé—®é¢˜åˆ°åºåˆ—æ ‡è®°é—®é¢˜çš„è½¬åŒ–å…³é”®åœ¨äºå¤„ç†å¥½å¦‚ä½•å®šä¹‰æ ‡è®°çš„é—®é¢˜ã€‚ä¾‹å¦‚å¯¹äºä¸­æ–‡åˆ†è¯é—®é¢˜ï¼Œå¯ä»¥å®šä¹‰æ ‡ç­¾é›†åˆ T={B,M,E,S}T=\\{B,M,E,S\\}T={B,M,E,S} ï¼Œå…¶ä¸­ B(begin),M(middle),E(end),S(single)B(begin),M(middle),E(end),S(single)B(begin),M(middle),E(end),S(single) åˆ†åˆ«è¡¨ç¤ºè¯çš„å¼€å¤´ï¼Œä¸­é—´ï¼Œç»“å°¾å’Œå•ä¸ªå­—æˆè¯ï¼›å¯¹äºè¯æ€§æ ‡æ³¨é—®é¢˜ï¼Œå¯ä»¥åœ¨åˆ†è¯å¤„ç†çš„åŸºç¡€ä¸Šè®©ä¸€ä¸ªè¯å¯¹åº”ä¸€ä¸ªè¯æ€§æ ‡ç­¾ã€‚å¯¹äºå‘½åå®ä½“è¯†åˆ«é—®é¢˜ï¼Œå¯ä»¥å®šä¹‰æ ‡ç­¾é›†åˆ T={BL,ML,EL,BP,MP,EP,BO,MO,EO,N}T=\\{BL,ML,EL,BP,MP,EP,BO,MO,EO,N\\}T={BL,ML,EL,BP,MP,EP,BO,MO,EO,N} å…¶ä¸­ B,M,EB,M,EB,M,E åé¢è·Ÿç€çš„ L(location),P(person),O(organization)L(location),P(person),O(organization)L(location),P(person),O(organization) åˆ†åˆ«è¡¨ç¤ºåœ°åï¼Œäººæ°‘ï¼Œæœºæ„åï¼Œè€Œ NNN è¡¨ç¤ºä¸å±äºå®ä½“çš„éƒ¨åˆ†ã€‚å®šä¹‰å¥½æ ‡è®°ä¹‹åè¾“å…¥è®­ç»ƒå¥½çš„æ¨¡å‹åé—®é¢˜å³å¯æ±‚è§£ã€‚ CRF æ¨¡å‹ éšæœºåœºã€é©¬å°”å¯å¤«éšæœºåœºã€æ¡ä»¶éšæœºåœº â€‹ è€ƒè™‘ä¸€ä¸ªç©ºé—´å†…å„ä¸ªåŒºåŸŸæŒ‰ç…§æŸç§åˆ†å¸ƒè¢«èµ‹äºˆäº†æŸä¸ªéšæœºå€¼ï¼Œè¿™æ ·çš„åœºç§°ä¹‹ä¸ºâ€œéšæœºåœºâ€ã€‚è€Œé©¬å°”å¯å¤«éšæœºåœºåˆ™æ˜¯ä¸€ç±»ç‰¹æ®Šçš„éšæœºåœºï¼Œåœºä¸­æ¯ä¸ªç‚¹çš„èµ‹å€¼ä¸ä»…ä¸è‡ªèº«ä½ç½®æœ‰å…³ï¼Œè¿˜å’Œç›¸é‚»ä½ç½®çš„èµ‹å€¼ç›¸å…³ã€‚å¦‚æœè€ƒè™‘é©¬å°”ç§‘å¤«æ€§çš„åŒæ—¶å°†ç‚¹çš„èµ‹å€¼æ¦‚ç‡çœ‹åšæ˜¯æ¡ä»¶æ¦‚ç‡ï¼Œåˆ™ç§°è¯¥é©¬å°”ç§‘å¤«åœºä¸ºæ¡ä»¶éšæœºåœºï¼ˆConditional random fields ç®€ç§°ï¼šCRFï¼‰ã€‚å¦‚ç»´åŸºç™¾ç§‘3ä¸­æ‰€è¿°: Whereas a classifier predicts a label for a single sample without considering â€œneighboringâ€ samples, a CRF can take context into account. â€‹ CRFæ¨¡å‹å’Œé‚£äº›ä»…ä»…åªè€ƒè™‘è‡ªèº«æ¥è¿›è¡Œåˆ†ç±»çš„æ¨¡å‹ä¸åŒä¹‹å¤„å°±åœ¨äºCRFæ¨¡å‹å°†æ ·æœ¬ç‚¹çš„â€œé‚»å±…â€ä¹Ÿè€ƒè™‘åœ¨å†…ï¼Œè¿™ä¸ªç‰¹ç‚¹ä½¿å¾—CRFæ¨¡å‹æœ‰èƒ½åŠ›å¤„ç†ä¸Šä¸‹æ–‡æœ‰å…³è”çš„åºåˆ—æ ‡æ³¨çš„é—®é¢˜ã€‚ çº¿æ€§é“¾æ¡ä»¶éšæœºåœº çº¿æ€§é“¾çš„æ¡ä»¶éšæœºåœºï¼ˆLinear conditional random fieldsï¼‰æ˜¯å¯¹æ¡ä»¶éšæœºåœºçš„ç®€åŒ–æ¨¡å‹ï¼šX=(X1,X2,...Xn),Y=(Y1,Y2,...Yn)X=(X1,X2,...Xn),Y=(Y1,Y2,...Yn)X=(X1,X2,...Xn),Y=(Y1,Y2,...Yn) å‡ä¸ºçº¿æ€§é“¾è¡¨ç¤ºçš„éšæœºå˜é‡åºåˆ—ï¼Œåœ¨ç»™å®šéšæœºå˜é‡åºåˆ—XXXçš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡YYYçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ P(Yâˆ£X)P(Y|X)P(Yâˆ£X) æ„æˆæ¡ä»¶éšæœºåœºï¼Œå³æ»¡è¶³é©¬å°”ç§‘å¤«æ€§ï¼š P(Yiâˆ£X,Y1,Y2,...Yn)=P(Yiâˆ£X,Yiâˆ’1,Yi+1)(7)P(Yi|X,Y1,Y2,...Yn)=P(Yi|X,Yiâˆ’1,Yi+1)\\tag{7} P(Yiâˆ£X,Y1,Y2,...Yn)=P(Yiâˆ£X,Yiâˆ’1,Yi+1)(7) åˆ™ç§° P(Yâˆ£X)P(Y|X)P(Yâˆ£X) ä¸ºçº¿æ€§é“¾æ¡ä»¶éšæœºåœºã€‚ æ¦‚ç‡æ¨¡å‹ â€‹ ä¸ºäº†å»ºç«‹å¯ä¾›å­¦ä¹ çš„CRFæ¨¡å‹ï¼Œå¯ä»¥å®šä¹‰ä¸¤ç±»ç‰¹å¾å‡½æ•°ï¼ˆè¿™äº›ç‰¹å¾å‡½æ•°ç”¨æ¥è¯„ä»·ä¸€ä¸ªåºåˆ—åœ¨æŸäº›ç‰¹å¾æ–¹é¢æ˜¯å¦â€œé è°±â€ï¼Œåªæœ‰ 1,01, 01,0 ä¸¤ç§å–å€¼ï¼Œå³åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰ï¼šä¸€ç±»åªä¸å½“å‰èŠ‚ç‚¹æœ‰å…³ï¼Œè¡¨ç¤ºä¸ºsl(yi,x,i) (l=1,2...,m)s_l(y_i,x,i)\\space (l=1,2...,m)slâ€‹(yiâ€‹,x,i) (l=1,2...,m)ï¼›å¦ä¸€ç±»è¿˜ä¸å‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰å…³ï¼Œè¡¨ç¤ºä¸ºtk(yiâˆ’1,yi,x,i) (k=1,2...,n)t_k(y_{i-1},y_i,x,i)\\space (k=1,2...,n)tkâ€‹(yiâˆ’1â€‹,yiâ€‹,x,i) (k=1,2...,n)ã€‚å¼•å…¥éœ€è¦å­¦ä¹ çš„æƒé‡å‚æ•°ï¼ˆæ‰€è°“â€œæƒé‡â€å³ç”¨æ¥è¡¡é‡ä¸€ä¸ªåˆ¤æ–­ä¾æ®çš„é‡è¦ç¨‹åº¦çš„å‚æ•°ï¼‰Î»l,Î¼k\\lambda_l,\\mu_kÎ»lâ€‹,Î¼kâ€‹ï¼Œåˆ™æ¡ä»¶æ¦‚ç‡è¡¨ç¤ºä¸º P(yâˆ£x)=1Z(x)exp(âˆ‘i,kÎ»ktk(yiâˆ’1,yi,x,i)+âˆ‘i,lÎ¼lsl(yi,x,i))âˆexp(âˆ‘i,kÎ»ktk(yiâˆ’1,yi,x,i)+âˆ‘i,lÎ¼lsl(yi,x,i))(8)\\begin{aligned} P(y|x)&amp;=\\frac{1}{Z(x)}exp(\\sum_{i,k}Î»_kt_k(y_{iâˆ’1},y_i,x,i)+\\sum_{i,l}Î¼_ls_l(y_i,x,i))\\\\ &amp;\\propto exp(\\sum_{i,k}Î»_kt_k(y_{iâˆ’1},y_i,x,i)+\\sum_{i,l}Î¼_ls_l(y_i,x,i)) \\end{aligned}\\tag{8} P(yâˆ£x)â€‹=Z(x)1â€‹exp(i,kâˆ‘â€‹Î»kâ€‹tkâ€‹(yiâˆ’1â€‹,yiâ€‹,x,i)+i,lâˆ‘â€‹Î¼lâ€‹slâ€‹(yiâ€‹,x,i))âˆexp(i,kâˆ‘â€‹Î»kâ€‹tkâ€‹(yiâˆ’1â€‹,yiâ€‹,x,i)+i,lâˆ‘â€‹Î¼lâ€‹slâ€‹(yiâ€‹,x,i))â€‹(8) Z(x)Z(x)Z(x)ä¸ºè§„èŒƒåŒ–å› å­ï¼Œæ˜¯æ‰€æœ‰å¯èƒ½çš„æ ‡æ³¨åºåˆ—çš„æ¦‚ç‡å’Œï¼Œä½¿å¾—ç­‰å¼å³è¾¹è§„èŒƒä¸ºä¸€ä¸ªæ¦‚ç‡ã€‚ Z(x)=âˆ‘yexp(âˆ‘i,kÎ»ktk(yiâˆ’1,yi,x,i)+âˆ‘i,lÎ¼lsl(yi,x,i))(9)Z(x)=\\sum_{y}exp(\\sum_{i,k}Î»_kt_k(y_{iâˆ’1},y_i,x,i)+\\sum_{i,l}Î¼_ls_l(y_i,x,i))\\tag{9} Z(x)=yâˆ‘â€‹exp(i,kâˆ‘â€‹Î»kâ€‹tkâ€‹(yiâˆ’1â€‹,yiâ€‹,x,i)+i,lâˆ‘â€‹Î¼lâ€‹slâ€‹(yiâ€‹,x,i))(9) ä¸ºäº†ä½¿å¾—è¡¨ç¤ºæ›´åŠ æ–¹ä¾¿ï¼Œå°†å‚æ•° Î»,Î¼\\lambda,\\muÎ»,Î¼ å‡è¡¨ç¤ºä¸º www ï¼Œç‰¹å¾å‡½æ•° t,st, st,s å‡è¡¨ç¤ºä¸º fff ï¼Œå³æœ‰ wk={Î»k(0&lt;kâ©½m)Î¼kâˆ’m(m&lt;kâ©½m+n)(10)w_{k}=\\left\\{ \\begin{aligned} &amp;\\lambda_k\\qquad &amp;(0 &lt; k \\leqslant m)\\\\ &amp;\\mu_{k-m}\\qquad &amp;(m &lt; k \\leqslant m+n) \\end{aligned}\\tag{10} \\right. wkâ€‹={â€‹Î»kâ€‹Î¼kâˆ’mâ€‹â€‹(0&lt;kâ©½m)(m&lt;kâ©½m+n)â€‹(10) fk(y,x)={âˆ‘isk(yi,x,i)(0&lt;kâ©½m)âˆ‘itkâˆ’m(yiâˆ’1,yi,x,i)(m&lt;kâ©½m+n)(11)f_{k}(y,x)=\\left\\{ \\begin{aligned} &amp;\\sum_{i}s_k(y_i,x,i)\\qquad &amp;(0 &lt; k \\leqslant m)\\\\ &amp;\\sum_{i}t_{k-m}(y_{i-1},y_i,x,i)\\qquad &amp;(m &lt; k \\leqslant m+n) \\end{aligned}\\tag{11} \\right. fkâ€‹(y,x)=â©âªâªâªâ¨âªâªâªâ§â€‹â€‹iâˆ‘â€‹skâ€‹(yiâ€‹,x,i)iâˆ‘â€‹tkâˆ’mâ€‹(yiâˆ’1â€‹,yiâ€‹,x,i)â€‹(0&lt;kâ©½m)(m&lt;kâ©½m+n)â€‹(11) ç”± (11)(12)(11)(12)(11)(12) å¼å¯å°† (8)(8)(8) å¼ç®€åŒ–ä¸º P(yâˆ£x)=exp(âˆ‘kwkfk(y,x))âˆ‘yexp(âˆ‘kwkfk(y,x))âˆexp(âˆ‘kwkfk(y,x))(12)P(y|x)=\\frac{exp(\\sum_k w_kf_k(y,x))}{\\sum_yexp(\\sum_k w_kf_k(y,x))}\\tag{12} \\propto exp(\\sum_k w_kf_k(y,x)) P(yâˆ£x)=âˆ‘yâ€‹exp(âˆ‘kâ€‹wkâ€‹fkâ€‹(y,x))exp(âˆ‘kâ€‹wkâ€‹fkâ€‹(y,x))â€‹âˆexp(kâˆ‘â€‹wkâ€‹fkâ€‹(y,x))(12) å‚æ•°å­¦ä¹  ä»¥ä¸‹é‡‡ç”¨æ¢¯åº¦ä¸‹é™æ³•æ¥è®­ç»ƒå‚æ•°ã€‚ å®šä¹‰æŸå¤±å‡½æ•° L=âˆ’M=âˆ’logâˆx,yP(yâˆ£x)Pâ€¾(x,y)=âˆ’âˆ‘x,yPâ€¾(x,y)logP(yâˆ£x)=âˆ‘xPâ€¾(x)logZ(x)âˆ’âˆ‘x,yPâ€¾(x,y)âˆ‘kwkfk(y,x)=âˆ‘xPâ€¾(x)logâˆ‘yexp(âˆ‘kwkfk(y,x))âˆ’âˆ‘x,yPâ€¾(x,y)âˆ‘kwkfk(y,x)(13)\\begin{aligned} L&amp;=-M\\\\ &amp;=-log\\prod_{x,y}P(y|x)^{\\overline{P}(x,y)}\\\\ &amp;=-\\sum_{x,y}\\overline{P}(x,y)logP(y|x)\\\\ &amp;=\\sum_{x}\\overline{P}(x)logZ(x)-\\sum_{x,y}\\overline{P}(x,y)\\sum_k w_kf_k(y,x)\\\\ &amp;=\\sum_{x}\\overline{P}(x)log\\sum_{y}exp\\big(\\sum_k w_kf_k(y,x)\\big)-\\sum_{x,y}\\overline{P}(x,y)\\sum_k w_kf_k(y,x) \\end{aligned}\\tag{13} Lâ€‹=âˆ’M=âˆ’logx,yâˆâ€‹P(yâˆ£x)P(x,y)=âˆ’x,yâˆ‘â€‹P(x,y)logP(yâˆ£x)=xâˆ‘â€‹P(x)logZ(x)âˆ’x,yâˆ‘â€‹P(x,y)kâˆ‘â€‹wkâ€‹fkâ€‹(y,x)=xâˆ‘â€‹P(x)logyâˆ‘â€‹exp(kâˆ‘â€‹wkâ€‹fkâ€‹(y,x))âˆ’x,yâˆ‘â€‹P(x,y)kâˆ‘â€‹wkâ€‹fkâ€‹(y,x)â€‹(13) å…¶ä¸­Pâ€¾\\overline{P}Pä¸ºå…ˆéªŒæ¦‚ç‡ï¼Œå¯ä»¥é€šè¿‡ç»Ÿè®¡æ–¹æ³•å¾—å‡ºã€‚ å¯¹æŸå¤±å‡½æ•°æ±‚å¯¼å¯å¾—ï¼š âˆ‚Lâˆ‚wk=âˆ‘x,yPâ€¾(x)P(yâˆ£x)fk(y,x)âˆ’âˆ‘x,yPâ€¾(x,y)fk(y,x)(14)\\frac{\\partial L}{\\partial w_k}=\\sum_{x,y}\\overline{P}(x)P(y|x)f_k(y,x)-\\sum_{x,y}\\overline{P}(x,y)f_k(y,x)\\tag{14} âˆ‚wkâ€‹âˆ‚Lâ€‹=x,yâˆ‘â€‹P(x)P(yâˆ£x)fkâ€‹(y,x)âˆ’x,yâˆ‘â€‹P(x,y)fkâ€‹(y,x)(14) æœ‰äº†æŸå¤±å‡½æ•°çš„å¯¼æ•°ä¹‹åå°±å¯ä»¥è¿›è¡Œè¿­ä»£ä¼˜åŒ–å‚æ•°ï¼Œç›´åˆ°è¾¾åˆ°æ”¶æ•›æ¡ä»¶ï¼š wk:=wkâˆ’Î·â‹…âˆ‚Lâˆ‚wk(15)w_k:=w_k-\\eta\\cdot\\frac{\\partial L}{\\partial w_k}\\tag{15} wkâ€‹:=wkâ€‹âˆ’Î·â‹…âˆ‚wkâ€‹âˆ‚Lâ€‹(15) æ¢¯åº¦ä¸‹é™æ³•çš„ç®—æ³•æµç¨‹ä¸ºï¼šå®šä¹‰æŸå¤±å‡½æ•° L(w)L(w)L(w)ã€å­¦ä¹ ç‡ Î·â†’\\eta\\rightarrowÎ·â†’è®¡ç®—æ¢¯åº¦ âˆ‚Lâˆ‚wkâ†’\\frac{\\partial L}{\\partial w_k}\\rightarrowâˆ‚wkâ€‹âˆ‚Lâ€‹â†’æ›´æ–° wâ†’w\\rightarrowwâ†’è®¡ç®—æ¢¯åº¦ âˆ‚Lâˆ‚wkâ†’\\frac{\\partial L}{\\partial w_k}\\rightarrowâˆ‚wkâ€‹âˆ‚Lâ€‹â†’æ›´æ–° wâ†’...â†’w\\rightarrow...\\rightarrowwâ†’...â†’è¾¾åˆ°æ”¶æ•›æ¡ä»¶ï¼Œå¾—åˆ°è®­ç»ƒåå‚æ•° www åŒæ ·çš„ï¼Œå°†è®­ç»ƒå¥½çš„CRFæ¨¡å‹ç”¨äºè§£ç é—®é¢˜ä¹Ÿå¯ä»¥é‡‡ç”¨ç»´ç‰¹æ¯”ç®—æ³•ï¼Œæ­¤å¤„å°†ä¸å†èµ˜è¿°ã€‚ 1.ç»´åŸºç™¾ç§‘ä¸­æ–‡ï¼šé©¬å°”ç§‘å¤«é“¾ â†©2.wikipedia: Viterbi algorithm â†©3.wikipedia: Conditional_random_field â†©","link":"/posts/568ec988/"},{"title":"ç®—æ³•&#x2F;ç®—æ³•å¯è’™","text":"ç®—æ³• å†™åœ¨å‰é¢ï¼šâ€œå­¦å¥½ç¨‹åºä¸ç®—æ³•ï¼Œèµ°éå¤©ä¸‹éƒ½ä¸æ€•ã€‚â€ æšä¸¾ èƒŒæ™¯ æ‰¾ä¸åˆ°åˆé€‚çš„æ•°å­¦å…¬å¼å’ŒæŠ€å·§ ï¼ˆæ”¹è‰¯åï¼‰æšä¸¾å¤æ‚åº¦ä¸æ˜¯ç‰¹åˆ«å¤§ é€šå¸¸ç”¨äºæ‰¾åˆ°ä¸€ç§æƒ…å†µä½¿ä¹‹æ»¡è¶³é¢˜æ„çš„é¢˜ç›® é…åˆå‡è®¾æ³•æ‰¾åˆ°ç›®æ ‡æƒ…å½¢ï¼šå‡å¸é—®é¢˜ æŠ€å·§ è·³è·ƒæšä¸¾æ³•ï¼šè·³è¿‡å¯¹æ²¡æœ‰å¿…è¦çš„æƒ…å†µçš„æšä¸¾ å±€éƒ¨æšä¸¾æ³•ï¼šæšä¸¾å±€éƒ¨ï¼Œå‰©ä¸‹çš„ç”±è¯¥å±€éƒ¨ç¡®å®šã€‚ä¾‹å¦‚ç†„ç¯é—®é¢˜ é€’å½’ ä½œç”¨ æ›¿ä»£å¤šé‡å¾ªç¯ï¼Œå¦‚ï¼šnçš‡åé—®é¢˜ã€‚ è¿™ç§ç±»å‹å¾€å¾€è¦è¿ç”¨åˆ°ä¸€ä¸ªå…¨å±€/é™æ€å˜é‡æ¥å­˜å‚¨å‰é¢ç®—è¿‡çš„ç»“æœï¼Œè­¬å¦‚nçš‡åå°±ç”¨åˆ°äº†ä¸€ä¸ªå…¨å±€æ•°ç»„æ¥ä¿å­˜æ¯ä¸€è¡Œçš„çš‡åæ‹œè®¿æƒ…å†µã€‚å…¨å±€/é™æ€å˜é‡çš„å¥½å¤„å°±åœ¨äºæ‰€æœ‰é€’å½’å‡½æ•°å…±äº«æˆæœï¼Œå°±åƒé€’æ¨è¿­ä»£ä¸€æ ·ï¼Œæ¯ä¸€æ­¥ä¼šå½±å“ä¸‹ä¸€æ­¥ã€‚ é€’å½’å‡½æ•°å½¢å¼ï¼šT function( T f(n) )ï¼Œå‡½æ•°æ„ä¹‰ï¼šåœ¨å‰n-1æ­¥å·²ç»å®Œæˆçš„æƒ…å†µä¸‹å†³å®šå¦‚ä½•èµ°ç¬¬næ­¥ï¼Œå¾€å¾€ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„functionå‚æ•°ä¸º0æˆ–1ï¼ˆç„¶åä¾æ¬¡è°ƒç”¨ 111 ~ n0n_0n0â€‹ï¼‰ è§£å†³å®è´¨æ˜¯é€’å½’å½¢å¼çš„é—®é¢˜ æœ‰äº›é—®é¢˜æœ¬èº«å°±æ˜¯é€’å½’å®šä¹‰çš„ï¼Œæ¯”å¦‚ä¸å°‘è¡¨è¾¾å¼å°±æ˜¯é€’å½’å®šä¹‰çš„ï¼šé€†æ³¢å…°ï¼Œå››åˆ™è¿ç®—ã€‚é€†æ³¢å…°ç›´æ¥é€’å½’è°ƒç”¨è‡ªèº«å®šä¹‰ï¼Œå››åˆ™è¿ç®—åˆ™åŒ…å«é¡¹ï¼Œå› å­å’Œè¡¨è¾¾å¼è‡ªèº«ç­‰å¤šä¸ªæ¦‚å¿µï¼Œæ˜¯ä¸€ç§é—´æ¥é€’å½’è°ƒç”¨è‡ªèº«å®šä¹‰ å‡½æ•°ï¼Œæ•°åˆ—çš„é€’æ¨å…¬å¼ å…³é”®æ˜¯ææ¸…æ¥šé—®é¢˜æ˜¯æ€æ ·é€’å½’å®šä¹‰çš„ï¼Œå¯ä»¥å€ŸåŠ©ç”»å›¾ï¼Œå†™ä»£æ•°å¼çš„åŠæ³•æ‹æ¸…æ¥šã€‚ å°†é—®é¢˜åˆ†è§£ä¸ºè§„æ¨¡æ›´å°çš„å­é—®é¢˜æ¥æ±‚è§£ å¦‚ä½•æ¥åˆ†è§£ï¼Ÿ â€œn=1+(n-1)â€æ³• æ¯”æ–¹è¯´è¦è§£å†³ä¸€ä¸ªè§„æ¨¡ä¸ºnçš„é—®é¢˜ï¼Œå…ˆæ‰¾åˆ°è§£å†³è¯¥é—®é¢˜çš„ç¬¬ä¸€æ­¥æ€ä¹ˆåšï¼Œç„¶åå†æŠŠå‰©ä¸‹çš„é—®é¢˜è§£å†³ï¼Œå‰©ä¸‹çš„é—®é¢˜è§„æ¨¡åˆšå¥½æ˜¯n-1ä¸”è§£å†³è¿‡ç¨‹è‡ªç›¸ä¼¼ï¼Œå¯ä»¥ç”¨ä¸Šé€’å½’n-1ã€‚e.g.å°é˜¶é—®é¢˜ â€œn=(n-1)+1â€æ³• å…ˆè§£å†³n-1é—®é¢˜ï¼Œå†å°†æœ€åä¸€æ­¥å®Œå–„,e.g.æ±‰è¯ºå¡”é—®é¢˜ ä¸å¤šé‡å¾ªç¯ä¸åŒï¼Œè¯¥æ–¹æ³•ç¬¬ä¸€ä¸ªè°ƒç”¨çš„functionå‚æ•°å¾€å¾€æ—¶n0æ€»è§„æ¨¡ ä¸åˆ†æ²»ä¸åŒï¼Œåˆ†æ²»å¾€å¾€åå‘äºå‡åˆ†ï¼Œè€Œä¸”å¤šäº†ä¸€æ­¥ç»¼åˆï¼Œä¸è¿‡åˆ†æ²»ä¸é€’å½’åˆå¯ä»¥ç›¸äº’è¡¥å…… é™„æ³¨ atofï¼ˆï¼‰å‡½æ•°ï¼Œå°†æµ®ç‚¹ä¸²è½¬å˜ä¸ºæµ®ç‚¹æ•° cin.peekï¼ˆï¼‰å‡½æ•°ï¼Œæå‰é¢„çŸ¥è¾“å…¥è€Œéè¯»å– æµ®ç‚¹æ•°çš„æ¯”è¾ƒå¼•å…¥eps äºŒåˆ† ç®€ä»‹ å¯¹ä¸€ä¸ªå¾…æ±‚ç³»ç»Ÿï¼ˆé€šå¸¸ä¸ºæœ‰åºç³»ç»Ÿï¼‰ï¼Œæ¯æ¬¡éƒ½å‡åˆ†ä¸ºä¸¤åŠï¼Œé€šè¿‡åˆ¤æ–­â€œç æ‰â€å…¶ä¸­â€œæ— ç”¨â€çš„ä¸€åŠï¼Œå¯¹å‰©ä¸‹çš„ä¸€åŠç”¨åŒæ ·çš„æ–¹æ³•å¤„ç†ï¼Œç›´åˆ°å¾—å‡ºç»“è®ºã€‚ ä½œç”¨ äºŒåˆ†æŸ¥æ‰¾ ä¸ä»…é™äºæŸ¥æ‰¾æŸä¸€ä¸ªå…·ä½“çš„æ•°ï¼Œè¿˜å¯ä»¥æŸ¥æ‰¾ç¬¦åˆæŸç§è¦æ±‚çš„æ•°ï¼ˆé€šå¸¸æ»¡è¶³ä¸€å®šçš„å¤§å°å…³ç³»ï¼‰ äºŒåˆ†æ³•æ±‚æ–¹ç¨‹æ ¹ åˆ†æ²» åŸºæœ¬æ€æƒ³ å°†ä¸€ä¸ªé—®é¢˜æ‹†åˆ†æˆä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šè§„æ¨¡æ›´å°çš„é—®é¢˜ï¼Œç„¶åå°†å°é—®é¢˜åˆ†åˆ«è§£å†³æˆ–åªè§£å†³éƒ¨åˆ†é—®é¢˜ï¼Œæœ€åç»¼åˆå¤„ç†ä¸€æ¬¡ã€‚ ä¸€èˆ¬æ¨¡å¼ï¼šåˆ†åˆ’ï¼Œå±€éƒ¨å¤„ç†ï¼Œç»¼åˆå¤„ç†ï¼ˆåˆ†æ²» | å½’å¹¶ï¼‰ å¸¸å¸¸ä¸é€’å½’æ€æƒ³ç»“åˆ ä½œç”¨ï¼šä½¿è§„æ¨¡ç¼©å°ï¼Œæé«˜ç®—æ³•æ•ˆç‡ï¼ˆæƒ³æƒ³ï¼šä¸æ–­åœ°é€’å½’å¹¶åˆ†æ²»ï¼Œä½¿å¾—è§„æ¨¡ä¸æ–­äºŒåˆ†ï¼‰ åº”ç”¨ä¸¾ä¾‹ï¼šåŸºäºåˆ†æ²»ç­–ç•¥çš„å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åº é™„æ³¨ &quot; x &amp; 1 &quot; è¡¨è¾¾å¼åˆ¤åˆ«xå¥‡å¶æ€§ å¿«é€Ÿå¹‚ç®—æ³• åŠ¨æ€è§„åˆ’ èƒŒæ™¯ é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ é—®é¢˜çš„æœ€ä¼˜è§£æ‰€åŒ…å«çš„å­é—®é¢˜çš„è§£ä¹Ÿæ˜¯æœ€ä¼˜çš„ é—®é¢˜å…·æœ‰æ— åæ•ˆæ€§ å½“å‰çš„è‹¥å¹²ä¸ªçŠ¶æ€å€¼ä¸€æ—¦ç¡®å®šï¼Œåˆ™æ­¤åè¿‡ç¨‹çš„æ¼”å˜å°±åªå’Œè¿™è‹¥å¹²ä¸ªçŠ¶æ€çš„å€¼æœ‰å…³ï¼Œå’Œä¹‹å‰æ˜¯é‡‡å–ä½•ç§æ‰‹æ®µæˆ–ç»è¿‡å“ªæ¡è·¯å¾„æ¼”å˜åˆ°å½“å‰çš„è¿™è‹¥å¹²ä¸ªçŠ¶æ€ï¼Œæ²¡æœ‰å…³ç³»ã€‚ å•çº¯çš„é€’å½’ä¼šå¯¼è‡´å¤§é‡å­é—®é¢˜ é‡å¤è®¡ç®— æ—¶ æ€è·¯æ–¹æ³• åŸé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ ä¸€äº›é—®é¢˜çš„æ±‚è§£å½’ç»“äºå®ƒçš„å­é—®é¢˜çš„æ±‚è§£ï¼Œä¸”å­é—®é¢˜ä¸åŸé—®é¢˜ç±»ä¼¼ï¼Œåªæ˜¯è§„æ¨¡å‡å°ã€‚ å­é—®é¢˜ä¸€æ—¦è§£å†³å³è¢«ä¿å­˜ï¼ˆé€šå¸¸å­˜å…¥ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼‰ã€‚ ç¡®å®šçŠ¶æ€ â€œçŠ¶æ€â€ç®€ä»‹ï¼šåœ¨ç”¨åŠ¨æ€è§„åˆ’è§£é¢˜æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å°†å’Œå­é—®é¢˜ç›¸ å…³çš„å„ä¸ªå˜é‡çš„ä¸€ç»„å–å€¼ï¼Œç§°ä¹‹ä¸ºä¸€ä¸ªâ€œçŠ¶æ€â€ã€‚ä¸€ä¸ªâ€œçŠ¶æ€â€å¯¹åº”äºä¸€ä¸ªæˆ–å¤šä¸ªå­é—®é¢˜ï¼Œ æ‰€è°“æŸä¸ªâ€œçŠ¶æ€â€ä¸‹çš„â€œå€¼â€ï¼Œå°±æ˜¯è¿™ä¸ªâ€œçŠ¶æ€â€æ‰€å¯¹åº”çš„å­é—®é¢˜çš„è§£ã€‚ çŠ¶æ€ç©ºé—´ä¸æ—¶é—´å¤æ‚åº¦ï¼šæ•´ä¸ªé—®é¢˜çš„æ—¶é—´å¤æ‚åº¦æ˜¯çŠ¶æ€æ•°ç›®ä¹˜ä»¥è®¡ç®—æ¯ä¸ªçŠ¶æ€æ‰€éœ€æ—¶é—´ã€‚ï¼ˆåœ¨æ•°å­—ä¸‰è§’å½¢é‡Œæ¯ä¸ªâ€œçŠ¶æ€â€åªéœ€è¦ç»è¿‡ä¸€æ¬¡ï¼Œä¸”åœ¨æ¯ä¸ªçŠ¶æ€ä¸Šä½œè®¡ç®—æ‰€èŠ±çš„æ—¶é—´éƒ½æ˜¯å’ŒNæ— å…³çš„å¸¸æ•°ã€‚ï¼‰ ç”¨åŠ¨æ€è§„åˆ’è§£é¢˜ï¼Œç»å¸¸ç¢°åˆ°çš„æƒ…å†µæ˜¯ï¼ŒKä¸ªæ•´å‹å˜é‡èƒ½ æ„æˆä¸€ä¸ªçŠ¶æ€ï¼ˆå¦‚æ•°å­—ä¸‰è§’å½¢ä¸­çš„è¡Œå·å’Œåˆ—å·è¿™ä¸¤ä¸ªå˜é‡ æ„æˆâ€œçŠ¶æ€â€ï¼‰ã€‚å¦‚æœè¿™Kä¸ªæ•´å‹å˜é‡çš„å–å€¼èŒƒå›´åˆ†åˆ«æ˜¯ N1, N2, â€¦â€¦Nkï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªKç»´çš„æ•°ç»„ array[N1] [N2]â€¦â€¦[Nk]æ¥å­˜å‚¨å„ä¸ªçŠ¶æ€çš„â€œå€¼â€ã€‚è¿™ä¸ª â€œå€¼â€æœªå¿…å°±æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¯èƒ½æ˜¯éœ€è¦ä¸€ä¸ªç»“æ„ æ‰èƒ½è¡¨ç¤ºçš„ï¼Œé‚£ä¹ˆarrayå°±å¯ä»¥æ˜¯ä¸€ä¸ªç»“æ„æ•°ç»„ã€‚ä¸€ä¸ª â€œçŠ¶æ€â€ä¸‹çš„â€œå€¼â€é€šå¸¸ä¼šæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå­é—®é¢˜çš„è§£ã€‚ ç¡®å®šä¸€äº›åˆå§‹çŠ¶æ€ï¼ˆè¾¹ç•ŒçŠ¶æ€ï¼‰çš„å€¼ ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ å°†ç¬¬ä¸€æ­¥ åˆ†è§£ å¾—åˆ°çš„åŸé—®é¢˜ä¸å­é—®é¢˜çš„å…³ç³»ç”¨æ•°å­¦ç¬¦å·è¯­è¨€è¡¨è¿°å‡ºæ¥ï¼Œå³å®ç°çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å…³ç³»ã€‚ åŠ¨è§„ç¨‹åºå†™æ³• è®°å¿†é€’å½’å‹ é€’å½’å‡½æ•°+è®°å¿†æ•°ç»„ â€œäººäººä¸ºæˆ‘â€é€’æ¨å‹ 1,2,3,â€¦,n-1 =&gt; n é€’æ¨åˆ°â€œnâ€æ—¶â€œnâ€ä»æœªè¢«æ±‚å‡ºï¼Œå‰é¢å·²è¢«æ±‚å‡ºçš„çŠ¶æ€å€¼ç”¨äºæ±‚â€œnâ€çš„çŠ¶æ€å€¼ â€œæˆ‘ä¸ºäººäººâ€é€’æ¨å‹ n =&gt; k (k&gt;n) é€’æ¨åˆ°â€œnâ€æ—¶â€œnâ€å·²ç»è¢«æ±‚å‡ºï¼Œnå°†ç”¨äºæ±‚åé¢çš„çŠ¶æ€å€¼ é€’å½’å†™æ³• é€’æ¨å†™æ³• éš¾åº¦ ç›´è§‚ç®€ä¾¿ è¾ƒå¤æ‚ï¼Œå¯èƒ½éœ€è¦ç»“åˆå›¾å½¢ç†è§£ å†…å­˜å ç”¨ è¾ƒå¤§ï¼Œæœ‰çˆ†æ ˆé£é™© å°ï¼Œè¿˜å¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„è¿›ä¸€æ­¥èŠ‚çœç©ºé—´ åŠ¨è§„ä¸­é€’å½’æ³•å‘é€’æ¨æ³•è½¬åŒ–çš„ä¸€èˆ¬æ–¹æ³•ï¼š é€’å½’å‡½æ•°æœ‰nä¸ªå‚æ•°ï¼Œå°±å®šä¹‰ä¸€ä¸ªnç»´çš„æ•°ç»„ï¼Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯é€’å½’å‡½æ•°å‚æ•°çš„å–å€¼èŒƒå›´ï¼Œæ•°ç»„å…ƒç´ çš„å€¼ æ˜¯é€’å½’å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™æ ·å°±å¯ä»¥ä»è¾¹ç•Œå€¼å¼€å§‹ï¼Œ é€æ­¥å¡«å……æ•°ç»„ï¼Œç›¸å½“äºè®¡ç®—é€’å½’å‡½æ•°å€¼çš„é€†è¿‡ç¨‹ã€‚ å¸¸è§åˆ†è§£ï¼ˆçŠ¶æ€è½¬ç§»ï¼‰æ–¹æ³•å½’çº³ å¤šåˆ†ç±»è®¨è®ºï¼Œ æƒ³æƒ³è§£å†³åŸé—®é¢˜ç­‰åŒäºè§£å†³ä»€ä¹ˆå’Œä»€ä¹ˆã€‚æœ‰æ—¶å€™è¦ç»è¿‡å¤šå±‚åˆ†è§£æ‰èƒ½å¤Ÿå¾—åˆ°ä¸åŸé—®é¢˜ç»“æ„ç›¸åŒçš„å­é—®é¢˜ã€‚ â€œn=(n-1)+1â€å‹ä¸&quot;n=1+(n-1)&quot;å‹ï¼ˆä¸ é€’å½’ çš„ å…ˆèµ°ä¸€æ­¥ æ€æƒ³åˆå¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œnä¸ºé—®é¢˜è§„æ¨¡ï¼‰ &quot;F(i,j,k)=F(i-1,j,k)+F(i,j-1,k)+F(i,j,k-1)&quot;å‹ï¼ˆè¿™é‡Œæ‹¿ ä¸‰ç»´ çš„æƒ…å†µä¸¾ä¾‹ï¼Œå…¶ä»–ç»´åº¦çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸æ­¤å¤§åŒå°å¼‚ï¼‰ &quot;F(m,n)=A, A=G( F(m-1,n),F(m,n-1) )&quot;å‹ï¼Œé—´æ¥é€’å½’ é™„æ³¨ æ•°å­—ä¸‰è§’å½¢é¢˜ç›®å¯ç¤ºå½•ï¼š â‘ ç©ºé—´ä¼˜åŒ–ï¼šæ»šåŠ¨æ•°ç»„ï¼ˆé€šè¿‡è¦†ç›–ä»Šåæ— ç”¨çš„æ—§æœ‰æ•°æ®ç©ºé—´çš„æ–¹æ³•æ¥å‹ç¼©ç©ºé—´ï¼‰ï¼Œé™ç»´ï¼Œå…³æ³¨ä¸å¿…è¦çš„å­˜å‚¨ç©ºé—´ä»¥åŠè¿è¡Œè¿‡ç¨‹ä¸­å˜å¾—å¯ä»¥ä¸¢å¼ƒçš„æ•°æ®ã€‚â‘¡é€’å½’åŒ–é€’æ¨ï¼šé€†å‘æ€ç»´ã€‚ æ·±åº¦ä¼˜å…ˆæœç´¢ å…³é”®è¯ï¼šå›æº¯ æ ‡è®°(åˆ¤é‡) å‰ªæ å›¾ çŠ¶æ€ ç®€ä»‹ ä»æŸä¸ªèµ·ç‚¹å¼€å§‹æ¯èµ°ä¸€æ­¥å°±åšä¸€ä¸ªæ ‡è®°ï¼Œç„¶åä¸‹ä¸€æ­¥éšä¾¿é€‰æ‹©ä¸€ä¸ªæ²¡æœ‰èµ°è¿‡çš„èŠ‚ç‚¹ï¼Œèµ°ä¸é€šåˆ™å›é€€åˆ°ä¸Šä¸€æ­¥é‡æ–°é€‰æ‹©ã€‚è¿™ç§èµ°æ³•æ€»æ˜¯è¯•å›¾â€œèµ°çš„æ›´è¿œâ€ã€‚ é‡è¦æ¦‚å¿µ å›¾ï¼ˆè¿é€šå›¾ï¼Œéè¿é€šå›¾ï¼Œå­å›¾ï¼Œæå¤§è¿é€šå­å›¾â€¦ï¼‰ å›¾ä¸ŠèŠ‚ç‚¹ï¼ˆæˆ–è€…æŸæŠ½è±¡çš„çŠ¶æ€ï¼še.g.è­¬å¦‚æ¯ä¸ªæ£‹å±€ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå›¾èŠ‚ç‚¹ï¼‰ å›¾ä¸Šè¾¹ï¼šèŠ‚ç‚¹ä¹‹é—´çš„è”ç³» å›¾è·¯å¾„ï¼ˆæï¼‰ å›¾çš„è¡¨ç¤º é‚»æ¥çŸ©é˜µï¼šL[i][j] ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼ˆå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ªç»“æ„ï¼Œå­˜å‚¨è¯¸å¦‚ è¿é€šä¸å¦ è·¯å¾„é•¿åº¦ æƒå€¼ æ–¹å‘ ç­‰å†…å®¹ï¼‰è¡¨ç¤ºèŠ‚ç‚¹iä¸èŠ‚ç‚¹jä¹‹é—´çš„è”ç³»ã€‚éå†å¤æ‚åº¦ï¼šO(n^2),nè¡¨ç¤ºèŠ‚ç‚¹ ã€‚ é‚»æ¥è¡¨ï¼šS[k] ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ˆå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ªç»“æ„ï¼Œå­˜å‚¨ é‚»æ¥èŠ‚ç‚¹ ä»¥åŠè¯¸å¦‚ è·¯å¾„é•¿åº¦ æƒå€¼ æ–¹å‘ ç­‰å†…å®¹ï¼‰è¡¨ç¤ºæ‰€æœ‰ä¸èŠ‚ç‚¹kæœ‰å…³çš„è¾¹çš„ä¿¡æ¯ã€‚éå†å¤æ‚åº¦ï¼šO(n+e),nè¡¨ç¤ºèŠ‚ç‚¹æ•°ï¼Œeè¡¨ç¤ºè¾¹æ•°ã€‚ å½“eç‰¹åˆ«å¤§è€Œæ¥è¿‘n^2æ—¶ï¼Œé‚»æ¥è¡¨å°±å¤±å»äº†ä¼˜åŠ¿å˜å¾—å’Œé‚»æ¥çŸ©é˜µå·®ä¸å¤šäº†ã€‚ å…¶ä»–è¡¨ç¤ºæ–¹æ³•ï¼šå…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚ å‰ªæ å¯è¡Œæ€§å‰ªæï¼šæ¯æœç´¢ä¸€ä¸ªèŠ‚ç‚¹åå‘ç°ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚åˆ™ç›´æ¥å›æº¯é˜²æ­¢æ²¿ç€è¿™æ¡è·¯å¾„ç»§ç»­é”™è¯¯åœ°èµ°ä¸‹å»ã€‚ æœ€ä¼˜æ€§å‰ªæï¼šæ¯æœç´¢ä¸€ä¸ªèŠ‚ç‚¹åéƒ½å¯¹å½“å‰è·¯å¾„çš„æœ€ä¼˜æ€§è¿›è¡Œæ£€éªŒï¼Œè‹¥å½“å‰ä»¥åŠå¯ä»¥åˆ¤æ˜ä¸æ˜¯æœ€ä¼˜è·¯å¾„æˆ–è€…è¯´æ¥ç€èµ°ä¸‹å»ä¸€å®šä¸æ˜¯æœ€ä¼˜è·¯å¾„åˆ™ç›´æ¥å›æº¯ã€‚ ä¸æ•´ä½“æœ€ä¼˜è§£æ¯”è¾ƒæ¥å‰ªæ ä¿å­˜ä¸­é—´ç»“æœç”¨äºæœ€ä¼˜æ€§å‰ªæ ï¼šå¦‚æœåˆ°è¾¾æŸä¸ªçŠ¶æ€Aæ—¶ï¼Œå‘ç°å‰é¢æ›¾ç»ä¹Ÿåˆ°è¾¾è¿‡Aï¼Œä¸”å‰é¢é‚£æ¬¡åˆ°è¾¾Aæ‰€èŠ±ä»£ä»·æ›´å°‘ï¼Œåˆ™å‰ªæã€‚è¿™è¦æ±‚ä¿å­˜åˆ°è¾¾çŠ¶æ€Açš„åˆ°ç›®å‰ä¸ºæ­¢çš„æœ€å°‘ä»£ä»·ã€‚ ï¼ˆ å¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½å¼€è¾Ÿå­˜å‚¨ç©ºé—´æ¥å­˜æ”¾ä»¥è¯¥èŠ‚ç‚¹ä¸ºç»ˆç‚¹çš„å½“å‰æœ€ä¼˜è§£ï¼Œæ¯æ¬¡æœç´¢åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±å°†è¯¥æœ€ä¼˜å€¼ä¸æ–°å€¼æ¯”è¾ƒï¼ŒåŸå€¼æ›´ä¼˜åˆ™å‰ªæï¼Œæ–°å€¼æ›´ä¼˜åˆ™æ›´æ–°è¯¥æœ€ä¼˜å€¼ï¼‰ æ³¨æ„ï¼šâ€œæœ€ä¼˜â€çš„å†³å®šè¦ç´ å¯èƒ½ä¸æ­¢ä¸€é¡¹ï¼Œè¿˜å¯èƒ½æ˜¯å¤šå…ƒå› ç´ ï¼Œå¦‚ï¼šROADSé—®é¢˜ä¸­æœ‰è´¹ç”¨å’Œè·¯ç¨‹ä¸¤ä¸ªå› ç´ ã€‚å‰ªææ—¶è¦è€ƒè™‘æ§åˆ¶å•ä¸€å˜é‡ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢ ç®€ä»‹ ä»èŠ‚ç‚¹å¼€å§‹å±‚æ¬¡éå†ï¼ˆç”¨é˜Ÿåˆ—ï¼‰æ•´ä¸ªå›¾ã€‚ ç‰¹ç‚¹ æœåˆ°çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­çš„ã€‚ å ç”¨ç©ºé—´è¾ƒå¤§ï¼Œå°¤å…¶æ˜¯ç›®æ ‡èŠ‚ç‚¹å±‚æ¬¡å¾ˆé«˜æ—¶ã€‚ å¦‚æœé¢˜ç›®è¦æ±‚è·¯å¾„åˆ™æ¯æ¬¡å…¥é˜Ÿçš„å…ƒç´ éƒ½è¦åŒ…å«æœ‰æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„â€œæŒ‡é’ˆâ€ã€‚è¦æ³¨æ„ï¼ŒSTLä¸­çš„queueå®¹å™¨ä¸­å…ƒç´ ä¸€æ—¦å‡ºé˜Ÿåˆ™ä¼šå¯¼è‡´å¯¹è±¡çš„ä¸¢å¤±ï¼Œå› æ­¤éœ€è¦è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªä¿è¯çˆ¶èŠ‚ç‚¹ä¸ä¼šä¸¢å¤±çš„é˜Ÿåˆ—ã€‚ ä¸€èˆ¬æ¨¡å¼ å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¦‚ä¸‹ï¼šï¼ˆç”¨QUEUEï¼‰ æŠŠåˆå§‹èŠ‚ç‚¹S0æ”¾å…¥Openè¡¨ä¸­ å¦‚æœOpenè¡¨ä¸ºç©ºï¼Œåˆ™é—®é¢˜æ— è§£ï¼Œå¤±è´¥é€€å‡º æŠŠOpenè¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å–å‡ºæ”¾å…¥Closedè¡¨ï¼Œå¹¶è®°è¯¥èŠ‚ç‚¹ä¸ºn è€ƒå¯ŸèŠ‚ç‚¹næ˜¯å¦ä¸ºç›®æ ‡èŠ‚ç‚¹ã€‚è‹¥æ˜¯ï¼Œåˆ™ å¾—åˆ°é—®é¢˜çš„è§£ï¼ŒæˆåŠŸé€€å‡º è‹¥èŠ‚ç‚¹nä¸å¯æ‰©å±•ï¼Œåˆ™è½¬ç¬¬(2)æ­¥ æ‰©å±•èŠ‚ç‚¹nï¼Œå°†å…¶ä¸åœ¨Closedè¡¨å’Œ Openè¡¨ä¸­çš„å­èŠ‚ç‚¹(åˆ¤é‡ï¼‰æ”¾å…¥Openè¡¨çš„å°¾ éƒ¨ï¼Œå¦‚æœ‰å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­èŠ‚ç‚¹è®¾ç½®æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆ (æˆ–è®°å½•èŠ‚ç‚¹çš„å±‚æ¬¡ï¼‰ï¼Œç„¶åè½¬ç¬¬(2)æ­¥ã€‚ DSP vs BSP æ·±æœ å¹¿æœ é€‚ç”¨èŒƒå›´ å‡ ä¹ä»»ä½•é—®é¢˜ çŠ¶æ€è¡¨ç¤ºæ¯”è¾ƒç®€å•ï¼Œæ±‚æœ€ä¼˜ç­–ç•¥çš„é—®é¢˜ ä¼˜ç‚¹ ç©ºé—´å ç”¨è¾ƒå°‘ æ‰¾åˆ°çš„è§£ä¸€å®šè·¯å¾„æœ€çŸ­ ç¼ºç‚¹ è¿æ°”ä¸å¥½æ—¶è€—æ—¶é•¿ï¼Œç”šè‡³æ— æ³•åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ï¼Œéœ€è¦å‰ªæä¼˜åŒ– ç›®æ ‡èŠ‚ç‚¹å±‚æ¬¡é«˜æ—¶æœç´¢è¿‡ç¨‹å°†äº§ç”Ÿè®¸å¤šæ— ç”¨èŠ‚ç‚¹ï¼Œæœç´¢æ•ˆç‡ä½ä¸”å ç”¨ç©ºé—´å¤§ï¼Œéœ€è¦ä¼˜åŒ–å­˜å‚¨æ–¹å¼ ç»“æ„ æ ˆï¼ˆé€’å½’ï¼‰ é˜Ÿåˆ— æ ¹æ®é¢˜ç›®è¦æ±‚å‡­å€Ÿè‡ªå·±çš„ç»éªŒå’Œå¯¹ä¸¤ä¸ªæœç´¢çš„ç†Ÿç»ƒç¨‹åº¦åšå‡ºé€‰æ‹© è´ªå¿ƒ ç®€ä»‹ åªè€ƒè™‘å½“å‰æœ€ä¼˜ï¼Œé€šè¿‡å±€éƒ¨æœ€ä¼˜è¾¾åˆ°æ•´ä½“æœ€ä¼˜çš„ç­–ç•¥ è´ªå¿ƒç®—æ³•éœ€è¦è¯æ˜å…¶æ­£ç¡®æ€§ è´ªå¿ƒæ£€éªŒï¼šæ›¿æ¢æ³• å‡è®¾æœ€ä¼˜åºåˆ—ä¸º{ai}ï¼Œè´ªå¿ƒå¾—åˆ°çš„åºåˆ—ä¸º{bi}ï¼Œåˆ™åªéœ€è¦è¯æ˜{ai}={bi}å³å¯è¯æ˜è´ªå¿ƒå¾—åˆ°çš„æ˜¯æ•´ä½“æœ€ä¼˜ã€‚ å¿…è¦æ—¶å…ˆå°†aiæŒ‰ç…§biï¼ˆè´ªå¿ƒç­–ç•¥å¾—åˆ°çš„åºåˆ—ï¼‰çš„æ–¹å¼æ’å¥½åº ç„¶åä»i=1å¼€å§‹é€ä¸ªè€ƒè™‘èƒ½å¦å°†aiæ›¿æ¢ä¸ºbiè€Œä¸å½±å“aiåé¢åºåˆ—çš„é€‰æ‹©ã€‚å¦‚æœå¯¹äºæ‰€æœ‰iå‡å¯æ›¿æ¢ï¼Œåˆ™{ai}={bi}ã€‚ æ•°å­¦å½’çº³æ³• é™„æ³¨ ä¸€ç±»å¸¸è§çš„åº”ç”¨è´ªå¿ƒç­–ç•¥çš„é¢˜ï¼šåŒºé—´é¢˜ è§£å†³æ€è·¯ï¼šå…³æ³¨ç«¯ç‚¹ï¼Œåˆç†æ’åºï¼Œé¡ºåºå¤„ç†","link":"/posts/8ee1a4a1/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;Talent Plan Note","text":"TinyKV Project 1 [x] ç†Ÿæ‚‰æ•´ä¸ª tinykv çš„æ¡†æ¶ ä¸€ä¸ª TinyKv Node ä»é«˜åˆ°ä½åˆ†ä¸‰å±‚ï¼šServerã€Storageã€Engineï¼Œæ­¤å¤–è¿˜åŠ ä¸Šä¸€ä¸ª TinyScheduler ç»„ä»¶è´Ÿè´£ç®¡ç† TinyKv é›†ç¾¤ TinySQL åœ¨æ­¤æ¬¡é¡¹ç›®ä¸­æ— éœ€å®ç°ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ TinySQL æ˜¯é€šè¿‡ è¿œç«¯è°ƒç”¨ RPC çš„æ–¹å¼ä½¿ç”¨ TinyKv çš„ Server å±‚çš„æ¥å—è¿œç¨‹è¯·æ±‚ï¼Œä¾æ­¤è°ƒç”¨ Storage å±‚æ¥æä¾›å­˜å–æœåŠ¡ Raw API æä¾›åŸºæœ¬çš„ GETã€PUTã€DELETEã€SCAN æœåŠ¡ Txn API æä¾›äº‹åŠ¡æ”¯æŒ Coproceccor Transaction MVCC æä¾›å¤šç‰ˆæœ¬ç®¡ç†æœåŠ¡ Storage å±‚åœ¨ Engine å±‚çš„åŸºç¡€ä¸Šå®ç° raft åˆ†å¸ƒå¼å­˜å‚¨ ï¼ˆå•æœºå­˜å‚¨å¼•æ“ StandAloneStorage ä¸éœ€è¦å®ç° raftï¼Œåªæ˜¯å•çº¯çš„å°è£…Engine å±‚ï¼‰ Engine å±‚ä¸ºæœ€åº•å±‚ï¼Œæä¾›åŸºæœ¬çš„é”®å€¼å­˜å‚¨å¼•æ“æœåŠ¡ï¼ˆé¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨ badger ä½œä¸ºå­˜å‚¨å¼•æ“ï¼‰ [x] äº†è§£ raft ç®—æ³•åŸºæœ¬åŸç† [x] ç†Ÿæ‚‰ badger api å’Œ tinykv é¡¹ç›®æ¨¡æ¿æä¾›çš„ engine_util åŒ… [x] å®ç° Storage å±‚çš„å•æœºå­˜å‚¨å¼•æ“ StandAloneStorage badger çš„åªè¯»äº‹åŠ¡ä¼šä½¿ç”¨åˆ°å­˜å‚¨å¿«ç…§ï¼Œä¿è¯äº†æ‰¹é‡è¯»å–çš„ä¸€è‡´æ€§ï¼ˆè¯»åˆ°çš„æ˜¯åŒä¸€æ—¶é—´ç‚¹çš„å¿«ç…§ï¼‰ï¼Œå› æ­¤è¯»å–æ“ä½œå‡å€ŸåŠ© badger äº‹åŠ¡ badger.Txn æ¥å®ç° åˆ—æ— Column Familyï¼Œç›¸å½“äº key çš„åç§°ç©ºé—´ï¼ŒStorage éœ€è¦åœ¨ Engine å±‚çš„åŸºç¡€ä¸Šå°è£…å¯¹åˆ—æ—çš„æ”¯æŒï¼ˆå­˜å–æ“ä½œéƒ½è¦æŒ‡å®š åˆ—æ— CFï¼‰ [x] å®ç° Server å±‚çš„ Raw API [ ] å­˜å‚¨å¼•æ“ç›¸å…³ï¼šLSM-Tree [ ] åºåˆ—åŒ–ä¸è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ç›¸å…³ï¼šProtoBuffer &amp; gRPC å‚è€ƒæ–‡çŒ® Raft åŸºæœ¬ä»‹ç»ä¸å¯è§†åŒ–ï¼šRaft Consensus Algorithm TinyKv å’Œ TiKvå¾ˆåƒï¼Œå› æ­¤å¯ä»¥å‚è€ƒï¼šä¸‰ç¯‡æ–‡ç« äº†è§£ TiDB æŠ€æœ¯å†…å¹• - è¯´å­˜å‚¨ | PingCAP badger package ç½‘è¯¾ï¼š https://learn.pingcap.com/learner/course/510001 Project 2 2A Raft ç®—æ³• ä¸»è¦æ˜¯å¤„ç†å„ç§æƒ…å†µä¸‹çš„ Message å¦‚ä½•å¤„ç† Message ï¼ŸæŒ‰ä¼˜å…ˆçº§å‚è€ƒä»¥ä¸‹æ¥æºï¼š æµ‹è¯•å‡½æ•° ï¼ˆæœ€å…·ä½“ï¼‰ doc.go ï¼ˆå¤§ä½“æ€è·¯ï¼‰ raft è®ºæ–‡ ï¼ˆå­¦ä¹ æ€æƒ³ã€å…³ä¹å®‰å…¨æ€§çš„è®¾è®¡ï¼‰ å¯¹äºæŸäº›ç‰¹æ®Šæƒ…å†µå¯ä»¥è€ƒè™‘ç”¨ raft å®˜ç½‘ä¸Šçš„äº¤äº’å¼ç³»ç»Ÿï¼ˆRaft Visualizationï¼‰æ¨¡æ‹Ÿå‡ºç›¸åº”æƒ…å½¢åŠ æ·±ç†è§£ è°ƒç”¨å…³ç³»å›¾ RaftLogï¼šå®ç°äº†ä¸€ä¸ªæ—¥å¿—ï¼ŒåŒ…å«å¯¹æ—¥å¿—çš„ä¸€ç³»åˆ—å¢åˆ æŸ¥æ”¹çš„æ“ä½œ Raftï¼šå®ç° raft ç®—æ³•ï¼Œtick() æ—¶é’Ÿæ­¥è¿›ï¼Œstep() å¤„ç†ä¿¡å·ï¼ˆæœ¬åœ°æ¶ˆæ¯ç›´æ¥stepï¼Œmsgä¸­çš„æ¶ˆæ¯æ˜¯è¦å‘é€çš„æ¶ˆæ¯ï¼‰ RawNodeï¼šåœ¨ Raft åŸºç¡€ä¸Šè¿›ä¸€æ­¥å°è£…ï¼Œæ–¹ä¾¿ä¸Šå±‚åº”ç”¨è°ƒç”¨ï¼ˆreadyï¼Œadvanceï¼‰ flowchart LR RaftLog --> Raft --> RawNode å…³äºç©ºæ—¥å¿— noop entry çš„å®šä¹‰ 123if m.MsgType != pb.MessageType_MsgAppend || len(m.Entries) != 1 || m.Entries[0].Data != nil { panic(\"not a message to append noop entry\")} //noop entry æŒ‡ä»£ Data å­—æ®µä¸º nil çš„ Entry æ³¨æ„é›†ç¾¤ä¸­åªæœ‰å•ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼ˆæ­¤æ—¶æ— éœ€å¹¿æ’­appendæ¶ˆæ¯ã€é€‰ä¸¾ç›´æ¥æ™‹å‡leaderæ— éœ€å¹¿æ’­reqVoteç­‰ç­‰ï¼‰ è¿‡åŠå¦å†³ï¼šCandidate å‘èµ·ä¸€æ¬¡æŠ•ç¥¨åå¦‚æœæ”¶åˆ°äº†åŠæ•° Reject åˆ™ç›´æ¥å˜ä¸º Followerï¼Œå› æ­¤è¦åœ¨ Raft ç»“æ„ä½“ä¸­æ–°å¢ç›¸åº”çš„å­—æ®µè®°å½•ä¸€è½®æŠ•ç¥¨ä¸­çš„å¦å†³ç¥¨æ•° å…³äºè¿‡åŠ Commit ï¼šå¯ä»¥åœ¨æ¯æ¬¡æ”¶åˆ° AppendResponse ä¹‹åæŒ‰ç…§ Prs å¤§å°ä»ä½åˆ°é«˜æ’åºï¼Œç„¶åå–ä¸­é—´å€¼ Commitï¼ˆè¿‡åŠä»¥ä¸Šçš„èŠ‚ç‚¹è‡³å°‘å¤åˆ¶åˆ°äº†è¯¥ç´¢å¼•å€¼ä»¥å‰çš„æ—¥å¿—ï¼‰ heartbeatå’Œappendçš„åŒºåˆ« heartbeat é—´éš”ä¸€å®šå‘¨æœŸä¸»åŠ¨å‘é€ ç»´æŒèŠ‚ç‚¹é—´çš„ä¸»ä»å…³ç³» è¢«åŠ¨åŒæ­¥ï¼šä»èŠ‚ç‚¹æ¥å—åˆ°ä¸»èŠ‚ç‚¹çš„å¿ƒè·³åå‘ç°æ—¥å¿—å¹¶ä¸åŒæ­¥äºæ˜¯é€šè¿‡HeartbeatResponseåæ˜ ç»™ä¸»èŠ‚ç‚¹è®©å…¶å‘èµ·appendEntriesåŒæ­¥æ—¥å¿— appendEntries ä¸»åŠ¨åŒæ­¥ï¼šä¸»èŠ‚ç‚¹åœ¨ propose entries ï¼ˆæ–°å¢æ—¥å¿—ï¼‰åä¸»åŠ¨å‘é€ç›´åˆ°ä»èŠ‚ç‚¹åŒæ­¥ä¸ºæ­¢ 2acä¸­ï¼Œreadyä¸­çš„æ¡ç›®æ˜¯ç›¸è¾ƒäºä¸Šæ¬¡è°ƒç”¨readyçš„â€œæ›´æ–°â€çš„å†…å®¹ï¼Œå› æ­¤éœ€è¦ä¿å­˜è¿‡å»çš„HardStateå’ŒSoftStateçš„å‰¯æœ¬ï¼Œä»¥ä¾¿æ¯”è¾ƒå½“å‰HSå’ŒSSæ˜¯å¦æ˜¯æœ‰æ‰€å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–åˆ™ç½®ä¸ºé»˜è®¤åˆå§‹å€¼ï¼ˆè€Œä¸æ˜¯ä¸€è‚¡è„‘åœ°èµ‹å€¼ä¸ºå½“å‰raftçš„stateï¼‰ 2B Raft Storage ä¸»è¦å†…å®¹ï¼šé©±åŠ¨Raftæ¨¡å—æœåŠ¡å„ç§Requastå¹¶è¿”å›Responseã€‚ å¤§è‡´æ€è·¯ï¼šæ¥å—å®¢æˆ·è¯·æ±‚ï¼Œåˆ†å‘è¯·æ±‚åˆ°å¯¹åº”Regionçš„Leaderï¼ŒåŒ…è£…è¯·æ±‚æˆä¸ºraftlogå¹¶é©±åŠ¨Leaderå‘èµ·Proposeï¼Œç­‰å¾…æ—¥å¿—ä¸€è‡´ï¼ˆcommitedï¼‰åå¯¹èŠ‚ç‚¹çš„ä¸€äº›æ•°æ®æŒä¹…åŒ–ï¼ˆraftlogï¼Œapplyindexï¼Œhardstateç­‰ï¼‰ï¼Œç„¶åå°†å·²ç»æäº¤çš„raftlogåº”ç”¨åˆ°çŠ¶æ€æœºï¼Œæœ€åè¿”å›å“åº”ï¼Œé©±åŠ¨raftæ¨¡å—è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ï¼ˆRawNode.advance()ï¼‰ ä»£ç æ¡†æ¶ raft_server.goï¼šå‰ç«¯ï¼Œå¯¹å¤–æä¾›è®¿å­˜æ¥å£ï¼Œå¯¹å†…å‘é€è¯·æ±‚ transport.go å¯¹å¤–å‘é€æ¶ˆæ¯çš„æ¥å£ï¼Œé¢å‘æ•´ä¸ªrafté›†ç¾¤ raftstore.goï¼šåç«¯ï¼Œç®¡ç†peerèŠ‚ç‚¹ï¼Œå¯åŠ¨workerï¼Œæ¥æ”¶æ¥è‡ªå‰ç«¯çš„è¯·æ±‚ï¼Œåˆ†å‘åˆ°å¯¹åº”peer peer.go peer_storage.go ç®¡ç†peerçš„å­˜å‚¨å¼•æ“ï¼ˆåˆ†ä¸ºkvDBå’ŒraftDBï¼ŒkvDBç›¸å½“äºraftè®ºæ–‡æè¿°çš„çŠ¶æ€æœºï¼ŒraftDBå­˜å‚¨raftæ¨¡å—é‡Œéœ€è¦æŒä¹…åŒ–çš„æ•°æ®æ–¹ä¾¿é‡å¯æ¢å¤æ•°æ®ï¼‰ peer_msg_handler.go å¤„ç†æ¥è‡ªä¸Šå±‚çš„è¯·æ±‚ xxxworker.go å„ç§workerçš„å®ç° raft_worker.go raftstore ä¸­å®ç°äº†æ¥æ”¶ã€åˆ†å‘ã€å¤„ç†æ¶ˆæ¯çš„çº¿ç¨‹ router.go node/store å†…éƒ¨æ¶ˆæ¯è·¯ç”±ï¼Œé¢å‘å•ä¸ªraftèŠ‚ç‚¹ ticker.go è®¡æ—¶æ¨¡å— æ³¨æ„äº‹é¡¹ åº”ç”¨committedEntryçš„æ—¶å€™éœ€è¦å°†appliedStateä»¥åŠPutã€Deleteç­‰å†™å…¥æ“ä½œå¯¹KVDBçš„ä¿®æ”¹å†™åˆ°åŒä¸€ä¸ªWriteBatchä¸­ï¼Œç„¶åä¸€èµ·writeToDBï¼Œä»¥ä¿è¯åŸå­æ€§ï¼ˆé˜²æ­¢applyå¼‚å¸¸è€ŒappliedIndexæ›´æ–°å¯¼è‡´çš„ä¸ä¸€è‡´æ€§ï¼‰ Snap Request è¦æ±‚è¿”å›ä¸€ä¸ªTransactionç”¨äºè¯»å–æ•°æ®ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¸ºäº†ä¿è¯è¯»å–çš„æ•°æ®æ—¶é—´ä¸Šçš„ä¸€è‡´æ€§ raft_server.goä¸­ä¼¼ä¹æ²¡æœ‰åŒ…è£…è¿‡Getç±»å‹çš„Requestï¼Œä½†æ˜¯æµ‹è¯•å‡½æ•°é‡Œä¼šå‘é€Get Requestã€‚GetResponseä¸­çš„Valueä¹Ÿåº”å½“æ¥è‡ªäºåŒä¸€ä¸ªTransactionä¿è¯ä¸€è‡´æ€§ æŒä¹…åŒ–æ—¶å†™å…¥databaseçš„keyå€¼è¦éµå¾ªä¸‹è¡¨çš„æ ¼å¼ å¯ä»¥é‡‡ç”¨metaåŒ…ä¸­çš„å·¥å…·å‡½æ•°å°†region_id&amp;log_idxè½¬åŒ–ä¸ºå¯¹åº”çš„key Key KeyFormat Value DB raft_log_key 0x01 0x02 region_id 0x01 log_idx Entry raft raft_state_key 0x01 0x02 region_id 0x02 RaftLocalState raft apply_state_key 0x01 0x02 region_id 0x03 RaftApplyState kv region_state_key 0x01 0x03 region_id 0x01 RegionLocalState kv 2C Snapshot &amp; LogCompact æ—¥å¿—å‹ç¼© LogCompact RaftGCLogTick å®šæ—¶æ£€æŸ¥æ—¥å¿—é•¿åº¦ï¼Œè¶…è¿‡ä¸€å®šé•¿åº¦åä¼šå‘å‡ºä¸€ä¸ªCompactLogçš„AdminRequestï¼ˆæ³¨æ„è¿™ç§requestä¹Ÿæ˜¯è¦ä½œä¸ºæ—¥å¿—å¤åˆ¶åˆ°é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹å¹¶è¿›è¡Œcommitåæ‰èƒ½åº”ç”¨åˆ°çŠ¶æ€æœºï¼‰ï¼Œstore å¤„ç†è¯¥requestçš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯æˆªæ–­æ—¥å¿—é“¾è¿›è¡Œå‹ç¼©ï¼Œæ­¤è¿‡ç¨‹åŒ…æ‹¬ä¿®æ”¹applyStateå’ŒraftStateç­‰å…ƒæ•°æ®ä»¥åŠé€šè¿‡ScheduleCompactLogæ‰˜ä»˜ç»™raftlog-gc workerå°†è¢«æˆªæ–­çš„entriesè¿›è¡Œåˆ é™¤ã€‚ä»¥ä¸Šè¿‡ç¨‹å‡å‘ç”Ÿåœ¨storeå±‚æ¬¡ã€‚ é™¤äº†storeè¦è¿›è¡Œæ—¥å¿—å‹ç¼©å¤–ï¼Œraftæ¨¡å—ä¸­çš„entryä¹Ÿä¸èƒ½æ— é™å¢é•¿ï¼Œéœ€è¦å®ç°raft.raftlogä¸­çš„maybeCompactå‡½æ•°å¯¹raftæ¨¡å—çš„æ—¥å¿—é“¾è¿›è¡Œæˆªæ–­ã€‚maybeCompactåœ¨Advanceæ—¶è°ƒç”¨ã€‚ å¿«ç…§å‘é€ Snapshot å‘é€ï¼šå½“Leaderéœ€è¦å‘é€å·²ç»è¢«æˆªæ–­çš„æ—¥å¿—æ—¶ï¼ˆSendAppendEntryï¼‰ï¼Œç”±äºæ­¤éƒ¨åˆ†æ—¥å¿—å·²ç»ä¸å­˜åœ¨äº†ï¼Œæ‰€ä»¥ leader éœ€è¦é€šè¿‡storage.Snapshotè·å–çŠ¶æ€æœºçš„å¿«ç…§ï¼ˆå¿«ç…§çš„å…·ä½“æ„å»ºå’Œå‘é€é€»è¾‘ä¸éœ€è¦æˆ‘ä»¬æ¥å®ç°ï¼‰å¹¶å‘é€ç»™ç›®æ ‡èŠ‚ç‚¹ æ¥å—ï¼šstoreå±‚é¢ï¼ŒèŠ‚ç‚¹è¦åˆ¤æ–­readyä¸­æ˜¯å¦æœ‰å¾…å¤„ç†çš„å¿«ç…§ï¼ˆå³snapshotå­—æ®µæ˜¯å¦ä¸ºç©ºï¼‰ï¼Œå¦‚æœæœ‰åˆ™åº”ç”¨è¯¥å¿«ç…§ï¼ˆäº¤ä»˜ç»™regionWorkerå¤„ç†ï¼‰å¹¶ä¿®æ”¹å…ƒæ•°æ®","link":"/posts/47eaa8c7/"},{"title":"æ‚é¡¹&#x2F;è¯»ä¹¦ç¬”è®°çº¦æ³•ä¸‰ç« ","text":"è¯»ä¹¦ç¬”è®°çº¦æ³•ä¸‰ç«  â€œæ— ä»–ï¼Œå”¯æ‰‹ç†Ÿå°”â€ è¯»ä¹¦ä¸åšç¬”è®°ï¼Œä¸å¸¸å¸¸æ¸©ä¹ çº¦ç­‰äºæ²¡å­¦ï¼Œé‡è§†ç¬”è®°ï¼Œèˆå¾—æŠ•å…¥æ—¶é—´ã€‚ ä¸€æ›°ï¼š è¯»å®Œä¸€ç« åæç‚¼å‡ºä¸»è¦çŸ¥è¯†ç‚¹ï¼Œå¹¶ç»“åˆ è‡ªå·±çš„ç†è§£ è¿›è¡Œè®°å½•ã€‚ äºŒæ›°ï¼š è¯»çš„è¿‡ç¨‹ä¸­å‘ç°æ¯ä¸€ç« èŠ‚çš„è”ç³»ï¼ˆç†è§£ä½œè€…è¿™æ ·ç¼–æ’å†…å®¹çš„æ·±æ„ï¼‰ï¼ŒåŠæ—¶å¯¹ä¹‹å‰çš„ç¬”è®°è¿›è¡Œè¡¥å……è¯´æ˜ç”šè‡³é‡æ–°ç†è§£ã€‚ ä¸‰æ›°ï¼š è¿›è¡ŒäºŒæ¬¡é˜…è¯»ç”šè‡³å¤šæ¬¡é˜…è¯»ï¼Œä¿®æ”¹ç†è§£ä¸åˆ°ä½çš„ã€é—æ¼çš„çŸ¥è¯†ç‚¹ã€‚ å››æ›°ï¼š å®é™…è¿ç”¨ä¹¦ä¸­å†…å®¹çš„æ—¶å€™å°†é‡åˆ°çš„é—®é¢˜ã€ç§¯ç´¯çš„ç»éªŒå†™åœ¨ç¬”è®°ä¸­ã€‚","link":"/posts/e8be4afa/"},{"title":"æ‚é¡¹&#x2F;Ideas","text":"Williamsâ€™s Fantastic Ideas Github æœ‰ä¸€ä¸ªå«åš app ideas çš„ä»“åº“æœ‰å¾ˆå¤šå¥½çš„é¡¹ç›® æ ¹æ®å›¾ç‰‡å®šä½åˆ°è§†é¢‘ä¸­çš„æŸä¸€å¸§","link":"/posts/853a41fd/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;LatexTikz","text":"æ³¨æ„äº‹é¡¹: \\begin{tikzpicture} ç¯å¢ƒä¸‹æ¯ä¸€è¡Œå‘½ä»¤ç»“å°¾éƒ½è¦åŠ åˆ†å·; \\node, \\coordinate, \\draw è¯­æ³•å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/84943429 \\node æç‚¹, \\coordinate æ‹Ÿç‚¹, \\draw ç”»çº¿, \\fill å¡«å…… å‚è€ƒç½‘ç«™: è·¯å¾„ä¸åæ ‡ï¼šhttps://www.latexstudio.net/archives/51602.html node æ§åˆ¶ï¼šhttps://www.latexstudio.net/archives/51617.html çº¿æ¡æ§åˆ¶: https://www.latexstudio.net/archives/51622.html ç¤ºä¾‹ä»£ç : 12\\node at (A)[circle,fill,inner sep=1pt]{};% ç‚¹å å±æ€§","link":"/posts/9b17222d/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;Java&amp;Kotlinè¯­æ³•å¯¹ç…§","text":"å‡½æ•°å¼ API Java 123456789101112//ä¼ å…¥æ¥å£ç±»å‹çš„å®ä¾‹ï¼ˆæˆ–ç»§æ‰¿äº†æ¥å£çš„åŒ¿åç±»ï¼‰/* public interface Runnable { void Run(); } */new Thread(new Runnable() { @Override public void run() { //æ‰§è¡Œé€»è¾‘ }}).start() Kotlin 1234//ä¼ å…¥Lambdaè¡¨è¾¾å¼ï¼ˆå•æŠ½è±¡çš„æ¥å£ç±»å‹ä¹Ÿå¯ç®€åŒ–ä¸ºLambdaè¡¨è¾¾å¼åä¼ å…¥ï¼‰Thread { //æ‰§è¡Œé€»è¾‘}.start() è®¿é—®æ§åˆ¶ ä¿®é¥°ç¬¦ Java Kotlin pubilc æ‰€æœ‰ç±»å¯è§ æ‰€æœ‰ç±»å¯è§ï¼ˆé»˜è®¤ä¿®é¥°ç¬¦ï¼‰ private å½“å‰ç±»å¯è§ å½“å‰ç±»å¯è§ protected å½“å‰ç±»ï¼Œå­ç±»ï¼ŒåŒæ„åŒ…è·¯å¾„ä¸‹çš„ç±»å¯è§ å½“å‰ç±»ï¼Œå­ç±»å¯è§ default åŒä¸€åŒ…ç›®å½•ä¸‹çš„ç±»å¯è§ï¼ˆé»˜è®¤ä¿®é¥°ç¬¦ï¼‰ æ—  internal æ—  åŒä¸€æ¨¡å—ä¸‹çš„ç±»å¯è§ Class å¯¹è±¡å¼•ç”¨ è¯­è¨€ å®ä¾‹çš„Classå¯¹è±¡ ç±»çš„Classå¯¹è±¡ Kotlin javaclass ç±»å::class.java Java (this).getclass() ç±»å.class","link":"/posts/7a368ad4/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;JavaLearning","text":"content: å¯¹è±¡ä¸ç±»ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ int a, b; åˆ™â€œa=bâ€è¡¨è¾¾å¼ä¸ºintç±»å‹ï¼Œä¸ä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºbooleanç±»å‹ Java çš„åŒ¿åå†…éƒ¨ç±» Java12345678910111213//å®šä¹‰è¯­æ³•new çˆ¶ç±»æ„é€ å™¨ï¼ˆå®å‚åˆ—è¡¨) | å®ç°æ¥å£() //å¿…é¡»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»æˆ–æ¥å£{ //åŒ¿åå†…éƒ¨ç±»çš„ç±»ä½“éƒ¨åˆ†}/** * è§„èŒƒï¼š * åŒ¿åç±»çš„å£°æ˜æ˜¯ç”±javaç¼–è¯‘å™¨è‡ªåŠ¨æ´¾ç”Ÿè‡ªä¸€ä¸ªç±»å®ä¾‹åˆ›å»ºè¡¨è¾¾å¼ã€‚ * åŒ¿åç±»æ°¸è¿œä¸èƒ½æ˜¯æŠ½è±¡çš„ã€‚ * åŒ¿åç±»æ€»æ˜¯éšå¼çš„finalã€‚ * åŒ¿åç±»æ€»æ˜¯ä¸€ä¸ªå†…éƒ¨ç±»ï¼›å¹¶ä¸”ä¸èƒ½æ˜¯staticçš„ã€‚ */ æ³¨æ„ï¼š ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¯ç»§æ‰¿ä¸€ä¸ªç±»æˆ–è€…å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯ä¸¤è€…ä¸å¯å…¼å¾—ï¼ŒåŒæ—¶ä¹Ÿåªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»æˆ–è€…å®ç°ä¸€ä¸ªæ¥å£ã€‚ åŒ¿åå†…éƒ¨ç±»ä¸­æ˜¯ä¸èƒ½å®šä¹‰æ„é€ å‡½æ•°çš„ã€‚ åŒ¿åå†…éƒ¨ç±»ä¸­ä¸èƒ½å­˜åœ¨ä»»ä½•çš„é™æ€æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•ã€‚ åŒ¿åå†…éƒ¨ç±»ä¸ºå±€éƒ¨å†…éƒ¨ç±»ï¼Œæ‰€ä»¥å±€éƒ¨å†…éƒ¨ç±»çš„æ‰€æœ‰é™åˆ¶åŒæ ·å¯¹åŒ¿åå†…éƒ¨ç±»ç”Ÿæ•ˆã€‚ åŒ¿åå†…éƒ¨ç±»ä¸èƒ½æ˜¯æŠ½è±¡çš„ï¼Œå®ƒå¿…é¡»è¦å®ç°ç»§æ‰¿çš„ç±»æˆ–è€…å®ç°çš„æ¥å£çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚ å†…éƒ¨ç±»çš„classæ–‡ä»¶å‘½åæ˜¯ï¼šä¸»ç±»ï¼‹$ï¼‹å†…éƒ¨ç±»å åŒ¿åç±»çš„classæ–‡ä»¶å‘½åæ˜¯ï¼šä¸»ç±»ï¼‹$ï¼‹(1,2,3â€¦) class å¯¹è±¡ è·å–æ–¹å¼ï¼šæœ‰ä¸‰ç§è·å¾—Classå¯¹è±¡çš„æ–¹å¼ï¼š Class.forName(â€œç±»çš„å…¨é™å®šåâ€) å®ä¾‹å¯¹è±¡.getClass() ç±»å.class ï¼ˆç±»å­—é¢å¸¸é‡ï¼‰ æ¯ä¸ªç±»çš„è¿è¡Œæ—¶çš„ç±»å‹ä¿¡æ¯å°±æ˜¯ç”¨Classå¯¹è±¡è¡¨ç¤ºçš„","link":"/posts/6374ed46/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;Kotlin å­¦ä¹ ç¬”è®°","text":"Kotlin å¯ä»¥ç¼–è¯‘æˆJavaå­—èŠ‚ç ï¼Œä¹Ÿå¯ä»¥ç¼–è¯‘æˆ JavaScriptï¼Œæ–¹ä¾¿åœ¨æ²¡æœ‰ JVM çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚ kotlinæºæ–‡ä»¶ä¸éœ€è¦ç›¸åŒ¹é…çš„ç›®å½•å’ŒåŒ…ï¼Œæºæ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»ä½•æ–‡ä»¶ç›®å½•ã€‚ $a å’Œ ${a.func()}æˆ‘æ˜¯çœŸæ²¡è¯è¯´ã€‚ å®Œå–„çš„NULLæ£€æŸ¥æœºåˆ¶ â€œ!!, ?, ?:â€ï¼ˆå½“ä¸€ä¸ªå¼•ç”¨å¯èƒ½ä¸º null å€¼æ—¶, å¯¹åº”çš„ç±»å‹å£°æ˜å¿…é¡»æ˜ç¡®åœ°æ ‡è®°ä¸ºå¯ä¸º nullã€‚æ–¹æ³•æ˜¯ï¼š â€œTypeå + ï¼Ÿâ€ï¼‰ ç©è½¬forå¾ªç¯ï¼šå¯ä»¥æ–¹ä¾¿çš„æŒ‡å®šéå†çš„æ­¥é•¿ï¼ŒèŒƒå›´ã€‚ï¼ˆ â€¦, step, downTo, in, until) Kotlin çš„åŸºæœ¬æ•°å€¼ç±»å‹åŒ…æ‹¬ Byteã€Shortã€Intã€Longã€Floatã€Double ç­‰ã€‚ä¸åŒäº Java çš„æ˜¯ï¼Œå­—ç¬¦ä¸å±äºæ•°å€¼ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ç±»å‹ã€‚ æ”¯æŒäºŒè¿›åˆ¶å­—é¢é‡ï¼Œæ•°å€¼ç±»å‹æ··å…¥ä¸‹åˆ’çº¿å¢åŠ è¯­ä¹‰æ€§ã€‚ æœ‰äº›æ—¶å€™è¾ƒå°ç±»å‹ä¸ä¼šéšå¼è½¬æ¢æˆè¾ƒå¤§ç±»å‹ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ .toXXX() æ¥è¿›è¡Œæ˜¾ç¤ºçš„ç±»å‹è½¬æ¢ã€‚ å’Œ golang ä¸€æ ·å°‘äº†åˆ†å·ï¼ˆè¿™å°±æ˜¯è¯­æ³•ç³–å—iäº†iäº† if-else è¯­å¥ä¸whenè¯­å¥ç­‰å¯ä»¥è§†ä¸º è¡¨è¾¾å¼ï¼ˆå¯èµ‹å€¼ when ä¸ -&gt; ç¬¦å·æ„æˆå¼ºå¤§çš„åˆ†æ”¯æ§åˆ¶ã€‚ å®Œå…¨æŠ›å¼ƒåŸºæœ¬æ•°æ®ç±»å‹æ”¹ç”¨å¯¹è±¡æ•°æ®ç±»å‹â€œã€‚ â€œfun xxx() = xxxâ€ è¿™ä¸ªè¯­æ³•ç³–ç»“åˆ if else, when ç­‰ç‰¹æ€§å¯ä»¥æ‰“å‡ºæ¼‚äº®çš„ç»„åˆæ‹³ã€‚ class ç»§æ‰¿çš„æ—¶å€™å¯¹ç»§æ‰¿çš„çˆ¶ç±»åé¢ä¸€èˆ¬è¦åŠ æ‹¬å·ï¼ˆå› ä¸º java ç»§æ‰¿ä¸­å¿…è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼‰ä¸”æ­¤æ„é€ å‡½æ•°å¿…è°ƒç”¨è‘—æ„é€ å‡½æ•°ã€‚ Java ä¸ Kotlin è®¿é—®ä¿®é¥°ç¬¦å¯¹ç…§è¡¨ ä¿®é¥°ç¬¦ Java Kotlin pubilc æ‰€æœ‰ç±»å¯è§ æ‰€æœ‰ç±»å¯è§ï¼ˆé»˜è®¤ä¿®é¥°ç¬¦ï¼‰ private å½“å‰ç±»å¯è§ å½“å‰ç±»å¯è§ protected å½“å‰ç±»ï¼Œå­ç±»ï¼ŒåŒæ„åŒ…è·¯å¾„ä¸‹çš„ç±»å¯è§ å½“å‰ç±»ï¼Œå­ç±»å¯è§ default åŒä¸€åŒ…ç›®å½•ä¸‹çš„ç±»å¯è§ï¼ˆé»˜è®¤ä¿®é¥°ç¬¦ï¼‰ æ—  internal æ—  åŒä¸€æ¨¡å—ä¸‹çš„ç±»å¯è§ è¯­æ³•ç³–: åŸç”Ÿæ”¯æŒæ•°æ®ç±»ã€å•ä¾‹ç±» ï¼ˆè‡ªåŠ¨å®Œæˆ toString(), hashCode(), equals() ç­‰æ–¹æ³•ï¼‰ æ•°æ®ç±»å¯¹æ¯” Java-example12345678910111213141516171819202122232425262728public class Cellphone { String brand; double price; public Cellphone(String brand, double price) { this.brand = brand; this.price = price; } @Override public boolean equals(Object obj) { if (obj instanceof Cellphone) { Cellphone other = (Cellphone) obj; return other.brand.equals(brand) &amp;&amp; other.price == price; } return false; } @Override public int hashCode() { return brand.hashCode() + (int) price; } @Override public String toString() { return \"Cellphone(brand=\" + brand + \", price=\" + price + \")\"; }} Kotlin-example1data class Cellphone(val brand: String, val price: Double) //åŠ ä¸€ä¸ªdataå³å¯ å•ä¾‹ç±»å¯¹æ¯” Java-example12345678910111213141516public class Singleton { private static Singleton instance; private Singleton() {} public synchronized static Singleton getInstance() { if (instance == null) { instance = new Singleton(); } return instance; } public void singletonTest() { System.out.println(\"singletonTest is called.\"); }} Kotlin-example12345object Singleton { //åªéœ€è¦ç”¨objectä»£æ›¿classå³å¯ fun singletonTest() { println(\"singletonTest is called.\") } //è¿™é‡Œç›¸å½“äºä¸€ä¸ªé™æ€æ–¹æ³•} Kotlin class ç±» è¯­è¨€ å®ä¾‹çš„Classå¯¹è±¡ ç±»çš„Classå¯¹è±¡ Kotlin javaclass ç±»å::class.java Java (this).getclass() ç±»å.class Kotlin æ ‡å‡†å‡½æ•° ä¸€ç³»åˆ—å®šä¹‰äº Standard.kt é‡Œçš„å‡½æ•° å‚ç…§è¡¨ å‡½æ•° ç‰¹ç‚¹ ä»£ç æ®µ let() è°ƒç”¨letçš„å¯¹è±¡ä½œä¸ºLamdaçš„å‚æ•°ï¼Œè¿”å›æœ€åä¸€è¡Œ obj.let {(obj2 -&gt;) //obj2æ˜¯obj} with() ä¼ å…¥å¯¹è±¡ä½œä¸ºLambdaçš„ä¸Šä¸‹æ–‡ï¼Œè¿”å›æœ€åä¸€è¡Œ with(obj) {//objä¸Šä¸‹æ–‡} run() è°ƒç”¨runçš„å¯¹è±¡ä½œä¸ºLamdaçš„ä¸Šä¸‹æ–‡ï¼Œè¿”å›æœ€åä¸€è¡Œ obj.run {//objä¸Šä¸‹æ–‡} apply() è°ƒç”¨applyçš„å¯¹è±¡ä½œä¸ºLamdaçš„ä¸Šä¸‹æ–‡ï¼Œè¿”å›åŸå¯¹è±¡ obj.apply {//objä¸Šä¸‹æ–‡} Kotlin â€œé™æ€æ–¹æ³•è°ƒç”¨â€ å•ä¾‹ç±» objetc {} ä¼´ç”Ÿç±» companion object {} é¡¶å±‚æ–¹æ³• fun xxx()ï¼Œå¯ä»¥è¢«ä»»æ„Kotlinä»£ç ç›´æ¥è°ƒç”¨ï¼Œæ–‡ä»¶åä½œä¸ºç±»è¿˜å¯ä»¥ç”¨äºjavaé™æ€æ–¹æ³•è°ƒç”¨ @JvmStatic æ³¨é‡Šï¼Œåªèƒ½åŠ æ³¨åœ¨å•ä¾‹ç±»æ–¹æ³•æˆ–ä¼´ç”Ÿç±»æ–¹æ³•ä¸Šï¼Œä½¿å…¶ç¼–è¯‘æˆjavaé™æ€æ–¹æ³•","link":"/posts/ec3dabc7/"},{"title":"æŠ€æœ¯&#x2F;ç¬”è®°&#x2F;ç¦»æ•£æ•°å­¦ç¬”è®°","text":"Math è¯¾ç¨‹ç¬”è®° è®¡æ•°æŠ€æœ¯åŸºç¡€ ä¹˜æ³•åŸç†ä¸ç¬›å¡å°”ç§¯çš„åŸºæ•° |A1 â¨‰ A2 â¨‰ âˆ™âˆ™âˆ™ â¨‰ Am |= |A1| âˆ™ |A2| âˆ™ âˆ™âˆ™âˆ™ âˆ™ |Am| å®¹æ–¥åŸç† æœ‰æ ¹æ ‘å›¾ é¸½å·¢åŸç† æ¨è®ºï¼šä¸€ä¸ªä»mä¸ªå…ƒç´ åˆ°nä¸ªå…ƒç´ ï¼ˆm&gt;n)çš„å‡½æ•°ä¸å¯èƒ½æ˜¯å•å°„ã€‚ å¹¿ä¹‰é¸½å·¢åŸç† å¦‚æœN ä¸ªç‰©ä½“æ”¾ç½®åˆ°kä¸ªç›’å­ä¸­ï¼Œé‚£ä¹ˆè‡³å°‘ æœ‰ä¸€ä¸ªç›’å­è£…æœ‰ä¸å°‘äºâŒˆN/kâŒ‰ä¸ªç‰©ä½“ã€‚ å…³é”®è¯ï¼šè‡³å°‘ï¼Œåˆ†é…ï¼ˆ/å¡«è‰²/åˆ†ç±»ï¼‰ è¦ç”¨ä¸Šé¸½å·¢åŸç†å°±è¦çµæ´»è½¬æ¢é—®é¢˜ å¯ç”¨ç»“è®ºï¼š ä»»ä½•ä¸€ä¸ªæ­£æ•´æ•°éƒ½ç»™å¯ä»¥åˆ†è§£ä¸ºä¸€ä¸ª2çš„æ¬¡å¹‚Ã—ä¸€ä¸ªå¥‡æ•° æ’åˆ—ç»„åˆ ä¹˜æ³•åŸç†ï¼ŒåŠ æ³•åŸç†ï¼Œç»„åˆï¼Œæ’åˆ— äºŒé¡¹å¼ç³»æ•°ä¸ç»„åˆåˆ†ææ³• ç»„åˆåˆ†ææ³•è¯æ˜ å…è®¸é‡å¤çš„nå…ƒç´ çš„ræ’åˆ— nrn^rnr å…è®¸é‡å¤çš„nå…ƒç´ çš„rç»„åˆ Cn+râˆ’1rC_{n+r-1}^rCn+râˆ’1râ€‹ æ€æƒ³ï¼šéš”æ¿é€‰ä½ï¼Œä¸å®šæ–¹ç¨‹æ±‚è§£ å¯åˆ†è¾¨ä¸ä¸å¯åˆ†è¾¨çš„åˆ†é…é—®é¢˜ å°†nä¸ªå¯ä»¥è¾¨åˆ«çš„ç‰©ä½“ï¼ˆæˆ–è€…è¯´nä¸ªä¸åŒçš„ç‰©ä½“ï¼‰æ”¾å…¥åˆ°k ä¸ªå¯ä»¥è¾¨åˆ«çš„ç›’å­é‡Œï¼Œä½¿å¾—ç¬¬iä¸ªç›’å­æœ‰niä¸ªç‰©ä½“ï¼Œæœ‰ï¼šn!/(n1!n2! âˆ™âˆ™âˆ™nk!) ç§æ–¹æ³•ï¼Œå¤šçš„å¯ä»¥è®¤ä¸ºå…¨éƒ½æ”¾åˆ°ç¬¬k+1ä¸ªç›’å­é‡Œï¼ proofï¼šåˆ†ç±»ç»„åˆ ä¸å¯åˆ†è¾¨çš„ç‰©ä½“æ”¾å…¥å¯åˆ†è¾¨çš„ç›’å­é‡Œï¼šä¸å®šæ–¹ç¨‹é—®é¢˜ Cn+râˆ’1rC_{n+r-1}^rCn+râˆ’1râ€‹ é€’æ¨å…³ç³» çº¿æ€§é½æ¬¡é€’æ¨å…³ç³»é€šè§£å½¢å¼ an=âˆ‘iCinkrna_n=\\sum^i C_in^kr^nanâ€‹=âˆ‘iCiâ€‹nkrn CiC^iCiä¸ºå¾…å®šå¸¸ç³»æ•°ï¼Œrä¸ºç‰¹å¾æ ¹ï¼Œkä¾æ®é‡æ ¹æ•°å†³å®šï¼ˆä¾‹å¦‚äºŒé‡æ ¹r1,r2r_1, r_2r1â€‹,r2â€‹ï¼Œå¯¹åº”é¡¹C1rn,C2rnC_1r^n, C_2r^nC1â€‹rn,C2â€‹rnï¼‰ çº¿æ€§éé½æ¬¡é€’æ¨å…³ç³»ç‰¹è§£å½¢å¼ å¦‚æœf(n)ä¸ºnæ¬¡å¤šé¡¹å¼ï¼Œåˆ™ç‰¹è§£ä¸€èˆ¬ä¹Ÿæ˜¯næ¬¡å¤šé¡¹å¼ F(n)ä¸ºæŒ‡æ•°å‡½æ•°Î²n\\beta^nÎ²nï¼Œè‹¥Î²\\betaÎ²ä¸æ˜¯ç‰¹å¾æ ¹ï¼Œåˆ™æœ‰ç‰¹è§£ä¸º Hâˆ—(n)=PÎ²nH^*(n) = P\\beta^nHâˆ—(n)=PÎ²n å…¶ä¸­Pä¸ºå¾…å®šå¸¸æ•°. è‹¥Î²æ˜¯eé‡ç‰¹å¾æ ¹ï¼Œåˆ™ç‰¹è§£ä¸ºPneÎ²nPn^e\\beta^nPneÎ²n ç”Ÿæˆå‡½æ•° è¡¨ç¤ºåºåˆ—çš„ä¸€ç§æœ‰æ•ˆæ–¹æ³•æ˜¯ç”Ÿæˆå‡½æ•°ï¼Œå®ƒæŠŠåºåˆ—çš„é¡¹ä½œä¸º ä¸€ä¸ªå½¢å¼å¹‚çº§æ•°ä¸­å˜é‡xå¹‚çš„ç³»æ•°ã€‚è¿™æ ·çš„ç”Ÿæˆå‡½æ•°å¯ä»¥ ç”¨æ¥æ±‚è§£è®¸å¤šç±»å‹çš„è®¡æ•°é—®é¢˜ï¼Œè¯¸å¦‚ åœ¨å„ç§é™åˆ¶ä¸‹é€‰å–æˆ–åˆ†é…ä¸åŒç§ç±»çš„ç‰©ä½“çš„æ–¹å¼æ•°ï¼› ç”¨ä¸åŒé¢é¢é’±å¸æ„æˆæŸä¸ªæ•°é¢çš„é’±çš„é—®é¢˜ï¼› æ±‚è§£æŸäº›å¸¦é™åˆ¶æ¡ä»¶çš„ä¸å®šæ–¹ç¨‹çš„é—®é¢˜ç­‰ç­‰ã€‚ æ•´æ•°åˆ†è§£é—®é¢˜ ç”¨ç”Ÿæˆå‡½æ•°æ±‚è§£ç‰¹æ®Šçš„é€’æ¨å…³ç³» å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šåˆ©ç”¨ç”Ÿæˆå‡½æ•°è§£å†³é—®é¢˜å…³æ³¨çš„æ˜¯å¹‚çº§æ•°çš„å½¢å¼ï¼Œå¹‚çº§æ•°æ˜¯å¦æ”¶æ•›ä¸é‡è¦ã€‚åˆ©ç”¨ç”Ÿæˆå‡½æ•°çš„æ€§è´¨ï¼ˆæ¯”å¦‚å±•å¼€æˆå¹‚çº§æ•°ï¼Œå¹‚çº§æ•°æ±‚å¯¼ä¸ç§¯åˆ†ï¼‰å¯ä»¥æ–¹ä¾¿åœ°ç”¨æ¥æ±‚è§£è®¡æ•°é—®é¢˜ã€‚ ç”Ÿæˆå‡½æ•°åˆ†ææ³• å¸¸ç”¨å‡½æ•°çš„å¹‚çº§æ•°å±•å¼€å¼ å¹¿ä¹‰äºŒé¡¹å¼ å¸¸ç”¨ç»“è®º G(n)=1(1âˆ’x)n=âˆ‘r=0âˆC(n+râˆ’1,r)xrG(n)=\\frac{1}{(1-x)^n}=\\sum_{r=0}^âˆC(n+r-1, r)x^rG(n)=(1âˆ’x)n1â€‹=âˆ‘r=0âˆâ€‹C(n+râˆ’1,r)xr ç”Ÿæˆå‡½æ•°æ±‚è§£ä¸å®šæ–¹ç¨‹è§£çš„ä¸ªæ•° åº”ç”¨ è½¬åŒ–ä¸ºä¸å®šæ–¹ç¨‹è§£çš„ä¸ªæ•°æ±‚è§£é—®é¢˜ å®¹æ–¥åŸç† ç¬¬äºŒå½¢å¼ï¼šN(Pâ€²1Pâ€²2 . . . Pâ€²n) = N âˆ’ |A1 âˆªA2 âˆª Â· Â· Â· âˆªAn| AiA_iAiâ€‹æ ‡è¯†åŒ…å«å±æ€§PiP_iPiâ€‹çš„é›†åˆ é”™ä½æ’åˆ— æ¨¡ä½™è¿ç®— åŒä½™è¿ç®—æ€§è´¨ if a â‰¡ b (mod m) &amp; c â‰¡ d (mod m) then a+c â‰¡ (b+d) (mod m) &amp; ac â‰¡ bd (mod m) (mä¸ºæ­£æ•´æ•°) aâ‰¡b(mod m)â‡’caâ‰¡cb(mod m) (câˆˆZ)a \\equiv b (mod\\space m) \\Rightarrow ca \\equiv cb (mod\\space m)\\space (c \\in Z)aâ‰¡b(mod m)â‡’caâ‰¡cb(mod m) (câˆˆZ) caâ‰¡cb(mod m) â‡’aâ‰¡b(mod m) (gcd(c,m)=1)ca \\equiv cb (\\text{mod}\\space m)\\space \\Rightarrow a \\equiv b (\\text{mod}\\space m)\\space (gcd(c,m) = 1)caâ‰¡cb(mod m) â‡’aâ‰¡b(mod m) (gcd(c,m)=1) å’Œã€ç§¯çš„æ¨¡ (a + b) mod m = ((a mod m) + (b mod m)) mod m ab modm = ((a modm) (b mod m)) mod m (mä¸ºæ­£æ•´æ•°) æœ€å¤§å…¬å› å­ gcd(a, b)æ˜¯aï¼Œbçš„çº¿æ€§ç»„åˆ æ±‚æ³•ï¼š ç´ æ•°åˆ†è§£ è¾—è½¬ç›¸é™¤æ³• åŒä½™æ–¹ç¨‹ è§£çº¿æ€§åŒä½™æ–¹ç¨‹ ax â‰¡ b (mod m) æ¨¡é€† aË‰a=1 (m)\\bar aa = 1\\space (m)aË‰a=1 (m) æ¨¡é€†å­˜åœ¨å”¯ä¸€æ€§å®šç†ï¼šgcd(a,m)=1, m&gt;1gcd(a, m) = 1,\\space m &gt; 1gcd(a,m)=1, m&gt;1åˆ™aå…³äºæ¨¡mçš„æ¨¡é€†å­˜åœ¨ä¸”æ­£å”¯ä¸€ æ±‚æ¨¡é€† a, m è¾—è½¬ç›¸é™¤ï¼Œå€’å›å»å†™æˆ1 = sa + kmçš„å½¢å¼ï¼Œså³ä¸ºæ¨¡é€† å¯æ±‚æ¨¡é€†çš„æ–¹ç¨‹è§£æ³• æ±‚æ¨¡é€† ä¸¤è¾¹åŒä¹˜æ¨¡é€†æ¶ˆæ‰ç³»æ•°a å¾—å‡ºç»“è®º æ¬§æ‹‰å‡½æ•° 1åˆ°nèŒƒå›´å†…ä¸näº’ç´ çš„æ•°çš„é›†åˆå«åšæ¬§æ‹‰å‡½æ•°å•å…ƒçš„é›†åˆï¼ˆunitsï¼‰ï¼Œå…¶æ•°é‡ä¸ºæ¬§æ‹‰å‡½æ•°Î¦(n) æ€§è´¨ p, qä¸ºç´ æ•° Î¦(n)(p)=pâˆ’1\\Phi(n)(p) = p âˆ’ 1Î¦(n)(p)=pâˆ’1 Î¦(pq)=pqâˆ’(p+qâˆ’1)=(pâˆ’1)(qâˆ’1)\\Phi(pq) = pq âˆ’ (p + q âˆ’ 1) = (p âˆ’ 1)(q âˆ’ 1)Î¦(pq)=pqâˆ’(p+qâˆ’1)=(pâˆ’1)(qâˆ’1) æ¬§æ‹‰å®šç† æ¬§æ‹‰å®šç†: aÎ¦(n)â‰¡1 (mod n)a^{\\Phi(n)} \\equiv 1 \\space (\\text{mod} \\space n)aÎ¦(n)â‰¡1 (mod n) (aæ˜¯nçš„ä¸€ä¸ªunit) Fermat Little Theoremï¼š apâˆ’1=1(mod p)a^{p-1}=1 (mod\\space p)apâˆ’1=1(mod p) (pæ˜¯ä¸€ä¸ªç´ æ•° &amp;&amp; pä¸èƒ½æ•´é™¤a) apâ‰¡a(mod p)a^p\\equiv a(\\text{mod}\\space p)apâ‰¡a(mod p) (pæ˜¯ä¸€ä¸ªç´ æ•° &amp;&amp; aä¸ºä»»æ„æ•´æ•°) RSAåŠ å¯†è§£å¯† ç´ æ•°pï¼Œqï¼Œæœ‰Ï•(pq)=(pâˆ’1)(qâˆ’1)\\phi(pq)=(p-1)(q-1)Ï•(pq)=(pâˆ’1)(qâˆ’1)ï¼Œä»¤M=pqM=pqM=pqï¼Œedâ‰¡1(mod M)â‰¡1(mod (pâˆ’1)(qâˆ’1))ed\\equiv 1(mod \\space M)\\equiv 1(mod \\space(p-1)(q-1))edâ‰¡1(mod M)â‰¡1(mod (pâˆ’1)(qâˆ’1)) è®°æ˜æ–‡ä¸ºPï¼Œå¯†æ–‡ä¸ºC æ¥æ”¶æ–¹é€‰æ‹©å¥½pï¼Œqï¼Œeç„¶åè®¡ç®—å¥½Mï¼Œdå‘é€å‡ºå» å‘é€æ–¹æ¥å—(M, d)å¹¶å‘é€å¯†æ–‡Câ‰¡Pd (mod M)C\\equiv P^d\\space (\\text{mod}\\space M)Câ‰¡Pd (mod M) æ¥æ”¶æ–¹è§£å¯†Pâ‰¡Ce (mod M)P\\equiv C^e\\space (\\text{mod}\\space M)Pâ‰¡Ce (mod M)","link":"/posts/b09d8377/"},{"title":"æŠ€æœ¯&#x2F;æŒ‡å—&#x2F;å°æŠ€å·§æ‰‹å†Œ","text":"æ¯å¤©ä¸€ä¸ªé¿å‘å°æŠ€å·§ è§£å†³ç½‘ç«™å…ƒç´ ï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰åŠ è½½ä¸å‡ºæ¥çš„æ–¹æ³• æµè§ˆå™¨ä¸‹å®¡æŸ¥è¯¥å…ƒç´ çš„URLåœ°å€ï¼Œç„¶ååœ¨æœç´¢ä»–çš„åŸŸåå¯¹åº”çš„åœ°å€ï¼ˆhttps://tools.ipip.net/domain.phpï¼‰ å°†åŸŸåè§£æ â€œxxx.xxx.xxx.xxx åŸŸåâ€ åŠ å…¥åˆ°hostsæ–‡ä»¶ä¸­ï¼ˆä¸€èˆ¬åœ¨ %SystemRoot%\\system32\\drivers\\etc\\ ç›®å½•ä¸‹ï¼‰ cmd ä¸‹ ipconfig \\flushdns åˆ·æ–°è¯•è¯• åˆ·æ–°æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœ SSR è§£å†³ç«¯å£å ç”¨é—®é¢˜ï¼š æ³•ä¸€ï¼šåœ¨ SSR é€‰é¡¹è®¾ç½®é‡Œæ”¹å˜ç«¯å£ æ³•äºŒï¼štaskkill /pid xxx -f","link":"/posts/fac7f463/"},{"title":"æŠ€æœ¯&#x2F;æŒ‡å—&#x2F;Ubuntu &amp; Windows 10 åŒç³»ç»Ÿå®‰è£…æŒ‡å—","text":"æŠ€æœ¯ ç³»ç»Ÿ Linux Ubuntu &amp; Windows 10 åŒç³»ç»Ÿå®‰è£…æŒ‡å— ç»¼è¿° Linux å‘è¡Œç‰ˆé€‰æ‹© Ubuntu é•œåƒä¸‹è½½ Rufus è½¯ä»¶çƒ§å½•é•œåƒæ–‡ä»¶åˆ°Uç›˜ Bios è®¾ç½®ä¸ Controller Mode ä¿®æ”¹ Uç›˜å¯åŠ¨å®‰è£… Ubuntu å‘è¡Œç‰ˆé€‰æ‹© RedHat ç³» RedHat å•†ä¸š CentOS ç¨³å®šã€å›½å†…ç”¨çš„å¤š Debian ç³» Debian å¼€æº Ubuntu å›¾å½¢ç•Œé¢å¥½çœ‹ã€å¤§ä¼—ã€æ˜“ç”¨ å…¶ä»– Arch æå®¢è‡³çˆ±ï¼ŒèŒæ–°æ€æ‰‹ é•œåƒä¸‹è½½ æ¦‚å¿µè§£è¯» LTS - é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼šé•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ç‰ˆæœ¬é€šå¸¸ä¸åº”ç”¨ç¨‹åºæˆ–æ“ä½œç³»ç»Ÿæœ‰å…³ï¼Œä½ ä¼šåœ¨è¾ƒé•¿çš„æ—¶é—´å†…è·å¾—å®‰å…¨ã€ç»´æŠ¤å’Œï¼ˆæœ‰æ—¶æœ‰ï¼‰åŠŸèƒ½çš„æ›´æ–°ã€‚ åŒºåˆ« Ubuntu Server å’Œ Ubuntu Desktop ç‰ˆæœ¬ çƒ§å½•é•œåƒ UltraISO å’Œ Rufus éƒ½å¯ä»¥å°† iso æ–‡ä»¶çƒ§å½•åˆ°Uç›˜ä¸­ å®‰è£…ç³»ç»Ÿ è¾ƒæ–°çš„Windows10æ”¯æŒshift+ç‚¹å‡»é‡å¯-ã€‹é«˜çº§é€‰é¡¹-ã€‹å›ºä»¶è®¾ç½® çš„æ–¹å¼è¿›å…¥BIOSè®¾ç½® é€‰æ‹©å¯åŠ¨è®¾å¤‡æ—¶å‘ç°æ²¡æœ‰Removable USB Deviceé€‰é¡¹ï¼Œåªæœ‰ä¸€ä¸ªLinpus Lite Device é€‰é¡¹ï¼ŒæŸ¥è¯å‘ç°è¯¥é€‰é¡¹å¯¹åº”çš„æ˜¯æˆ‘çš„åˆ»å½•äº†Ubuntuçš„é—ªå­˜Uç›˜ å®‰è£…åŒç³»ç»Ÿæ—¶åœ¨Ubuntuå®‰è£…ç•Œé¢ä¸€å®šè¦æ³¨æ„ç»™ç³»ç»Ÿå¼•å¯¼ä¸€ä¸ªåˆ†åŒºï¼šå¯¹EFIæ–¹å¼çš„ç”µè„‘è¦åˆ†å‡ºä¸€ä¸ªefiæ ¼å¼çš„åˆ†åŒºä½œä¸ºUbuntuç³»ç»Ÿçš„å¼•å¯¼ï¼ˆWindowsç³»ç»Ÿçš„å¼•å¯¼ä¹Ÿæ˜¯è¿™ä¸ªæ ¼å¼ï¼Œå«Windows Boot Managerï¼‰ï¼Œè€Œä¼ ç»ŸBIOSæ–¹å¼çš„ç”µè„‘åªéœ€è¦åˆ†å‡ºä¸€ä¸ªext4çš„åˆ†åŒº/bootã€‚ çŸ¥è¯†ç‚¹ å›ºä»¶ å®Œæˆè®¡ç®—æœºåŠ ç”µååˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œçš„ç¡¬ä»¶è®¾å¤‡ ç£ç›˜ ç£ç›˜åŸºç¡€çŸ¥è¯†ã€åˆ†åŒºçŸ¥è¯†ï¼ˆåŒ…æ‹¬åˆ†åŒºæ ¼å¼MBRä¸GPTçš„åŒºåˆ«ä»¥åŠå¯¹åº”çš„ç³»ç»Ÿå¼•å¯¼æœºåˆ¶EFI/UEFIä¸ä¼ ç»ŸBiosæ¨¡å¼ï¼‰ç£ç›˜çŸ¥è¯†_Forskamseâ€™s Blog-CSDNåšå®¢","link":"/posts/5258147c/"},{"title":"æŠ€æœ¯&#x2F;æŒ‡å—&#x2F;Hexo icarus åšå®¢ç»´æŠ¤","text":"åŸºæœ¬æŒ‡ä»¤ åŸºæœ¬æŒ‡ä»¤123456789/*npmæŒ‡ä»¤*/npm install/uninstall xxx//æ‰§è¡Œpackage.jsonä¸­å®šä¹‰çš„è„šæœ¬npm run server/*hexoæŒ‡ä»¤*/hexo cl &amp;&amp; hexo g &amp;&amp; hexo s //æ¸…ç†ï¼Œç”Ÿæˆï¼Œæœ¬åœ°æœåŠ¡å™¨hexo d //éƒ¨ç½²hexagon -l //æŸ¥çœ‹æ’ä»¶ æ›´å¤š Hexo æŒ‡ä»¤ ä¼ é€é—¨ Front-matter å‚æ•° æè¿° é»˜è®¤å€¼ layout å¸ƒå±€ title æ ‡é¢˜ æ–‡ç« çš„æ–‡ä»¶å date å»ºç«‹æ—¥æœŸ æ–‡ä»¶å»ºç«‹æ—¥æœŸ updated æ›´æ–°æ—¥æœŸ æ–‡ä»¶æ›´æ–°æ—¥æœŸ comments å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ true tags æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ categories åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ permalink è¦†ç›–æ–‡ç« ç½‘å€ keywords ä»…ç”¨äº meta æ ‡ç­¾å’Œ Open Graph çš„å…³é”®è¯ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ excerpt æ‘˜è¦ widget icarus ä¸»é¢˜ç©ºé—´ æ ‡ç­¾æ’ä»¶ Embed å¢å¼ºäº† markdown çš„åŠŸèƒ½çš„ä¸€ç³»åˆ—æ’ä»¶ info: embed è¯­æ³•ä¸è¦åŒ…è£¹åœ¨åå¼•å·ä¸­ï¼Œä¸”å†’å·åé¢ä¸è¦ç©ºæ ¼ï¼ï¼ å®˜æ–¹æ–‡æ¡£ å®˜æ–¹æ’ä»¶æ–‡æ¡£ å…¶ä»–æ’ä»¶ æ¢å®æ–¹æ³•ï¼šhexo.io æœç´¢ embed è‡ªå·±åšï¼š&lt;embed&gt; hexo-github-card hexo-pdf hexo-tag-bilibili hexo-tag-douban hexo-tag-bootstrap æ’ä»¶ Components textcolor - Convey meaning through color with a handful of emphasis utility classes. button - Inserts a button with target links, text and specified color. ** text label - Inserts a label with text and specified color. pill - Inserts a label with text and specified color. ** text badge - Inserts a badge with text. alert - Inserts alert messages with text and specified color. card - Add a card control ** carddeck - use with cards to combine multiples ** cardgroup - similar to carddeck jumbo - jumbotron carousel - carousel tag - each img within will create a new â€œslideâ€ row - add a grid row col - add a column within a grid row ä½¿ç”¨ç¤ºä¾‹ ï¼ğŸ±â€ğŸä¼ é€é—¨ğŸ±â€ğŸ ä¸¾äº¿ä¸ªæ —å­ æ¸²æŸ“æ•ˆæœå› cssè€Œå¼‚ badge text alert å—çº§ å±æ€§ï¼šwaring danger success info Best check yo self, youâ€™re not looking too good. Change a few things up and try submitting again. You successfully read this important alert message. This alert needs your attention, but itâ€™s not super important. textcolor ï¼ˆæš‚æ— cssæ¸²æŸ“ï¼‰ Fusce dapibus, tellus ac cursus commodo, tortor mauris nibh. Nullam id dolor id nibh ultricies vehicula ut id elit. Duis mollis, est non commodo luctus, nisi erat porttitor ligula. Maecenas sed diam eget risus varius blandit sit amet non magna. Etiam porta sem malesuada magna mollis euismod. Donec ullamcorper nulla non metus auctor fringilla. è¡Œå†…label æ”¯æŒå±æ€§ default warning success danger primary info default warinng success danger primary info è¡Œå†…btn æ”¯æŒå±æ€§ primary success warning danger info btn btn btn btn btn btn æ’å…¥HTMLæ¥å¢å¼ºé˜…è¯»ä½“éªŒ Bulma æ˜¯ä¸€ä¸ªCSSæ¡†æ¶ã€‚æŸ¥çœ‹Bulmaæ–‡æ¡£ã€‚ CSS æ¡†æ¶ä¸åŒ…å«jsï¼Œæ¶‰åŠç‚¹å‡»äº‹ä»¶éœ€è¦è‡ªè¡Œå¤„ç†ï¼ Note ä¸ç”¨jsçš„æƒ…å†µä¸‹é€‚åˆçš„ç»„ä»¶æœ‰ï¼šbuttonï¼Œdropdownï¼Œmessage Click me Overview Modifiers Grid Form Elements Components Layout More Hover me You can insert any type of content within the dropdown menu. ## åšå®¢å¤‡ä»½è¿ç§»","link":"/posts/6e7bdc/"},{"title":"æŠ€æœ¯&#x2F;æŒ‡å—&#x2F;IDE&amp;Editor Shortcuts Query","text":"å„å¤§ IDE &amp; Editor å¿«æ·é”®å¯¹ç…§è¡¨ æ“ä½œ IntelliJ IDEA Visual Studio Code Visual Studio ç¼–è¾‘ Editing æ ¼å¼åŒ–ä»£ç  Format Code Ctrl+Shift+L Shift+Alt+F åˆ é™¤è¡Œ Delete Line Ctrl+Y Ctrl+Shift+K é€‰ä¸­è¡Œ Select Line Ctrl+L å¤åˆ¶è¡Œ Copy Line Ctrl+C Ctrl+C å‰ªåˆ‡è¡Œ Cut Line Ctrl+X Ctrl+X é‡å¤è¡Œ Duplicate Line Ctrl+D Alt+Shift+Up/Down ç§»åŠ¨è¡Œ Move Line Alt+Shift+Up/Down Alt+Up/Down æ¢è¡Œ New Line Shift+Enter Shift+Enter æ’å…¥ä¸Šè¡Œ Insert Line Above Ctrl+Alt+Enter Ctrl+Shift+Enter æ³¨é‡Š Comment Ctrl+/ Ctrl+/ å—æ³¨é‡Š Block Comment Ctrl+Shift+/ Ctrl+Shift+/ é€‰æ‹©å— Block Selection Ctrl+W Ctrl+Shift+W Alt+Shift+Right/Left é€‰æ‹©ç›¸åŒå†…å®¹ Alt+J Ctrl+D ä¼˜åŒ–å¯¼åŒ… Optimize Imports Ctrl+Alt+O ä»£ç æç¤º Code Assist Ctrl+Space Ctrl+Shift+Space ä»£ç è¡¥å…¨ Code Completion Ctrl+Shift+Enter å¿«é€Ÿä¿®å¤ Quick Fix Alt+Enter Quick Access Double Shift å‚æ•°ä¿¡æ¯ Parameter Info Ctrl+P æŸ¥çœ‹APIæ–‡æ¡£ Quick Document Ctrl+Q æ–°å»ºæ–‡ä»¶ New File Ctrl+N æ¿€æ´»ç¼–è¾‘å™¨ Active Editor Esc å…¨éƒ¨å°å†™ å…¨éƒ¨å¤§å†™ å¯¼èˆª Navigation ä¸Š/ä¸‹ä¸€ä¸ªTab Alt+Left/Right Ctrl+PgUp/PgDn ä¸Š/ä¸‹ä¸€ä¸ª Ctrl+Alt+Left/Right ä¸Šä¸€å¤„ä¿®æ”¹çš„åœ°æ–¹ Ctrl+Shift+Backspace è·³è½¬åˆ°è¡Œ Go To Line Ctrl+G Ctrl+G å¤§çº²/ç»“æ„ Outline/Structure Ctrl+F12 æŸ¥çœ‹ç±»å±‚çº§ Type Hierarchy æŸ¥çœ‹æœ€è¿‘æ–‡ä»¶ Recent File Ctrl+E è·³åˆ°æ–‡ä»¶ Go To File åˆ‡æ¢è§†å›¾ Switch View é‡æ„ Refator é‡å‘½å Rename Shift+F6 æå–å˜é‡ Extract Variable æå–æ–¹æ³• Extract Method æœç´¢ Find æŸ¥æ‰¾ Find Ctrl+F Ctrl+L Ctrl+F æŸ¥æ‰¾ä¸‹ä¸€ä¸ª æŸ¥æ‰¾ä¸Šä¸€ä¸ª å…¨å±€æœç´¢","link":"/posts/fde8aecf/"},{"title":"æŠ€æœ¯&#x2F;å¼€å‘&#x2F;AndroidLearning","text":"Android Studio å…¥å‘ç¬”è®° Android Studio è‡ªåŠ¨åˆ›å»º resource id å¤±è´¥ é‡å¯ ASã€‚ Sync with file system åŒæ­¥ä¸€ä¸‹ï¼Ÿ æŸ¥çœ‹ R.java ä¸­çš„ id ã€‚Project ä¸‹ä¾æ¬¡æ‰“å¼€appâ€“&gt;buildâ€“&gt;generatedâ€“&gt;sourceâ€“&gt;râ€“&gt;debugï¼Œåœ¨debugä¸­çš„ä¸¤ä¸ªé€‰é¡¹çš„å­æ–‡ä»¶ä¸­åˆ†åˆ«æœ‰æœ‰ä¸€ä¸ªRæ–‡ä»¶ï¼Œæ—¢æˆ‘ä»¬è¦æ‰¾çš„R.javaæ–‡ä»¶ã€‚ï¼ˆæˆ–è€…ç›´æ¥shift+shiftæŸ¥æ‰¾R.java","link":"/posts/fae5c3cd/"},{"title":"æŠ€æœ¯&#x2F;æŒ‡å—&#x2F;CMD æŒ‡ä»¤å¤‡å¿˜","text":"CMD æŒ‡ä»¤å¤‡å¿˜ Process ç±» tasklist åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹ taskkill /pid xxx -f æ€æ­»æŒ‡å®šid process","link":"/posts/369ceeb5/"},{"title":"æŠ€æœ¯&#x2F;å·¥å…·&#x2F;IDEA å­¦ä¹ ç¬”è®°","text":"IDEAåŸºç¡€åŠŸèƒ½æ¦‚è§ˆï¼š shortcut(edit, ä»£ç ç‰‡æ®µ, åŠŸèƒ½), ç‰ˆæœ¬æ§åˆ¶(VCS: git, github, local history) Debug, javadoc generator, database, web deployment project&amp;module ç­‰æ¦‚å¿µ, æ¨¡æ¿, é¡¹ç›®ç»“æ„æŸ¥è¯¢ç®¡ç† Tips ä»£ç æ®µï¼šmain soutæ ‡å‡†è¾“å‡º soutvè¾“å‡ºå˜é‡ï¼Œsoutmè¾“å‡ºæ–¹æ³•åï¼Œsoutpè¾“å‡ºå‘½ä»¤è¡Œå‚æ•° å˜é‡å.soutè¾“å‡ºå˜é‡ iterå¢å¼ºå‹forå¾ªç¯ å¼•ç”¨å.for è¿­ä»£æŒ‡å®šå¼•ç”¨ç±»å‹ å®ä¾‹å.forié¡ºåºéå† xxx.forrå€’åºéå† ifn --â€œif xxx is nullâ€, inn --â€œif not nullâ€ xxx.nn, xxx.ifn JavaLea æ¡ä»¶æ–­ç‚¹ --å³é”®æ–­ç‚¹å¤„ ctrl+u æŸ¥çœ‹è¡¨è¾¾å¼çš„å€¼ Tools javadoc generator: Local: zh_CN; Other command line args: encoding UTF-8 -charset UTF-8 IDE å¸¸ç”¨å¿«æ·é”®å¯¹ç…§è¡¨ï¼ˆåŸå§‹æ¥æº: https://www.jianshu.com/p/6267a7d76018 ) æ“ä½œ eclipse IDEA Visual Studio Code Sublime ç¼–è¾‘ Editing æ ¼å¼åŒ–ä»£ç  Format Code Ctrl+Shift+F Ctrl+Shift+L Shift+Alt+F æ—  åˆ é™¤è¡Œ Delete Line Ctrl+D Ctrl+Y Ctrl+Shift+K Ctrl+Shift+K å¤åˆ¶è¡Œ Copy Line Ctrl+C Ctrl+C Ctrl+C å‰ªåˆ‡è¡Œ Cut Line Ctrl+X Ctrl+X Ctrl+X é‡å¤è¡Œ Duplicate Line Ctrl+Shift+Up/Down Ctrl+D Alt+Shift+Up/Down Ctrl+Shift+D ç§»åŠ¨è¡Œ Move Line Alt+Up/Down Alt+Shift+Up/Down Alt+Up/Down Ctrl+Shift+Up/Down æ¢è¡Œ New Line Shift+Enter Shift+Enter Shift+Enter Ctrl+Enter æ’å…¥ä¸Šè¡Œ Insert Line Above Ctrl+Shift+Enter Ctrl+Alt+Enter Ctrl+Shift+Enter Ctrl+Shift+Enter æ³¨é‡Š Comment Ctrl+/ Ctrl+/ Ctrl+/ Ctrl+/ å—æ³¨é‡Š Block Comment Ctrl+Shift+/ Ctrl+Shift+\\ Ctrl+Shift+/ Ctrl+Shift+/ é€‰æ‹©å— Block Selection Alt+Shift+Up/Down Ctrl+W Ctrl+Shift+W Alt+Shift+Right/Left ä¼˜åŒ–å¯¼åŒ… Optimize Imports Ctrl+Shift+O Ctrl+Alt+O ä»£ç æç¤º Code Assist Alt+/ Ctrl+Space Ctrl+Shift+Space ä»£ç è¡¥å…¨ Code Completion Ctrl+Alt+/æ¯”è¾ƒlow Ctrl+Shift+Enter å¿«é€Ÿä¿®å¤ Quick Fix Ctrl+1 Alt+Enter Quick Access Ctrl+3 Double Shift å‚æ•°ä¿¡æ¯ Parameter Info Alt+Shift+/è¿˜ä¸å¦‚ Alt+/ Ctrl+P æŸ¥çœ‹APIæ–‡æ¡£ Quick Document Ctrl+Q æ–°å»ºæ–‡ä»¶ New File Alt+Shift+N Ctrl+N æ¿€æ´»ç¼–è¾‘å™¨ Active Editor F12 Esc å…¨éƒ¨å°å†™ Ctrl+Shift+Y å…¨éƒ¨å¤§å†™ Ctrl+Shift+X å¯¼èˆª Navigation ä¸Š/ä¸‹ä¸€ä¸ªTab Ctrl+PgUp/PgDn Alt+Left/Right Ctrl+PgUp/PgDn ä¸Š/ä¸‹ä¸€ä¸ª Alt+Left/Right Ctrl+Alt+Left/Right ä¸Šä¸€å¤„ä¿®æ”¹çš„åœ°æ–¹ Ctrl+Q Ctrl+Shift+Backspace è·³è½¬åˆ°è¡Œ Go To Line Ctrl+L Ctrl+G å¤§çº²/ç»“æ„ Outline/Structure Ctrl+O Ctrl+F12 æŸ¥çœ‹ç±»å±‚çº§ Type Hierarchy Ctrl+T æŸ¥çœ‹æœ€è¿‘æ–‡ä»¶ Recent File Ctrl+E Ctrl+F6 Ctrl+E è·³åˆ°æ–‡ä»¶ Go To File Ctrl+Shift+N åˆ‡æ¢è§†å›¾ Switch View Ctrl+F7 é‡æ„ Refator é‡å‘½å Rename Alt+Shift+R Shift+F6 æå–å˜é‡ Extract Variable Alt+Shift+L æå–æ–¹æ³• Extract Method Alt+Shift+M æœç´¢ Find æŸ¥æ‰¾ä¸‹ä¸€ä¸ª Ctrl+K æŸ¥æ‰¾ä¸Šä¸€ä¸ª Ctrl+Shfit+K å…¨å±€æœç´¢ Ctrl+H","link":"/posts/5a1e79ff/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;Golang é¿å‘æ‰‹å†Œ","text":"&quot;{&quot;çš„ä½ç½®è¦æ³¨æ„ åˆ†å·æ—  å¤šå˜é‡å£°æ˜ï¼š //ç±»å‹ç›¸åŒå¤šä¸ªå˜é‡, éå…¨å±€å˜é‡ var vname1, vname2, vname3 type vname1, vname2, vname3 = v1, v2, v3 var vname1, vname2, vname3 = v1, v2, v3 // å’Œ python å¾ˆåƒ,ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜ç±»å‹ï¼Œè‡ªåŠ¨æ¨æ–­ vname1, vname2, vname3 := v1, v2, v3 // å‡ºç°åœ¨ := å·¦ä¾§çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»è¢«å£°æ˜è¿‡çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ 12345// è¿™ç§å› å¼åˆ†è§£å…³é”®å­—çš„å†™æ³•ä¸€èˆ¬ç”¨äºå£°æ˜å…¨å±€å˜é‡var ( vname1 v_type1 vname2 v_type2) é»˜è®¤å€¼ å¹¶è¡Œç‰¹æ€§ï¼šå¤šä¸ªè¿”å›å€¼ï¼Œå¹¶è¡Œèµ‹å€¼ å¸¸é‡å¯ä»¥ç”¨len(), cap(), unsafe.Sizeof()å‡½æ•°è®¡ç®—è¡¨è¾¾å¼çš„å€¼ã€‚å¸¸é‡è¡¨è¾¾å¼ä¸­ï¼Œå‡½æ•°å¿…é¡»æ˜¯å†…ç½®å‡½æ•°ï¼Œå¦åˆ™ç¼–è¯‘ä¸è¿‡ï¼š a = a++ // è¿™æ˜¯ä¸å…è®¸çš„ï¼Œä¼šå‡ºç°å˜å¼‚é”™è¯¯ syntax error: unexpected ++ at end of statement ! Go çš„è‡ªå¢ï¼Œè‡ªå‡åªèƒ½ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨ï¼Œè€Œä¸èƒ½ç”¨äºèµ‹å€¼è¯­å¥ã€‚ for each range loop !!! å‡½æ•°é—­åŒ…ï¼ˆåŒä¸€ä¸ªè¢«èµ‹äºˆé—­åŒ…å‡½æ•°çš„å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½ä¼šå°†åŒ¿åå‡½æ•°å†…çš„å±€éƒ¨å˜é‡è®°å¿†ä¸‹æ¥ï¼‰ 12345678910111213141516package mainimport \"fmt\"func main() { add_func := add(1,2) fmt.Println(add_func(1,1)) fmt.Println(add_func(0,0)) fmt.Println(add_func(2,2))} // é—­åŒ…ä½¿ç”¨æ–¹æ³•func add(x1, x2 int) func(x3 int,x4 int)(int,int,int) { i := 0 return func(x3 int,x4 int) (int,int,int){ i++ return i,x1+x2,x3+x4 }} := cannot be used globally!!! å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½æœ‰é»˜è®¤å€¼ ç»“æ„ä½“ä¸æ•°ç»„çš„åŒ¿å append()å¿…é¡»è¦ç”¨å®ƒçš„è¿”å›å€¼ï¼ˆåŸå› å¾ˆç®€å•ï¼Œå…¶å‚æ•°åˆ—è¡¨ç”¨çš„æ˜¯å€¼ä¼ é€’è€Œä¸æ˜¯æŒ‡é’ˆä¼ é€’ï¼‰ mapå¿…é¡»è¦åˆå§‹åŒ–ï¼ˆç”¨makeï¼ˆï¼‰æˆ–è€…å£°æ˜çš„æ—¶å€™ç›´æ¥èµ‹å€¼ï¼‰ï¼Œå¦åˆ™åªæ˜¯ä¸ªnilï¼Œæ— æ³•å¯¹å…¶è¿›è¡Œèµ‹å€¼ï¼ï¼ï¼ï¼Ÿï¼Ÿ !!!GOæ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ï¼ï¼ï¼éœ€è¦çµæ´»ä½¿ç”¨æ˜¾ç¤ºç±»å‹è½¬æ¢ï¼ å°†ä¸€ä¸ªç»“æ„ä½“èµ‹å€¼ç»™ä¸€ä¸ªæ¥å£å˜é‡å¯ä»¥æƒ³è±¡æˆè¯¥æ¥å£æˆä¸ºäº†ä¸€ä¸ªæŒ‡å‘è¯¥ç»“æ„ä½“çš„â€œæŒ‡é’ˆâ€ é€šé“chanç±»å‹æ˜¯â€œå€¼ç›¸å…³â€çš„ï¼Œç›¸åŒchanå€¼æè¿°åŒä¸€ä¸ªé€šé“ï¼Œchanç”¨closeï¼ˆï¼‰å…³é—­ï¼Œï¼‰æœ‰ç‚¹åƒfile descriptorï¼Ÿ ä¸¤ä¸ªå¹¶å‘çº¿ç¨‹æ—¶é—´å‰åå…³ç³»ä¸ç¡®å®šï¼ŒåŒä¸€ä¸ªç¨‹åºå¯èƒ½æœ‰ä¸åŒç»“æœ closeä¸€ä¸ªchanåè¿˜èƒ½æ¥æ”¶ï¼Œä¸å¯å‘é€","link":"/posts/c737d2b3/"},{"title":"æ‚é¡¹&#x2F;Hexo&#39;s tag","text":"Hexo çš„æ’ä»¶æ‰©å±•è°ƒè¯•é¡µé¢ classDiagram class NotificationManager { +notify() +createNotificationChannel() } class NotificationChannel class NotificationCompat { +Builder() } NotificationCompat NotificationChannel: åˆ›å»ºã€ç®¡ç† NotificationManager --> Notification: å‘é€ Notification --* NotificationChannel: å¯¹åº”","link":"/posts/827933de/"},{"title":"æŠ€æœ¯&#x2F;è¯­è¨€&#x2F;CæŒ‡é’ˆæ‰«ç›²","text":"é¦–å…ˆçœ‹çœ‹å‡½æ•°æŒ‡é’ˆï¼Œå‡½æ•°åï¼Œä»¥åŠå®ƒä»¬åˆ†åˆ«ä¸*å’Œ&amp;ç»“åˆåçš„å€¼ ç¨‹åºæ¸…å• 12345678910111213141516171819#include&lt;stdio.h&gt;void func(void){puts(\"æˆåŠŸè°ƒç”¨\");};int main(){ void(*p_func)(void)=func; puts(\"funcæ˜¯å‡½æ•°åï¼Œp_funcæ˜¯æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆæœ‰:\"); printf(\"func=%p\\n*func=%p\\n&amp;func=%p\\ \\np_func=%p\\n*p_func=%p\\ \\n&amp;p_func=%p\",func,*func,&amp;func,p_func,\\ *p_func,&amp;p_func); //puts(\"\\næ¥ç€æˆ‘ä»¬å°è¯•ç”¨ä¸Šè¿°å˜é‡è°ƒç”¨å‡½æ•°:\"); //func(); //(*func)(); //(&amp;func)(); //(p_func)(); //(*p_func)(); return 0;} æ‰§è¡Œç»“æœ 1234567funcæ˜¯å‡½æ•°åï¼Œp_funcæ˜¯æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆæœ‰:func=004015C0*func=004015C0&amp;func=004015C0p_func=004015C0*p_func=004015C0&amp;p_func=0061FECC å¯è§func,*func,&amp;func,p_func,*p_funcä»£è¡¨çš„å€¼éƒ½æ˜¯func()å‡½æ•°çš„åœ°å€ ï¼ˆ &amp;p_funcæ˜¯æŒ‡é’ˆçš„åœ°å€ ï¼‰ å†æ¥çœ‹çœ‹å°†å®ƒä»¬åˆ†åˆ«ä½œä¸ºå‡½æ•°åçš„ç»“æœ ç¨‹åºæ¸…å• 12345678910111213141516171819#include&lt;stdio.h&gt;void func(void){puts(\"æˆåŠŸè°ƒç”¨\");};int main(){ void(*p_func)(void)=func; puts(\"funcæ˜¯å‡½æ•°åï¼Œp_funcæ˜¯æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆæœ‰:\"); printf(\"func=%p\\n*func=%p\\n&amp;func=%p\\ \\np_func=%p\\n*p_func=%p\\ \\n&amp;p_func=%p\",func,*func,&amp;func,p_func,\\ *p_func,&amp;p_func); puts(\"\\næ¥ç€æˆ‘ä»¬å°è¯•ç”¨ä¸Šè¿°å˜é‡è°ƒç”¨å‡½æ•°:\"); func(); (*func)(); (&amp;func)(); (p_func)(); (*p_func)(); return 0;} funcï¼Œp_funcï¼Œ*p_funcï¼Œ*funcï¼Œ&amp;funcä½œå‡½æ•°å æºç¨‹åº 12345678 puts(\"\\næ¥ç€æˆ‘ä»¬å°è¯•ç”¨ä¸Šè¿°å˜é‡è°ƒç”¨å‡½æ•°:\"); func(); (*func)(); (&amp;func)(); (p_func)(); (*p_func)(); return 0;} ç¼–è¯‘è¿è¡Œç»“æœ 12345678910111213funcæ˜¯å‡½æ•°åï¼Œp_funcæ˜¯æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆæœ‰:func=004015C0*func=004015C0&amp;func=004015C0p_func=004015C0*p_func=004015C0&amp;p_func=0061FECCæ¥ç€æˆ‘ä»¬å°è¯•ç”¨ä¸Šè¿°å˜é‡è°ƒç”¨å‡½æ•°:æˆåŠŸè°ƒç”¨æˆåŠŸè°ƒç”¨æˆåŠŸè°ƒç”¨æˆåŠŸè°ƒç”¨æˆåŠŸè°ƒç”¨ å¯è§funcï¼Œp_funcï¼Œ*p_funcï¼Œ*funcï¼Œ&amp;funcä½œå‡½æ•°åå‡å¯ä»¥å®ç°å‡½æ•°è°ƒç”¨","link":"/posts/f1e4bda1/"},{"title":"ç®—æ³•&#x2F;å›åˆåˆ¶æˆ˜æ–—","text":"ä¸€å°é“Cè¯­è¨€é¢˜å¸¦æ¥çš„ä¹è¶£ è¦ç”¨æ¸¸æˆçš„ç©æ³•æ‰“è´¥æ¸¸æˆçš„æƒ…æ™¯é¢˜! å¯¹äºä»¥ä¸‹é¢˜ç›®ï¼š æŸæ¸¸æˆè§„åˆ™ä¸­ï¼Œç”²ä¹™åŒæ–¹æ¯ä¸ªå›åˆçš„æˆ˜æ–—æ€»æ˜¯æœ‰ä¸€æ–¹èƒœåˆ©ï¼Œä¸€æ–¹å¤±è´¥ã€‚æ¸¸æˆè§„å®šï¼šå¤±è´¥çš„ä¸€æ–¹è¦æŠŠè‡ªå·±çš„ä½“åŠ›å€¼çš„1/4åŠ ç»™èƒœåˆ©çš„ä¸€æ–¹ã€‚ä¾‹å¦‚ï¼šå¦‚æœåŒæ–¹ä½“åŠ›å€¼å½“å‰éƒ½æ˜¯4ï¼Œåˆ™ç»è¿‡ä¸€è½®æˆ˜æ–—åï¼ŒåŒæ–¹çš„ä½“åŠ›å€¼ä¼šå˜ä¸ºï¼š5ï¼Œ3ã€‚ç°åœ¨å·²çŸ¥ï¼šåŒæ–¹å¼€å§‹æ—¶çš„ä½“åŠ›å€¼ç”²ï¼š1000ï¼Œä¹™ï¼š2000ã€‚å‡è®¾æˆ˜æ–—ä¸­ï¼Œç”²ä¹™è·èƒœçš„æ¦‚ç‡éƒ½æ˜¯50%ï¼Œæ±‚è§£ï¼šåŒæ–¹ç»è¿‡4ä¸ªå›åˆçš„æˆ˜æ–—ï¼Œä½“åŠ›å€¼ä¹‹å·®å°äº1000çš„ç†è®ºæ¦‚ç‡ã€‚ ç”¨åŸºç¡€æ¨¡æ‹Ÿç®—æ³•æ¥è§£å†³ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;stdio.h&gt;#define all 16//æ‰€æœ‰å¯èƒ½çš„ç»“æœæ•°ç›®int exchange(double * x,double * y) //xä¸ºå¸æ”¶è¡€é‡æ–¹ { double t; t=(*y)*0.25;(*x)+=t;(*y)-=t; return 0; } int main(){ int js=0; double x=1000,y=2000; //ç¾å¥½çš„æ¸¸æˆæ¨¡æ‹Ÿå¼€å§‹äº† for(int i=0;i&lt;=1;i++) { double ax=x,ay=y;//å­˜æ¡£ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤± i?exchange(&amp;x,&amp;y):exchange(&amp;y,&amp;x); //iåˆ¤æ–­ç”²ï¼ˆxï¼‰æ˜¯å¦èµ¢å¾—ä¸€å›åˆï¼Œå¹¶æ”¹å˜è¡€æ¡ for(int i=0;i&lt;=1;i++) { double bx=x,by=y; i?exchange(&amp;x,&amp;y):exchange(&amp;y,&amp;x); for(int i=0;i&lt;=1;i++) { double cx=x,cy=y; i?exchange(&amp;x,&amp;y):exchange(&amp;y,&amp;x); for(int i=0;i&lt;=1;i++) { double dx=x,dy=y; i?exchange(&amp;x,&amp;y):exchange(&amp;y,&amp;x); if(x-y&lt;1000&amp;&amp;x-y&gt;-1000) js++; x=dx;y=dy; //é‡æ–°è¯»æ¡£ï¼Œå¼€å§‹ä¸‹ä¸€è½®æ¨¡æ‹Ÿ } x=cx;y=cy;//è¯»æ¡£ï¼Œä½™åŒ } x=bx;y=by; } x=ax;y=ay; } printf(\"å››å›åˆåä½“åŠ›å€¼å·®&lt;1000çš„ç†è®ºæ¦‚ç‡:\\n%f\",js*1.0/all); return 0;} æ˜¯ä¸æ˜¯ç‰¹åƒæ‰“æ¸¸æˆåˆ·å…³å‘¢?( ^ v ^ )","link":"/posts/aee17ffb/"}],"tags":[{"name":"é¢˜è§£","slug":"é¢˜è§£","link":"/tags/%E9%A2%98%E8%A7%A3/"},{"name":"AI","slug":"AI","link":"/tags/AI/"},{"name":"NLP","slug":"NLP","link":"/tags/NLP/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","link":"/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"æœç´¢","slug":"æœç´¢","link":"/tags/%E6%90%9C%E7%B4%A2/"},{"name":"é€’å½’","slug":"é€’å½’","link":"/tags/%E9%80%92%E5%BD%92/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","link":"/tags/%E8%B4%AA%E5%BF%83/"},{"name":"æ’åº","slug":"æ’åº","link":"/tags/%E6%8E%92%E5%BA%8F/"},{"name":"å›¾","slug":"å›¾","link":"/tags/%E5%9B%BE/"},{"name":"Command","slug":"Command","link":"/tags/Command/"},{"name":"è¸©å‘","slug":"è¸©å‘","link":"/tags/%E8%B8%A9%E5%9D%91/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"storage","slug":"storage","link":"/tags/storage/"},{"name":"Android","slug":"Android","link":"/tags/Android/"},{"name":"Kotlin","slug":"Kotlin","link":"/tags/Kotlin/"},{"name":"Math","slug":"Math","link":"/tags/Math/"},{"name":"OS","slug":"OS","link":"/tags/OS/"},{"name":"Go","slug":"Go","link":"/tags/Go/"},{"name":"C&#x2F;C++","slug":"C-C","link":"/tags/C-C/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"Latex","slug":"Latex","link":"/tags/Latex/"}],"categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","link":"/categories/%E6%9D%82%E9%A1%B9/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/categories/%E7%AE%97%E6%B3%95/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","link":"/categories/%E6%8A%80%E6%9C%AF/"},{"name":"æŒ‡å—","slug":"æŠ€æœ¯/æŒ‡å—","link":"/categories/%E6%8A%80%E6%9C%AF/%E6%8C%87%E5%8D%97/"},{"name":"å·¥å…·","slug":"æŠ€æœ¯/å·¥å…·","link":"/categories/%E6%8A%80%E6%9C%AF/%E5%B7%A5%E5%85%B7/"},{"name":"å¼€å‘","slug":"æŠ€æœ¯/å¼€å‘","link":"/categories/%E6%8A%80%E6%9C%AF/%E5%BC%80%E5%8F%91/"},{"name":"ç¬”è®°","slug":"æŠ€æœ¯/ç¬”è®°","link":"/categories/%E6%8A%80%E6%9C%AF/%E7%AC%94%E8%AE%B0/"},{"name":"è¯­è¨€","slug":"æŠ€æœ¯/è¯­è¨€","link":"/categories/%E6%8A%80%E6%9C%AF/%E8%AF%AD%E8%A8%80/"}]}